(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function lm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function yy(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var r=l.default;if(typeof r=="function"){var s=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),s}var Lc={exports:{}},Rs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function vy(){if(bg)return Rs;bg=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:l,type:i,key:f,ref:c!==void 0?c:null,props:u}}return Rs.Fragment=r,Rs.jsx=s,Rs.jsxs=s,Rs}var xg;function by(){return xg||(xg=1,Lc.exports=vy()),Lc.exports}var h=by(),Bc={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function xy(){if(wg)return Te;wg=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,R={};function j(T,H,I){this.props=T,this.context=H,this.refs=R,this.updater=I||S}j.prototype.isReactComponent={},j.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function D(){}D.prototype=j.prototype;function C(T,H,I){this.props=T,this.context=H,this.refs=R,this.updater=I||S}var A=C.prototype=new D;A.constructor=C,_(A,j.prototype),A.isPureReactComponent=!0;var q=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function ee(T,H,I,X,re,ie){return I=ie.ref,{$$typeof:l,type:T,key:H,ref:I!==void 0?I:null,props:ie}}function G(T,H){return ee(T.type,H,void 0,void 0,void 0,T.props)}function ne(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function P(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(I){return H[I]})}var me=/\/+/g;function ue(T,H){return typeof T=="object"&&T!==null&&T.key!=null?P(""+T.key):H.toString(36)}function oe(){}function xe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(oe,oe):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ae(T,H,I,X,re){var ie=typeof T;(ie==="undefined"||ie==="boolean")&&(T=null);var te=!1;if(T===null)te=!0;else switch(ie){case"bigint":case"string":case"number":te=!0;break;case"object":switch(T.$$typeof){case l:case r:te=!0;break;case y:return te=T._init,ae(te(T._payload),H,I,X,re)}}if(te)return re=re(T),te=X===""?"."+ue(T,0):X,q(re)?(I="",te!=null&&(I=te.replace(me,"$&/")+"/"),ae(re,H,I,"",function(Ue){return Ue})):re!=null&&(ne(re)&&(re=G(re,I+(re.key==null||T&&T.key===re.key?"":(""+re.key).replace(me,"$&/")+"/")+te)),H.push(re)),1;te=0;var _e=X===""?".":X+":";if(q(T))for(var he=0;he<T.length;he++)X=T[he],ie=_e+ue(X,he),te+=ae(X,H,I,ie,re);else if(he=x(T),typeof he=="function")for(T=he.call(T),he=0;!(X=T.next()).done;)X=X.value,ie=_e+ue(X,he++),te+=ae(X,H,I,ie,re);else if(ie==="object"){if(typeof T.then=="function")return ae(xe(T),H,I,X,re);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return te}function M(T,H,I){if(T==null)return T;var X=[],re=0;return ae(T,X,"","",function(ie){return H.call(I,ie,re++)}),X}function Y(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(I){(T._status===0||T._status===-1)&&(T._status=1,T._result=I)},function(I){(T._status===0||T._status===-1)&&(T._status=2,T._result=I)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var F=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function K(){}return Te.Children={map:M,forEach:function(T,H,I){M(T,function(){H.apply(this,arguments)},I)},count:function(T){var H=0;return M(T,function(){H++}),H},toArray:function(T){return M(T,function(H){return H})||[]},only:function(T){if(!ne(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Te.Component=j,Te.Fragment=s,Te.Profiler=c,Te.PureComponent=C,Te.StrictMode=i,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},Te.cache=function(T){return function(){return T.apply(null,arguments)}},Te.cloneElement=function(T,H,I){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var X=_({},T.props),re=T.key,ie=void 0;if(H!=null)for(te in H.ref!==void 0&&(ie=void 0),H.key!==void 0&&(re=""+H.key),H)!J.call(H,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&H.ref===void 0||(X[te]=H[te]);var te=arguments.length-2;if(te===1)X.children=I;else if(1<te){for(var _e=Array(te),he=0;he<te;he++)_e[he]=arguments[he+2];X.children=_e}return ee(T.type,re,void 0,void 0,ie,X)},Te.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Te.createElement=function(T,H,I){var X,re={},ie=null;if(H!=null)for(X in H.key!==void 0&&(ie=""+H.key),H)J.call(H,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(re[X]=H[X]);var te=arguments.length-2;if(te===1)re.children=I;else if(1<te){for(var _e=Array(te),he=0;he<te;he++)_e[he]=arguments[he+2];re.children=_e}if(T&&T.defaultProps)for(X in te=T.defaultProps,te)re[X]===void 0&&(re[X]=te[X]);return ee(T,ie,void 0,void 0,null,re)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(T){return{$$typeof:m,render:T}},Te.isValidElement=ne,Te.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:Y}},Te.memo=function(T,H){return{$$typeof:p,type:T,compare:H===void 0?null:H}},Te.startTransition=function(T){var H=N.T,I={};N.T=I;try{var X=T(),re=N.S;re!==null&&re(I,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(K,F)}catch(ie){F(ie)}finally{N.T=H}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(T){return N.H.use(T)},Te.useActionState=function(T,H,I){return N.H.useActionState(T,H,I)},Te.useCallback=function(T,H){return N.H.useCallback(T,H)},Te.useContext=function(T){return N.H.useContext(T)},Te.useDebugValue=function(){},Te.useDeferredValue=function(T,H){return N.H.useDeferredValue(T,H)},Te.useEffect=function(T,H,I){var X=N.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(T,H)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(T,H,I){return N.H.useImperativeHandle(T,H,I)},Te.useInsertionEffect=function(T,H){return N.H.useInsertionEffect(T,H)},Te.useLayoutEffect=function(T,H){return N.H.useLayoutEffect(T,H)},Te.useMemo=function(T,H){return N.H.useMemo(T,H)},Te.useOptimistic=function(T,H){return N.H.useOptimistic(T,H)},Te.useReducer=function(T,H,I){return N.H.useReducer(T,H,I)},Te.useRef=function(T){return N.H.useRef(T)},Te.useState=function(T){return N.H.useState(T)},Te.useSyncExternalStore=function(T,H,I){return N.H.useSyncExternalStore(T,H,I)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.1.0",Te}var Sg;function hu(){return Sg||(Sg=1,Bc.exports=xy()),Bc.exports}var E=hu();const wy=lm(E);var Hc={exports:{}},As={},$c={exports:{}},qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Sy(){return _g||(_g=1,function(l){function r(M,Y){var F=M.length;M.push(Y);e:for(;0<F;){var K=F-1>>>1,T=M[K];if(0<c(T,Y))M[K]=Y,M[F]=T,F=K;else break e}}function s(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var Y=M[0],F=M.pop();if(F!==Y){M[0]=F;e:for(var K=0,T=M.length,H=T>>>1;K<H;){var I=2*(K+1)-1,X=M[I],re=I+1,ie=M[re];if(0>c(X,F))re<T&&0>c(ie,X)?(M[K]=ie,M[re]=F,K=re):(M[K]=X,M[I]=F,K=I);else if(re<T&&0>c(ie,F))M[K]=ie,M[re]=F,K=re;else break e}}return Y}function c(M,Y){var F=M.sortIndex-Y.sortIndex;return F!==0?F:M.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var g=[],p=[],y=1,b=null,x=3,S=!1,_=!1,R=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function q(M){for(var Y=s(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=M)i(p),Y.sortIndex=Y.expirationTime,r(g,Y);else break;Y=s(p)}}function N(M){if(R=!1,q(M),!_)if(s(g)!==null)_=!0,J||(J=!0,ue());else{var Y=s(p);Y!==null&&ae(N,Y.startTime-M)}}var J=!1,ee=-1,G=5,ne=-1;function P(){return j?!0:!(l.unstable_now()-ne<G)}function me(){if(j=!1,J){var M=l.unstable_now();ne=M;var Y=!0;try{e:{_=!1,R&&(R=!1,C(ee),ee=-1),S=!0;var F=x;try{t:{for(q(M),b=s(g);b!==null&&!(b.expirationTime>M&&P());){var K=b.callback;if(typeof K=="function"){b.callback=null,x=b.priorityLevel;var T=K(b.expirationTime<=M);if(M=l.unstable_now(),typeof T=="function"){b.callback=T,q(M),Y=!0;break t}b===s(g)&&i(g),q(M)}else i(g);b=s(g)}if(b!==null)Y=!0;else{var H=s(p);H!==null&&ae(N,H.startTime-M),Y=!1}}break e}finally{b=null,x=F,S=!1}Y=void 0}}finally{Y?ue():J=!1}}}var ue;if(typeof A=="function")ue=function(){A(me)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,xe=oe.port2;oe.port1.onmessage=me,ue=function(){xe.postMessage(null)}}else ue=function(){D(me,0)};function ae(M,Y){ee=D(function(){M(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(M){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var F=x;x=Y;try{return M()}finally{x=F}},l.unstable_requestPaint=function(){j=!0},l.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=x;x=M;try{return Y()}finally{x=F}},l.unstable_scheduleCallback=function(M,Y,F){var K=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,M){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=F+T,M={id:y++,callback:Y,priorityLevel:M,startTime:F,expirationTime:T,sortIndex:-1},F>K?(M.sortIndex=F,r(p,M),s(g)===null&&M===s(p)&&(R?(C(ee),ee=-1):R=!0,ae(N,F-K))):(M.sortIndex=T,r(g,M),_||S||(_=!0,J||(J=!0,ue()))),M},l.unstable_shouldYield=P,l.unstable_wrapCallback=function(M){var Y=x;return function(){var F=x;x=Y;try{return M.apply(this,arguments)}finally{x=F}}}}(qc)),qc}var Tg;function _y(){return Tg||(Tg=1,$c.exports=Sy()),$c.exports}var Pc={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function Ty(){if(Eg)return yt;Eg=1;var l=hu();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return u(g,p,null,y)},yt.flushSync=function(g){var p=f.T,y=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=p,i.p=y,i.d.f()}},yt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},yt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},yt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):y==="script"&&i.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},yt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);i.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},yt.requestFormReset=function(g){i.d.r(g)},yt.unstable_batchedUpdates=function(g,p){return g(p)},yt.useFormState=function(g,p,y){return f.H.useFormState(g,p,y)},yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},yt.version="19.1.0",yt}var kg;function Ey(){if(kg)return Pc.exports;kg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Pc.exports=Ty(),Pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function ky(){if(jg)return As;jg=1;var l=_y(),r=hu(),s=Ey();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(i(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return m(o),e;if(d===n)return m(o),t;d=d.sibling}throw Error(i(188))}if(a.return!==n.return)a=o,n=d;else{for(var v=!1,w=o.child;w;){if(w===a){v=!0,a=o,n=d;break}if(w===n){v=!0,n=o,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,n=o;break}if(w===n){v=!0,n=d,a=o;break}w=w.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case j:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case J:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case A:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}var ae=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},K=[],T=-1;function H(e){return{current:e}}function I(e){0>T||(e.current=K[T],K[T]=null,T--)}function X(e,t){T++,K[T]=e.current,e.current=t}var re=H(null),ie=H(null),te=H(null),_e=H(null);function he(e,t){switch(X(te,t),X(ie,e),X(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vh(t),e=Qh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(re),X(re,e)}function Ue(){I(re),I(ie),I(te)}function Me(e){e.memoizedState!==null&&X(_e,e);var t=re.current,a=Qh(t,e.type);t!==a&&(X(ie,e),X(re,a))}function Ke(e){ie.current===e&&(I(re),I(ie)),_e.current===e&&(I(_e),Ts._currentValue=F)}var se=Object.prototype.hasOwnProperty,ce=l.unstable_scheduleCallback,de=l.unstable_cancelCallback,pe=l.unstable_shouldYield,le=l.unstable_requestPaint,Z=l.unstable_now,Se=l.unstable_getCurrentPriorityLevel,ve=l.unstable_ImmediatePriority,De=l.unstable_UserBlockingPriority,Xe=l.unstable_NormalPriority,tn=l.unstable_LowPriority,Ks=l.unstable_IdlePriority,Fm=l.log,e0=l.unstable_setDisableYieldValue,Dr=null,Et=null;function Ta(e){if(typeof Fm=="function"&&e0(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Dr,e)}catch{}}var kt=Math.clz32?Math.clz32:n0,t0=Math.log,a0=Math.LN2;function n0(e){return e>>>=0,e===0?32:31-(t0(e)/a0|0)|0}var Vs=256,Qs=4194304;function an(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var o=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=n&134217727;return w!==0?(n=w&~d,n!==0?o=an(n):(v&=w,v!==0?o=an(v):a||(a=w&~e,a!==0&&(o=an(a))))):(w=n&~d,w!==0?o=an(w):v!==0?o=an(v):a||(a=n&~e,a!==0&&(o=an(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Nr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function r0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var e=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),e}function Au(){var e=Qs;return Qs<<=1,(Qs&62914560)===0&&(Qs=4194304),e}function El(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ur(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function s0(e,t,a,n,o,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,k=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-kt(a),Q=1<<W;w[W]=0,k[W]=-1;var B=L[W];if(B!==null)for(L[W]=null,W=0;W<B.length;W++){var $=B[W];$!==null&&($.lane&=-536870913)}a&=~Q}n!==0&&Ou(e,n,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function Ou(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-kt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Du(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-kt(a),o=1<<n;o&t|e[n]&t&&(e[n]|=t),a&=~o}}function kl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nu(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:hg(e.type))}function i0(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var Ea=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ea,bt="__reactProps$"+Ea,Cn="__reactContainer$"+Ea,Cl="__reactEvents$"+Ea,l0="__reactListeners$"+Ea,o0="__reactHandles$"+Ea,Uu="__reactResources$"+Ea,Mr="__reactMarker$"+Ea;function Rl(e){delete e[mt],delete e[bt],delete e[Cl],delete e[l0],delete e[o0]}function Rn(e){var t=e[mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cn]||a[mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Zh(e);e!==null;){if(a=e[mt])return a;e=Zh(e)}return t}e=a,a=e.parentNode}return null}function An(e){if(e=e[mt]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function zr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function On(e){var t=e[Uu];return t||(t=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[Mr]=!0}var Mu=new Set,zu={};function nn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(zu[e]=t,e=0;e<t.length;e++)Mu.add(t[e])}var c0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},Bu={};function u0(e){return se.call(Bu,e)?!0:se.call(Lu,e)?!1:c0.test(e)?Bu[e]=!0:(Lu[e]=!0,!1)}function Xs(e,t,a){if(u0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Js(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function sa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Al,Hu;function Nn(e){if(Al===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||"",Hu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Al+e+Hu}var Ol=!1;function Dl(e,t){if(!e||Ol)return"";Ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch($){var B=$}Reflect.construct(e,[],Q)}else{try{Q.call()}catch($){B=$}e.call(Q.prototype)}}else{try{throw Error()}catch($){B=$}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch($){if($&&B&&typeof $.stack=="string")return[$.stack,B.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var k=v.split(`
`),L=w.split(`
`);for(o=n=0;n<k.length&&!k[n].includes("DetermineComponentFrameRoot");)n++;for(;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;if(n===k.length||o===L.length)for(n=k.length-1,o=L.length-1;1<=n&&0<=o&&k[n]!==L[o];)o--;for(;1<=n&&0<=o;n--,o--)if(k[n]!==L[o]){if(n!==1||o!==1)do if(n--,o--,0>o||k[n]!==L[o]){var W=`
`+k[n].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=n&&0<=o);break}}}finally{Ol=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Nn(a):""}function d0(e){switch(e.tag){case 26:case 27:case 5:return Nn(e.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Dl(e.type,!1);case 11:return Dl(e.type.render,!1);case 1:return Dl(e.type,!0);case 31:return Nn("Activity");default:return""}}function $u(e){try{var t="";do t+=d0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f0(e){var t=qu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(v){n=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zs(e){e._valueTracker||(e._valueTracker=f0(e))}function Pu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=qu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var h0=/[\n"\\]/g;function zt(e){return e.replace(h0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nl(e,t,a,n,o,d,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Ul(e,v,Mt(t)):a!=null?Ul(e,v,Mt(a)):n!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Mt(w):e.removeAttribute("name")}function Yu(e,t,a,n,o,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Mt(a):"",t=t!=null?""+Mt(t):a,w||t===e.value||(e.value=t),e.defaultValue=t}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=w?e.checked:!!n,e.defaultChecked=!!n,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ul(e,t,a){t==="number"&&Fs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Un(e,t,a,n){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Mt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gu(e,t,a){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Mt(a):""}function Wu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(i(92));if(ae(n)){if(1<n.length)throw Error(i(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Mt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Mn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var g0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||g0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vu(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in t)n=t[o],t.hasOwnProperty(o)&&a[o]!==n&&Ku(e,o,n)}else for(var d in t)t.hasOwnProperty(d)&&Ku(e,d,t[d])}function Ml(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return p0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zl=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zn=null,Ln=null;function Qu(e){var t=An(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=n[bt]||null;if(!o)throw Error(i(90));Nl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Pu(n)}break e;case"textarea":Gu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Un(e,!!a.multiple,t,!1)}}}var Bl=!1;function Iu(e,t,a){if(Bl)return e(t,a);Bl=!0;try{var n=e(t);return n}finally{if(Bl=!1,(zn!==null||Ln!==null)&&(Hi(),zn&&(t=zn,e=Ln,Ln=zn=null,Qu(t),e)))for(t=0;t<e.length;t++)Qu(e[t])}}function Lr(e,t){var a=e.stateNode;if(a===null)return null;var n=a[bt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(ia)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Hl=!1}var ka=null,$l=null,ti=null;function Xu(){if(ti)return ti;var e,t=$l,a=t.length,n,o="value"in ka?ka.value:ka.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var v=a-e;for(n=1;n<=v&&t[a-n]===o[d-n];n++);return ti=o.slice(e,1<n?1-n:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Ju(){return!1}function xt(e){function t(a,n,o,d,v){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Ju,this.isPropagationStopped=Ju,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=xt(rn),Hr=y({},rn,{view:0,detail:0}),y0=xt(Hr),ql,Pl,$r,si=y({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(ql=e.screenX-$r.screenX,Pl=e.screenY-$r.screenY):Pl=ql=0,$r=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Zu=xt(si),v0=y({},si,{dataTransfer:0}),b0=xt(v0),x0=y({},Hr,{relatedTarget:0}),Yl=xt(x0),w0=y({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=xt(w0),_0=y({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=xt(_0),E0=y({},rn,{data:0}),Fu=xt(E0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C0[e])?!!t[e]:!1}function Gl(){return R0}var A0=y({},Hr,{key:function(e){if(e.key){var t=k0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=xt(A0),D0=y({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ed=xt(D0),N0=y({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),U0=xt(N0),M0=y({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=xt(M0),L0=y({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=xt(L0),H0=y({},rn,{newState:0,oldState:0}),$0=xt(H0),q0=[9,13,27,32],Wl=ia&&"CompositionEvent"in window,qr=null;ia&&"documentMode"in document&&(qr=document.documentMode);var P0=ia&&"TextEvent"in window&&!qr,td=ia&&(!Wl||qr&&8<qr&&11>=qr),ad=" ",nd=!1;function rd(e,t){switch(e){case"keyup":return q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Y0(e,t){switch(e){case"compositionend":return sd(t);case"keypress":return t.which!==32?null:(nd=!0,ad);case"textInput":return e=t.data,e===ad&&nd?null:e;default:return null}}function G0(e,t){if(Bn)return e==="compositionend"||!Wl&&rd(e,t)?(e=Xu(),ti=$l=ka=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return td&&t.locale!=="ko"?null:t.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W0[e.type]:t==="textarea"}function ld(e,t,a,n){zn?Ln?Ln.push(n):Ln=[n]:zn=n,t=Wi(t,"onChange"),0<t.length&&(a=new ri("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Pr=null,Yr=null;function K0(e){Ph(e,0)}function ii(e){var t=zr(e);if(Pu(t))return e}function od(e,t){if(e==="change")return t}var cd=!1;if(ia){var Kl;if(ia){var Vl="oninput"in document;if(!Vl){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),Vl=typeof ud.oninput=="function"}Kl=Vl}else Kl=!1;cd=Kl&&(!document.documentMode||9<document.documentMode)}function dd(){Pr&&(Pr.detachEvent("onpropertychange",fd),Yr=Pr=null)}function fd(e){if(e.propertyName==="value"&&ii(Yr)){var t=[];ld(t,Yr,e,Ll(e)),Iu(K0,t)}}function V0(e,t,a){e==="focusin"?(dd(),Pr=t,Yr=a,Pr.attachEvent("onpropertychange",fd)):e==="focusout"&&dd()}function Q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(Yr)}function I0(e,t){if(e==="click")return ii(t)}function X0(e,t){if(e==="input"||e==="change")return ii(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:J0;function Gr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!se.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gd(e,t){var a=hd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hd(a)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Fs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Fs(e.document)}return t}function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z0=ia&&"documentMode"in document&&11>=document.documentMode,Hn=null,Il=null,Wr=null,Xl=!1;function yd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xl||Hn==null||Hn!==Fs(n)||(n=Hn,"selectionStart"in n&&Ql(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wr&&Gr(Wr,n)||(Wr=n,n=Wi(Il,"onSelect"),0<n.length&&(t=new ri("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Hn)))}function sn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $n={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Jl={},vd={};ia&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function ln(e){if(Jl[e])return Jl[e];if(!$n[e])return e;var t=$n[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in vd)return Jl[e]=t[a];return e}var bd=ln("animationend"),xd=ln("animationiteration"),wd=ln("animationstart"),F0=ln("transitionrun"),ep=ln("transitionstart"),tp=ln("transitioncancel"),Sd=ln("transitionend"),_d=new Map,Zl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zl.push("scrollEnd");function Wt(e,t){_d.set(e,t),nn(t,[e])}var Td=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=Td.get(e);return a!==void 0?a:(t={value:e,source:t,stack:$u(t)},Td.set(e,t),t)}return{value:e,source:t,stack:$u(t)}}var Bt=[],qn=0,Fl=0;function li(){for(var e=qn,t=Fl=qn=0;t<e;){var a=Bt[t];Bt[t++]=null;var n=Bt[t];Bt[t++]=null;var o=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,n!==null&&o!==null){var v=n.pending;v===null?o.next=o:(o.next=v.next,v.next=o),n.pending=o}d!==0&&Ed(a,o,d)}}function oi(e,t,a,n){Bt[qn++]=e,Bt[qn++]=t,Bt[qn++]=a,Bt[qn++]=n,Fl|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function eo(e,t,a,n){return oi(e,t,a,n),ci(e)}function Pn(e,t){return oi(e,null,null,t),ci(e)}function Ed(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,n=d.alternate,n!==null&&(n.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-kt(a),e=d.hiddenUpdates,n=e[o],n===null?e[o]=[t]:n.push(t),t.lane=a|536870912),d):null}function ci(e){if(50<ps)throw ps=0,lc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yn={};function ap(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,a,n){return new ap(e,t,a,n)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var a=e.alternate;return a===null?(a=Ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ui(e,t,a,n,o,d){var v=0;if(n=e,typeof e=="function")to(e)&&(v=1);else if(typeof e=="string")v=ry(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Ct(31,a,t,o),e.elementType=ne,e.lanes=d,e;case _:return on(a.children,o,d,t);case R:v=8,o|=24;break;case j:return e=Ct(12,a,t,o|2),e.elementType=j,e.lanes=d,e;case N:return e=Ct(13,a,t,o),e.elementType=N,e.lanes=d,e;case J:return e=Ct(19,a,t,o),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:case A:v=10;break e;case C:v=9;break e;case q:v=11;break e;case ee:v=14;break e;case G:v=16,n=null;break e}v=29,a=Error(i(130,e===null?"null":typeof e,"")),n=null}return t=Ct(v,a,t,o),t.elementType=e,t.type=n,t.lanes=d,t}function on(e,t,a,n){return e=Ct(7,e,n,t),e.lanes=a,e}function ao(e,t,a){return e=Ct(6,e,null,t),e.lanes=a,e}function no(e,t,a){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=[],Wn=0,di=null,fi=0,Ht=[],$t=0,cn=null,oa=1,ca="";function un(e,t){Gn[Wn++]=fi,Gn[Wn++]=di,di=e,fi=t}function jd(e,t,a){Ht[$t++]=oa,Ht[$t++]=ca,Ht[$t++]=cn,cn=e;var n=oa;e=ca;var o=32-kt(n)-1;n&=~(1<<o),a+=1;var d=32-kt(t)+o;if(30<d){var v=o-o%5;d=(n&(1<<v)-1).toString(32),n>>=v,o-=v,oa=1<<32-kt(t)+o|a<<o|n,ca=d+e}else oa=1<<d|a<<o|n,ca=e}function ro(e){e.return!==null&&(un(e,1),jd(e,1,0))}function so(e){for(;e===di;)di=Gn[--Wn],Gn[Wn]=null,fi=Gn[--Wn],Gn[Wn]=null;for(;e===cn;)cn=Ht[--$t],Ht[$t]=null,ca=Ht[--$t],Ht[$t]=null,oa=Ht[--$t],Ht[$t]=null}var vt=null,Je=null,ze=!1,dn=null,Jt=!1,io=Error(i(519));function fn(e){var t=Error(i(418,""));throw Qr(Lt(t,e)),io}function Cd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[mt]=e,t[bt]=n,a){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(a=0;a<vs.length;a++)Re(vs[a],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Yu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Zs(t);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Wu(t,n.value,n.defaultValue,n.children),Zs(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Kh(t.textContent,a)?(n.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),n.onScroll!=null&&Re("scroll",t),n.onScrollEnd!=null&&Re("scrollend",t),n.onClick!=null&&(t.onclick=Ki),t=!0):t=!1,t||fn(e)}function Rd(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:vt=vt.return}}function Kr(e){if(e!==vt)return!1;if(!ze)return Rd(e),ze=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_c(e.type,e.memoizedProps)),a=!a),a&&Je&&fn(e),Rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Je=Vt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Je=null}}else t===27?(t=Je,Pa(e.type)?(e=jc,jc=null,Je=e):Je=t):Je=vt?Vt(e.stateNode.nextSibling):null;return!0}function Vr(){Je=vt=null,ze=!1}function Ad(){var e=dn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),dn=null),e}function Qr(e){dn===null?dn=[e]:dn.push(e)}var lo=H(null),hn=null,ua=null;function ja(e,t,a){X(lo,t._currentValue),t._currentValue=a}function da(e){e._currentValue=lo.current,I(lo)}function oo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function co(e,t,a,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var v=o.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=o;for(var k=0;k<t.length;k++)if(w.context===t[k]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),oo(d.return,a,e),n||(v=null);break e}d=w.next}}else if(o.tag===18){if(v=o.return,v===null)throw Error(i(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),oo(v,a,e),v=null}else v=o.child;if(v!==null)v.return=o;else for(v=o;v!==null;){if(v===e){v=null;break}if(o=v.sibling,o!==null){o.return=v.return,v=o;break}v=v.return}o=v}}function Ir(e,t,a,n){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var v=o.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var w=o.type;jt(o.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(o===_e.current){if(v=o.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ts):e=[Ts])}o=o.return}e!==null&&co(t,e,a,n),t.flags|=262144}function hi(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gn(e){hn=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Od(hn,e)}function gi(e,t){return hn===null&&gn(e),Od(e,t)}function Od(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(i(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var np=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},rp=l.unstable_scheduleCallback,sp=l.unstable_NormalPriority,nt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new np,data:new Map,refCount:0}}function Xr(e){e.refCount--,e.refCount===0&&rp(sp,function(){e.controller.abort()})}var Jr=null,fo=0,Kn=0,Vn=null;function ip(e,t){if(Jr===null){var a=Jr=[];fo=0,Kn=gc(),Vn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return fo++,t.then(Dd,Dd),t}function Dd(){if(--fo===0&&Jr!==null){Vn!==null&&(Vn.status="fulfilled");var e=Jr;Jr=null,Kn=0,Vn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var Nd=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ip(e,t),Nd!==null&&Nd(e,t)};var mn=H(null);function ho(){var e=mn.current;return e!==null?e:Ge.pooledCache}function mi(e,t){t===null?X(mn,mn.current):X(mn,t.pool)}function Ud(){var e=ho();return e===null?null:{parent:nt._currentValue,pool:e}}var Zr=Error(i(460)),Md=Error(i(474)),pi=Error(i(542)),go={then:function(){}};function zd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yi(){}function Ld(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(yi,yi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e;default:if(typeof t.status=="string")t.then(yi,yi);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=n}},function(n){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e}throw Fr=t,Zr}}var Fr=null;function Bd(){if(Fr===null)throw Error(i(459));var e=Fr;return Fr=null,e}function Hd(e){if(e===Zr||e===pi)throw Error(i(483))}var Ca=!1;function mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Le&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,t=ci(e),Ed(e,null,a),t}return oi(e,n,t,a),ci(e)}function es(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Du(e,a)}}function yo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vo=!1;function ts(){if(vo){var e=Vn;if(e!==null)throw e}}function as(e,t,a,n){vo=!1;var o=e.updateQueue;Ca=!1;var d=o.firstBaseUpdate,v=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var k=w,L=k.next;k.next=null,v===null?d=L:v.next=L,v=k;var W=e.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==v&&(w===null?W.firstBaseUpdate=L:w.next=L,W.lastBaseUpdate=k))}if(d!==null){var Q=o.baseState;v=0,W=L=k=null,w=d;do{var B=w.lane&-536870913,$=B!==w.lane;if($?(Oe&B)===B:(n&B)===B){B!==0&&B===Kn&&(vo=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=e,ye=w;B=t;var Pe=a;switch(ye.tag){case 1:if(we=ye.payload,typeof we=="function"){Q=we.call(Pe,Q,B);break e}Q=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ye.payload,B=typeof we=="function"?we.call(Pe,Q,B):we,B==null)break e;Q=y({},Q,B);break e;case 2:Ca=!0}}B=w.callback,B!==null&&(e.flags|=64,$&&(e.flags|=8192),$=o.callbacks,$===null?o.callbacks=[B]:$.push(B))}else $={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(L=W=$,k=Q):W=W.next=$,v|=B;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;$=w,w=$.next,$.next=null,o.lastBaseUpdate=$,o.shared.pending=null}}while(!0);W===null&&(k=Q),o.baseState=k,o.firstBaseUpdate=L,o.lastBaseUpdate=W,d===null&&(o.shared.lanes=0),Ba|=v,e.lanes=v,e.memoizedState=Q}}function $d(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function qd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$d(a[e],t)}var Qn=H(null),vi=H(0);function Pd(e,t){e=va,X(vi,e),X(Qn,t),va=e|t.baseLanes}function bo(){X(vi,va),X(Qn,Qn.current)}function xo(){va=vi.current,I(Qn),I(vi)}var Oa=0,ke=null,$e=null,tt=null,bi=!1,In=!1,pn=!1,xi=0,ns=0,Xn=null,op=0;function Fe(){throw Error(i(321))}function wo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function So(e,t,a,n,o,d){return Oa=d,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?kf:jf,pn=!1,d=a(n,o),pn=!1,In&&(d=Gd(t,a,n,o)),Yd(e),d}function Yd(e){M.H=ki;var t=$e!==null&&$e.next!==null;if(Oa=0,tt=$e=ke=null,bi=!1,ns=0,Xn=null,t)throw Error(i(300));e===null||it||(e=e.dependencies,e!==null&&hi(e)&&(it=!0))}function Gd(e,t,a,n){ke=e;var o=0;do{if(In&&(Xn=null),ns=0,In=!1,25<=o)throw Error(i(301));if(o+=1,tt=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=mp,d=t(a,n)}while(In);return d}function cp(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?rs(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(ke.flags|=1024),t}function _o(){var e=xi!==0;return xi=0,e}function To(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Eo(e){if(bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bi=!1}Oa=0,tt=$e=ke=null,In=!1,ns=xi=0,Xn=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ke.memoizedState=tt=e:tt=tt.next=e,tt}function at(){if($e===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=tt===null?ke.memoizedState:tt.next;if(t!==null)tt=t,$e=e;else{if(e===null)throw ke.alternate===null?Error(i(467)):Error(i(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},tt===null?ke.memoizedState=tt=e:tt=tt.next=e}return tt}function ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rs(e){var t=ns;return ns+=1,Xn===null&&(Xn=[]),e=Ld(Xn,e,t),t=ke,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?kf:jf),e}function wi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rs(e);if(e.$$typeof===A)return pt(e)}throw Error(i(438,String(e)))}function jo(e){var t=null,a=ke.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ke.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ko(),ke.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=P;return t.index++,a}function fa(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=at();return Co(t,$e,e)}function Co(e,t,a){var n=e.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=a;var o=e.baseQueue,d=n.pending;if(d!==null){if(o!==null){var v=o.next;o.next=d.next,d.next=v}t.baseQueue=o=d,n.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var w=v=null,k=null,L=t,W=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Oe&Q)===Q:(Oa&Q)===Q){var B=L.revertLane;if(B===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===Kn&&(W=!0);else if((Oa&B)===B){L=L.next,B===Kn&&(W=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(w=k=Q,v=d):k=k.next=Q,ke.lanes|=B,Ba|=B;Q=L.action,pn&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else B={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},k===null?(w=k=B,v=d):k=k.next=B,ke.lanes|=Q,Ba|=Q;L=L.next}while(L!==null&&L!==t);if(k===null?v=d:k.next=w,!jt(d,e.memoizedState)&&(it=!0,W&&(a=Vn,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=k,n.lastRenderedState=d}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ro(e){var t=at(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var v=o=o.next;do d=e(d,v.action),v=v.next;while(v!==o);jt(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,n]}function Wd(e,t,a){var n=ke,o=at(),d=ze;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=t();var v=!jt(($e||o).memoizedState,a);v&&(o.memoizedState=a,it=!0),o=o.queue;var w=Qd.bind(null,n,o,e);if(ss(2048,8,w,[e]),o.getSnapshot!==t||v||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Jn(9,_i(),Vd.bind(null,n,o,a,t),null),Ge===null)throw Error(i(349));d||(Oa&124)!==0||Kd(n,t,a)}return a}function Kd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ke.updateQueue,t===null?(t=ko(),ke.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Vd(e,t,a,n){t.value=a,t.getSnapshot=n,Id(t)&&Xd(e)}function Qd(e,t,a){return a(function(){Id(t)&&Xd(e)})}function Id(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function Xd(e){var t=Pn(e,2);t!==null&&Nt(t,e,2)}function Ao(e){var t=wt();if(typeof e=="function"){var a=e;if(e=a(),pn){Ta(!0);try{a()}finally{Ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Jd(e,t,a,n){return e.baseState=a,Co(e,$e,typeof n=="function"?n:fa)}function up(e,t,a,n,o){if(Ei(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};M.T!==null?a(!0):d.isTransition=!1,n(d),a=t.pending,a===null?(d.next=t.pending=d,Zd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Zd(e,t){var a=t.action,n=t.payload,o=e.state;if(t.isTransition){var d=M.T,v={};M.T=v;try{var w=a(o,n),k=M.S;k!==null&&k(v,w),Fd(e,t,w)}catch(L){Oo(e,t,L)}finally{M.T=d}}else try{d=a(o,n),Fd(e,t,d)}catch(L){Oo(e,t,L)}}function Fd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){ef(e,t,n)},function(n){return Oo(e,t,n)}):ef(e,t,a)}function ef(e,t,a){t.status="fulfilled",t.value=a,tf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Zd(e,a)))}function Oo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,tf(t),t=t.next;while(t!==n)}e.action=null}function tf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function af(e,t){return t}function nf(e,t){if(ze){var a=Ge.formState;if(a!==null){e:{var n=ke;if(ze){if(Je){t:{for(var o=Je,d=Jt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Je=Vt(o.nextSibling),n=o.data==="F!";break e}}fn(n)}n=!1}n&&(t=a[0])}}return a=wt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},a.queue=n,a=_f.bind(null,ke,n),n.dispatch=a,n=Ao(!1),d=zo.bind(null,ke,!1,n.queue),n=wt(),o={state:t,dispatch:null,action:e,pending:null},n.queue=o,a=up.bind(null,ke,o,d,a),o.dispatch=a,n.memoizedState=e,[t,a,!1]}function rf(e){var t=at();return sf(t,$e,e)}function sf(e,t,a){if(t=Co(e,t,af)[0],e=Si(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=rs(t)}catch(v){throw v===Zr?pi:v}else n=t;t=at();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(ke.flags|=2048,Jn(9,_i(),dp.bind(null,o,a),null)),[n,d,e]}function dp(e,t){e.action=t}function lf(e){var t=at(),a=$e;if(a!==null)return sf(t,a,e);at(),t=t.memoizedState,a=at();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Jn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ke.updateQueue,t===null&&(t=ko(),ke.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function _i(){return{destroy:void 0,resource:void 0}}function of(){return at().memoizedState}function Ti(e,t,a,n){var o=wt();n=n===void 0?null:n,ke.flags|=e,o.memoizedState=Jn(1|t,_i(),a,n)}function ss(e,t,a,n){var o=at();n=n===void 0?null:n;var d=o.memoizedState.inst;$e!==null&&n!==null&&wo(n,$e.memoizedState.deps)?o.memoizedState=Jn(t,d,a,n):(ke.flags|=e,o.memoizedState=Jn(1|t,d,a,n))}function cf(e,t){Ti(8390656,8,e,t)}function uf(e,t){ss(2048,8,e,t)}function df(e,t){return ss(4,2,e,t)}function ff(e,t){return ss(4,4,e,t)}function hf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gf(e,t,a){a=a!=null?a.concat([e]):null,ss(4,4,hf.bind(null,t,e),a)}function Do(){}function mf(e,t){var a=at();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&wo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function pf(e,t){var a=at();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&wo(t,n[1]))return n[0];if(n=e(),pn){Ta(!0);try{e()}finally{Ta(!1)}}return a.memoizedState=[n,t],n}function No(e,t,a){return a===void 0||(Oa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=bh(),ke.lanes|=e,Ba|=e,a)}function yf(e,t,a,n){return jt(a,t)?a:Qn.current!==null?(e=No(e,a,n),jt(e,t)||(it=!0),e):(Oa&42)===0?(it=!0,e.memoizedState=a):(e=bh(),ke.lanes|=e,Ba|=e,t)}function vf(e,t,a,n,o){var d=Y.p;Y.p=d!==0&&8>d?d:8;var v=M.T,w={};M.T=w,zo(e,!1,t,a);try{var k=o(),L=M.S;if(L!==null&&L(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=lp(k,n);is(e,t,W,Dt(e))}else is(e,t,n,Dt(e))}catch(Q){is(e,t,{then:function(){},status:"rejected",reason:Q},Dt())}finally{Y.p=d,M.T=v}}function fp(){}function Uo(e,t,a,n){if(e.tag!==5)throw Error(i(476));var o=bf(e).queue;vf(e,o,t,F,a===null?fp:function(){return xf(e),a(n)})}function bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:F},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xf(e){var t=bf(e).next.queue;is(e,t,{},Dt())}function Mo(){return pt(Ts)}function wf(){return at().memoizedState}function Sf(){return at().memoizedState}function hp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=Ra(a);var n=Aa(t,e,a);n!==null&&(Nt(n,t,a),es(n,t,a)),t={cache:uo()},e.payload=t;return}t=t.return}}function gp(e,t,a){var n=Dt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ei(e)?Tf(t,a):(a=eo(e,t,a,n),a!==null&&(Nt(a,e,n),Ef(a,t,n)))}function _f(e,t,a){var n=Dt();is(e,t,a,n)}function is(e,t,a,n){var o={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ei(e))Tf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,w=d(v,a);if(o.hasEagerState=!0,o.eagerState=w,jt(w,v))return oi(e,t,o,0),Ge===null&&li(),!1}catch{}finally{}if(a=eo(e,t,o,n),a!==null)return Nt(a,e,n),Ef(a,t,n),!0}return!1}function zo(e,t,a,n){if(n={lane:2,revertLane:gc(),action:n,hasEagerState:!1,eagerState:null,next:null},Ei(e)){if(t)throw Error(i(479))}else t=eo(e,a,n,2),t!==null&&Nt(t,e,2)}function Ei(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Tf(e,t){In=bi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ef(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Du(e,a)}}var ki={readContext:pt,use:wi,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},kf={readContext:pt,use:wi,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:cf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ti(4194308,4,hf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){Ti(4,2,e,t)},useMemo:function(e,t){var a=wt();t=t===void 0?null:t;var n=e();if(pn){Ta(!0);try{e()}finally{Ta(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=wt();if(a!==void 0){var o=a(t);if(pn){Ta(!0);try{a(t)}finally{Ta(!1)}}}else o=t;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=gp.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,a=_f.bind(null,ke,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Do,useDeferredValue:function(e,t){var a=wt();return No(a,e,t)},useTransition:function(){var e=Ao(!1);return e=vf.bind(null,ke,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ke,o=wt();if(ze){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Ge===null)throw Error(i(349));(Oe&124)!==0||Kd(n,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,cf(Qd.bind(null,n,d,e),[e]),n.flags|=2048,Jn(9,_i(),Vd.bind(null,n,d,a,t),null),a},useId:function(){var e=wt(),t=Ge.identifierPrefix;if(ze){var a=ca,n=oa;a=(n&~(1<<32-kt(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=xi++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=op++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:nf,useActionState:nf,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=zo.bind(null,ke,!0,a),a.dispatch=t,[e,t]},useMemoCache:jo,useCacheRefresh:function(){return wt().memoizedState=hp.bind(null,ke)}},jf={readContext:pt,use:wi,useCallback:mf,useContext:pt,useEffect:uf,useImperativeHandle:gf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:pf,useReducer:Si,useRef:of,useState:function(){return Si(fa)},useDebugValue:Do,useDeferredValue:function(e,t){var a=at();return yf(a,$e.memoizedState,e,t)},useTransition:function(){var e=Si(fa)[0],t=at().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:Wd,useId:wf,useHostTransitionStatus:Mo,useFormState:rf,useActionState:rf,useOptimistic:function(e,t){var a=at();return Jd(a,$e,e,t)},useMemoCache:jo,useCacheRefresh:Sf},mp={readContext:pt,use:wi,useCallback:mf,useContext:pt,useEffect:uf,useImperativeHandle:gf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:pf,useReducer:Ro,useRef:of,useState:function(){return Ro(fa)},useDebugValue:Do,useDeferredValue:function(e,t){var a=at();return $e===null?No(a,e,t):yf(a,$e.memoizedState,e,t)},useTransition:function(){var e=Ro(fa)[0],t=at().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:Wd,useId:wf,useHostTransitionStatus:Mo,useFormState:lf,useActionState:lf,useOptimistic:function(e,t){var a=at();return $e!==null?Jd(a,$e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jo,useCacheRefresh:Sf},Zn=null,ls=0;function ji(e){var t=ls;return ls+=1,Zn===null&&(Zn=[]),Ld(Zn,e,t)}function os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ci(e,t){throw t.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Cf(e){var t=e._init;return t(e._payload)}function Rf(e){function t(U,O){if(e){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)t(U,O),O=O.sibling;return null}function n(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function o(U,O){return U=la(U,O),U.index=0,U.sibling=null,U}function d(U,O,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function w(U,O,z,V){return O===null||O.tag!==6?(O=ao(z,U.mode,V),O.return=U,O):(O=o(O,z),O.return=U,O)}function k(U,O,z,V){var fe=z.type;return fe===_?W(U,O,z.props.children,V,z.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&Cf(fe)===O.type)?(O=o(O,z.props),os(O,z),O.return=U,O):(O=ui(z.type,z.key,z.props,null,U.mode,V),os(O,z),O.return=U,O)}function L(U,O,z,V){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=no(z,U.mode,V),O.return=U,O):(O=o(O,z.children||[]),O.return=U,O)}function W(U,O,z,V,fe){return O===null||O.tag!==7?(O=on(z,U.mode,V,fe),O.return=U,O):(O=o(O,z),O.return=U,O)}function Q(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ao(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return z=ui(O.type,O.key,O.props,null,U.mode,z),os(z,O),z.return=U,z;case S:return O=no(O,U.mode,z),O.return=U,O;case G:var V=O._init;return O=V(O._payload),Q(U,O,z)}if(ae(O)||ue(O))return O=on(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return Q(U,ji(O),z);if(O.$$typeof===A)return Q(U,gi(U,O),z);Ci(U,O)}return null}function B(U,O,z,V){var fe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:w(U,O,""+z,V);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===fe?k(U,O,z,V):null;case S:return z.key===fe?L(U,O,z,V):null;case G:return fe=z._init,z=fe(z._payload),B(U,O,z,V)}if(ae(z)||ue(z))return fe!==null?null:W(U,O,z,V,null);if(typeof z.then=="function")return B(U,O,ji(z),V);if(z.$$typeof===A)return B(U,O,gi(U,z),V);Ci(U,z)}return null}function $(U,O,z,V,fe){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return U=U.get(z)||null,w(O,U,""+V,fe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return U=U.get(V.key===null?z:V.key)||null,k(O,U,V,fe);case S:return U=U.get(V.key===null?z:V.key)||null,L(O,U,V,fe);case G:var je=V._init;return V=je(V._payload),$(U,O,z,V,fe)}if(ae(V)||ue(V))return U=U.get(z)||null,W(O,U,V,fe,null);if(typeof V.then=="function")return $(U,O,z,ji(V),fe);if(V.$$typeof===A)return $(U,O,z,gi(O,V),fe);Ci(O,V)}return null}function we(U,O,z,V){for(var fe=null,je=null,ge=O,be=O=0,ot=null;ge!==null&&be<z.length;be++){ge.index>be?(ot=ge,ge=null):ot=ge.sibling;var Ne=B(U,ge,z[be],V);if(Ne===null){ge===null&&(ge=ot);break}e&&ge&&Ne.alternate===null&&t(U,ge),O=d(Ne,O,be),je===null?fe=Ne:je.sibling=Ne,je=Ne,ge=ot}if(be===z.length)return a(U,ge),ze&&un(U,be),fe;if(ge===null){for(;be<z.length;be++)ge=Q(U,z[be],V),ge!==null&&(O=d(ge,O,be),je===null?fe=ge:je.sibling=ge,je=ge);return ze&&un(U,be),fe}for(ge=n(ge);be<z.length;be++)ot=$(ge,U,be,z[be],V),ot!==null&&(e&&ot.alternate!==null&&ge.delete(ot.key===null?be:ot.key),O=d(ot,O,be),je===null?fe=ot:je.sibling=ot,je=ot);return e&&ge.forEach(function(Va){return t(U,Va)}),ze&&un(U,be),fe}function ye(U,O,z,V){if(z==null)throw Error(i(151));for(var fe=null,je=null,ge=O,be=O=0,ot=null,Ne=z.next();ge!==null&&!Ne.done;be++,Ne=z.next()){ge.index>be?(ot=ge,ge=null):ot=ge.sibling;var Va=B(U,ge,Ne.value,V);if(Va===null){ge===null&&(ge=ot);break}e&&ge&&Va.alternate===null&&t(U,ge),O=d(Va,O,be),je===null?fe=Va:je.sibling=Va,je=Va,ge=ot}if(Ne.done)return a(U,ge),ze&&un(U,be),fe;if(ge===null){for(;!Ne.done;be++,Ne=z.next())Ne=Q(U,Ne.value,V),Ne!==null&&(O=d(Ne,O,be),je===null?fe=Ne:je.sibling=Ne,je=Ne);return ze&&un(U,be),fe}for(ge=n(ge);!Ne.done;be++,Ne=z.next())Ne=$(ge,U,be,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&ge.delete(Ne.key===null?be:Ne.key),O=d(Ne,O,be),je===null?fe=Ne:je.sibling=Ne,je=Ne);return e&&ge.forEach(function(py){return t(U,py)}),ze&&un(U,be),fe}function Pe(U,O,z,V){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var fe=z.key;O!==null;){if(O.key===fe){if(fe=z.type,fe===_){if(O.tag===7){a(U,O.sibling),V=o(O,z.props.children),V.return=U,U=V;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===G&&Cf(fe)===O.type){a(U,O.sibling),V=o(O,z.props),os(V,z),V.return=U,U=V;break e}a(U,O);break}else t(U,O);O=O.sibling}z.type===_?(V=on(z.props.children,U.mode,V,z.key),V.return=U,U=V):(V=ui(z.type,z.key,z.props,null,U.mode,V),os(V,z),V.return=U,U=V)}return v(U);case S:e:{for(fe=z.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),V=o(O,z.children||[]),V.return=U,U=V;break e}else{a(U,O);break}else t(U,O);O=O.sibling}V=no(z,U.mode,V),V.return=U,U=V}return v(U);case G:return fe=z._init,z=fe(z._payload),Pe(U,O,z,V)}if(ae(z))return we(U,O,z,V);if(ue(z)){if(fe=ue(z),typeof fe!="function")throw Error(i(150));return z=fe.call(z),ye(U,O,z,V)}if(typeof z.then=="function")return Pe(U,O,ji(z),V);if(z.$$typeof===A)return Pe(U,O,gi(U,z),V);Ci(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),V=o(O,z),V.return=U,U=V):(a(U,O),V=ao(z,U.mode,V),V.return=U,U=V),v(U)):a(U,O)}return function(U,O,z,V){try{ls=0;var fe=Pe(U,O,z,V);return Zn=null,fe}catch(ge){if(ge===Zr||ge===pi)throw ge;var je=Ct(29,ge,null,U.mode);return je.lanes=V,je.return=U,je}finally{}}}var Fn=Rf(!0),Af=Rf(!1),qt=H(null),Zt=null;function Da(e){var t=e.alternate;X(rt,rt.current&1),X(qt,e),Zt===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Zt=e)}function Of(e){if(e.tag===22){if(X(rt,rt.current),X(qt,e),Zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Zt=e)}}else Na()}function Na(){X(rt,rt.current),X(qt,qt.current)}function ha(e){I(qt),Zt===e&&(Zt=null),I(rt)}var rt=H(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Dt(),o=Ra(n);o.payload=t,a!=null&&(o.callback=a),t=Aa(e,o,n),t!==null&&(Nt(t,e,n),es(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Dt(),o=Ra(n);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Aa(e,o,n),t!==null&&(Nt(t,e,n),es(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),n=Ra(a);n.tag=2,t!=null&&(n.callback=t),t=Aa(e,n,a),t!==null&&(Nt(t,e,a),es(t,e,a))}};function Df(e,t,a,n,o,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,d,v):t.prototype&&t.prototype.isPureReactComponent?!Gr(a,n)||!Gr(o,d):!0}function Nf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function yn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Uf(e){Ai(e)}function Mf(e){console.error(e)}function zf(e){Ai(e)}function Oi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Lf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ho(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){Oi(e,t)},a}function Bf(e){return e=Ra(e),e.tag=3,e}function Hf(e,t,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;e.payload=function(){return o(d)},e.callback=function(){Lf(t,a,n)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Lf(t,a,n),typeof o!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})})}function pp(e,t,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Ir(t,a,o,!0),a=qt.current,a!==null){switch(a.tag){case 13:return Zt===null?cc():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===go?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),dc(e,n,o)),!1;case 22:return a.flags|=65536,n===go?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),dc(e,n,o)),!1}throw Error(i(435,a.tag))}return dc(e,n,o),cc(),!1}if(ze)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,n!==io&&(e=Error(i(422),{cause:n}),Qr(Lt(e,a)))):(n!==io&&(t=Error(i(423),{cause:n}),Qr(Lt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=Lt(n,a),o=Ho(e.stateNode,n,o),yo(e,o),Ze!==4&&(Ze=2)),!1;var d=Error(i(520),{cause:n});if(d=Lt(d,a),ms===null?ms=[d]:ms.push(d),Ze!==4&&(Ze=2),t===null)return!0;n=Lt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ho(a.stateNode,n,e),yo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ha===null||!Ha.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Bf(o),Hf(o,e,a,n),yo(a,o),!1}a=a.return}while(a!==null);return!1}var $f=Error(i(461)),it=!1;function ft(e,t,a,n){t.child=e===null?Af(t,null,a,n):Fn(t,e.child,a,n)}function qf(e,t,a,n,o){a=a.render;var d=t.ref;if("ref"in n){var v={};for(var w in n)w!=="ref"&&(v[w]=n[w])}else v=n;return gn(t),n=So(e,t,a,v,d,o),w=_o(),e!==null&&!it?(To(e,t,o),ga(e,t,o)):(ze&&w&&ro(t),t.flags|=1,ft(e,t,n,o),t.child)}function Pf(e,t,a,n,o){if(e===null){var d=a.type;return typeof d=="function"&&!to(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Yf(e,t,d,n,o)):(e=ui(a.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Vo(e,o)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Gr,a(v,n)&&e.ref===t.ref)return ga(e,t,o)}return t.flags|=1,e=la(d,n),e.ref=t.ref,e.return=t,t.child=e}function Yf(e,t,a,n,o){if(e!==null){var d=e.memoizedProps;if(Gr(d,n)&&e.ref===t.ref)if(it=!1,t.pendingProps=n=d,Vo(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,ga(e,t,o)}return $o(e,t,a,n,o)}function Gf(e,t,a){var n=t.pendingProps,o=n.children,d=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=d!==null?d.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~n}else t.childLanes=0,t.child=null;return Wf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mi(t,d!==null?d.cachePool:null),d!==null?Pd(t,d):bo(),Of(t);else return t.lanes=t.childLanes=536870912,Wf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(mi(t,d.cachePool),Pd(t,d),Na(),t.memoizedState=null):(e!==null&&mi(t,null),bo(),Na());return ft(e,t,o,a),t.child}function Wf(e,t,a,n){var o=ho();return o=o===null?null:{parent:nt._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&mi(t,null),bo(),Of(t),e!==null&&Ir(e,t,n,!0),null}function Di(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function $o(e,t,a,n,o){return gn(t),a=So(e,t,a,n,void 0,o),n=_o(),e!==null&&!it?(To(e,t,o),ga(e,t,o)):(ze&&n&&ro(t),t.flags|=1,ft(e,t,a,o),t.child)}function Kf(e,t,a,n,o,d){return gn(t),t.updateQueue=null,a=Gd(t,n,a,o),Yd(e),n=_o(),e!==null&&!it?(To(e,t,d),ga(e,t,d)):(ze&&n&&ro(t),t.flags|=1,ft(e,t,a,d),t.child)}function Vf(e,t,a,n,o){if(gn(t),t.stateNode===null){var d=Yn,v=a.contextType;typeof v=="object"&&v!==null&&(d=pt(v)),d=new a(n,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=n,d.state=t.memoizedState,d.refs={},mo(t),v=a.contextType,d.context=typeof v=="object"&&v!==null?pt(v):Yn,d.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lo(t,a,v,n),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bo.enqueueReplaceState(d,d.state,null),as(t,n,d,o),ts(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,k=yn(a,w);d.props=k;var L=d.context,W=a.contextType;v=Yn,typeof W=="object"&&W!==null&&(v=pt(W));var Q=a.getDerivedStateFromProps;W=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||L!==v)&&Nf(t,d,n,v),Ca=!1;var B=t.memoizedState;d.state=B,as(t,n,d,o),ts(),L=t.memoizedState,w||B!==L||Ca?(typeof Q=="function"&&(Lo(t,a,Q,n),L=t.memoizedState),(k=Ca||Df(t,a,k,n,B,L,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=L),d.props=n,d.state=L,d.context=v,n=k):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,po(e,t),v=t.memoizedProps,W=yn(a,v),d.props=W,Q=t.pendingProps,B=d.context,L=a.contextType,k=Yn,typeof L=="object"&&L!==null&&(k=pt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||B!==k)&&Nf(t,d,n,k),Ca=!1,B=t.memoizedState,d.state=B,as(t,n,d,o),ts();var $=t.memoizedState;v!==Q||B!==$||Ca||e!==null&&e.dependencies!==null&&hi(e.dependencies)?(typeof w=="function"&&(Lo(t,a,w,n),$=t.memoizedState),(W=Ca||Df(t,a,W,n,B,$,k)||e!==null&&e.dependencies!==null&&hi(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,$,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,$,k)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=$),d.props=n,d.state=$,d.context=k,n=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),n=!1)}return d=n,Di(e,t),n=(t.flags&128)!==0,d||n?(d=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&n?(t.child=Fn(t,e.child,null,o),t.child=Fn(t,null,a,o)):ft(e,t,a,o),t.memoizedState=d.state,e=t.child):e=ga(e,t,o),e}function Qf(e,t,a,n){return Vr(),t.flags|=256,ft(e,t,a,n),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Ud()}}function Yo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Pt),e}function If(e,t,a){var n=t.pendingProps,o=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),v&&(o=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(o?Da(t):Na(),ze){var w=Je,k;if(k=w){e:{for(k=w,w=Jt;k.nodeType!==8;){if(!w){w=null;break e}if(k=Vt(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(t.memoizedState={dehydrated:w,treeContext:cn!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},k=Ct(18,null,null,0),k.stateNode=w,k.return=t,t.child=k,vt=t,Je=null,k=!0):k=!1}k||fn(t)}if(w=t.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return kc(w)?t.lanes=32:t.lanes=536870912,null;ha(t)}return w=n.children,n=n.fallback,o?(Na(),o=t.mode,w=Ni({mode:"hidden",children:w},o),n=on(n,o,a,null),w.return=t,n.return=t,w.sibling=n,t.child=w,o=t.child,o.memoizedState=Po(a),o.childLanes=Yo(e,v,a),t.memoizedState=qo,n):(Da(t),Go(t,w))}if(k=e.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(d)t.flags&256?(Da(t),t.flags&=-257,t=Wo(e,t,a)):t.memoizedState!==null?(Na(),t.child=e.child,t.flags|=128,t=null):(Na(),o=n.fallback,w=t.mode,n=Ni({mode:"visible",children:n.children},w),o=on(o,w,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Fn(t,e.child,null,a),n=t.child,n.memoizedState=Po(a),n.childLanes=Yo(e,v,a),t.memoizedState=qo,t=o);else if(Da(t),kc(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var L=v.dgst;v=L,n=Error(i(419)),n.stack="",n.digest=v,Qr({value:n,source:null,stack:null}),t=Wo(e,t,a)}else if(it||Ir(e,t,a,!1),v=(a&e.childLanes)!==0,it||v){if(v=Ge,v!==null&&(n=a&-a,n=(n&42)!==0?1:kl(n),n=(n&(v.suspendedLanes|a))!==0?0:n,n!==0&&n!==k.retryLane))throw k.retryLane=n,Pn(e,n),Nt(v,e,n),$f;w.data==="$?"||cc(),t=Wo(e,t,a)}else w.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,Je=Vt(w.nextSibling),vt=t,ze=!0,dn=null,Jt=!1,e!==null&&(Ht[$t++]=oa,Ht[$t++]=ca,Ht[$t++]=cn,oa=e.id,ca=e.overflow,cn=t),t=Go(t,n.children),t.flags|=4096);return t}return o?(Na(),o=n.fallback,w=t.mode,k=e.child,L=k.sibling,n=la(k,{mode:"hidden",children:n.children}),n.subtreeFlags=k.subtreeFlags&65011712,L!==null?o=la(L,o):(o=on(o,w,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,w=e.child.memoizedState,w===null?w=Po(a):(k=w.cachePool,k!==null?(L=nt._currentValue,k=k.parent!==L?{parent:L,pool:L}:k):k=Ud(),w={baseLanes:w.baseLanes|a,cachePool:k}),o.memoizedState=w,o.childLanes=Yo(e,v,a),t.memoizedState=qo,n):(Da(t),a=e.child,e=a.sibling,a=la(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function Go(e,t){return t=Ni({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ni(e,t){return e=Ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,a){return Fn(t,e.child,null,a),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oo(e.return,t,a)}function Ko(e,t,a,n,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=o)}function Jf(e,t,a){var n=t.pendingProps,o=n.revealOrder,d=n.tail;if(ft(e,t,n.children,a),n=rt.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xf(e,a,t);else if(e.tag===19)Xf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(X(rt,n),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Ri(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Ko(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ri(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Ko(t,!0,a,null,d);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ir(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=la(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=la(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Vo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hi(e)))}function yp(e,t,a){switch(t.tag){case 3:he(t,t.stateNode.containerInfo),ja(t,nt,e.memoizedState.cache),Vr();break;case 27:case 5:Me(t);break;case 4:he(t,t.stateNode.containerInfo);break;case 10:ja(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Da(t),t.flags|=128,null):(a&t.child.childLanes)!==0?If(e,t,a):(Da(t),e=ga(e,t,a),e!==null?e.sibling:null);Da(t);break;case 19:var o=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Ir(e,t,a,!1),n=(a&t.childLanes)!==0),o){if(n)return Jf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Gf(e,t,a);case 24:ja(t,nt,e.memoizedState.cache)}return ga(e,t,a)}function Zf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Vo(e,a)&&(t.flags&128)===0)return it=!1,yp(e,t,a);it=(e.flags&131072)!==0}else it=!1,ze&&(t.flags&1048576)!==0&&jd(t,fi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,o=n._init;if(n=o(n._payload),t.type=n,typeof n=="function")to(n)?(e=yn(n,e),t.tag=1,t=Vf(null,t,n,e,a)):(t.tag=0,t=$o(null,t,n,e,a));else{if(n!=null){if(o=n.$$typeof,o===q){t.tag=11,t=qf(null,t,n,e,a);break e}else if(o===ee){t.tag=14,t=Pf(null,t,n,e,a);break e}}throw t=xe(n)||n,Error(i(306,t,""))}}return t;case 0:return $o(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,o=yn(n,t.pendingProps),Vf(e,t,n,o,a);case 3:e:{if(he(t,t.stateNode.containerInfo),e===null)throw Error(i(387));n=t.pendingProps;var d=t.memoizedState;o=d.element,po(e,t),as(t,n,null,a);var v=t.memoizedState;if(n=v.cache,ja(t,nt,n),n!==d.cache&&co(t,[nt],a,!0),ts(),n=v.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Qf(e,t,n,a);break e}else if(n!==o){o=Lt(Error(i(424)),t),Qr(o),t=Qf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=Vt(e.firstChild),vt=t,ze=!0,dn=null,Jt=!0,a=Af(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vr(),n===o){t=ga(e,t,a);break e}ft(e,t,n,a)}t=t.child}return t;case 26:return Di(e,t),e===null?(a=ag(t.type,null,t.pendingProps,null))?t.memoizedState=a:ze||(a=t.type,e=t.pendingProps,n=Vi(te.current).createElement(a),n[mt]=t,n[bt]=e,gt(n,a,e),st(n),t.stateNode=n):t.memoizedState=ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Me(t),e===null&&ze&&(n=t.stateNode=Fh(t.type,t.pendingProps,te.current),vt=t,Jt=!0,o=Je,Pa(t.type)?(jc=o,Je=Vt(n.firstChild)):Je=o),ft(e,t,t.pendingProps.children,a),Di(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((o=n=Je)&&(n=Wp(n,t.type,t.pendingProps,Jt),n!==null?(t.stateNode=n,vt=t,Je=Vt(n.firstChild),Jt=!1,o=!0):o=!1),o||fn(t)),Me(t),o=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,n=d.children,_c(o,d)?n=null:v!==null&&_c(o,v)&&(t.flags|=32),t.memoizedState!==null&&(o=So(e,t,cp,null,null,a),Ts._currentValue=o),Di(e,t),ft(e,t,n,a),t.child;case 6:return e===null&&ze&&((e=a=Je)&&(a=Kp(a,t.pendingProps,Jt),a!==null?(t.stateNode=a,vt=t,Je=null,e=!0):e=!1),e||fn(t)),null;case 13:return If(e,t,a);case 4:return he(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fn(t,null,n,a):ft(e,t,n,a),t.child;case 11:return qf(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ja(t,t.type,n.value),ft(e,t,n.children,a),t.child;case 9:return o=t.type._context,n=t.pendingProps.children,gn(t),o=pt(o),n=n(o),t.flags|=1,ft(e,t,n,a),t.child;case 14:return Pf(e,t,t.type,t.pendingProps,a);case 15:return Yf(e,t,t.type,t.pendingProps,a);case 19:return Jf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Ni(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=la(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Gf(e,t,a);case 24:return gn(t),n=pt(nt),e===null?(o=ho(),o===null&&(o=Ge,d=uo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:n,cache:o},mo(t),ja(t,nt,o)):((e.lanes&a)!==0&&(po(e,t),as(t,null,null,a),ts()),o=e.memoizedState,d=t.memoizedState,o.parent!==n?(o={parent:n,cache:n},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ja(t,nt,n)):(n=d.cache,ja(t,nt,n),n!==o.cache&&co(t,[nt],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ma(e){e.flags|=4}function Ff(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lg(t)){if(t=qt.current,t!==null&&((Oe&4194048)===Oe?Zt!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||t!==Zt))throw Fr=go,Md;e.flags|=8192}}function Ui(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Au():536870912,e.lanes|=t,nr|=t)}function cs(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function vp(e,t,a){var n=t.pendingProps;switch(so(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),da(nt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ad())),Ie(t),null;case 26:return a=t.memoizedState,e===null?(ma(t),a!==null?(Ie(t),Ff(t,a)):(Ie(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ma(t),Ie(t),Ff(t,a)):(Ie(t),t.flags&=-16777217):(e.memoizedProps!==n&&ma(t),Ie(t),t.flags&=-16777217),null;case 27:Ke(t),a=te.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ma(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return Ie(t),null}e=re.current,Kr(t)?Cd(t):(e=Fh(o,n,a),t.stateNode=e,ma(t))}return Ie(t),null;case 5:if(Ke(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ma(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return Ie(t),null}if(e=re.current,Kr(t))Cd(t);else{switch(o=Vi(te.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}e[mt]=t,e[bt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(gt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ma(t)}}return Ie(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ma(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(i(166));if(e=te.current,Kr(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,o=vt,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[mt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Kh(e.nodeValue,a)),e||fn(t)}else e=Vi(e).createTextNode(n),e[mt]=t,t.stateNode=e}return Ie(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Kr(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[mt]=t}else Vr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else o=Ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ha(t),t):(ha(t),null)}if(ha(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ui(t,t.updateQueue),Ie(t),null;case 4:return Ue(),e===null&&vc(t.stateNode.containerInfo),Ie(t),null;case 10:return da(t.type),Ie(t),null;case 19:if(I(rt),o=t.memoizedState,o===null)return Ie(t),null;if(n=(t.flags&128)!==0,d=o.rendering,d===null)if(n)cs(o,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ri(e),d!==null){for(t.flags|=128,cs(o,!1),e=d.updateQueue,t.updateQueue=e,Ui(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)kd(a,e),a=a.sibling;return X(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Z()>Li&&(t.flags|=128,n=!0,cs(o,!1),t.lanes=4194304)}else{if(!n)if(e=Ri(d),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ui(t,e),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ze)return Ie(t),null}else 2*Z()-o.renderingStartTime>Li&&a!==536870912&&(t.flags|=128,n=!0,cs(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Z(),t.sibling=null,e=rt.current,X(rt,n?e&1|2:e&1),t):(Ie(t),null);case 22:case 23:return ha(t),xo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),a=t.updateQueue,a!==null&&Ui(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&I(mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(nt),Ie(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function bp(e,t){switch(so(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(nt),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ke(t),null;case 13:if(ha(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(rt),null;case 4:return Ue(),null;case 10:return da(t.type),null;case 22:case 23:return ha(t),xo(),e!==null&&I(mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(nt),null;case 25:return null;default:return null}}function eh(e,t){switch(so(t),t.tag){case 3:da(nt),Ue();break;case 26:case 27:case 5:Ke(t);break;case 4:Ue();break;case 13:ha(t);break;case 19:I(rt);break;case 10:da(t.type);break;case 22:case 23:ha(t),xo(),e!==null&&I(mn);break;case 24:da(nt)}}function us(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&e)===e){n=void 0;var d=a.create,v=a.inst;n=d(),v.destroy=n}a=a.next}while(a!==o)}}catch(w){Ye(t,t.return,w)}}function Ua(e,t,a){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var d=o.next;n=d;do{if((n.tag&e)===e){var v=n.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,o=t;var k=a,L=w;try{L()}catch(W){Ye(o,k,W)}}}n=n.next}while(n!==d)}}catch(W){Ye(t,t.return,W)}}function th(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{qd(t,a)}catch(n){Ye(e,e.return,n)}}}function ah(e,t,a){a.props=yn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ye(e,t,n)}}function ds(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(o){Ye(e,t,o)}}function Ft(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){Ye(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ye(e,t,o)}else a.current=null}function nh(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){Ye(e,e.return,o)}}function Qo(e,t,a){try{var n=e.stateNode;$p(n,e.type,a,t),n[bt]=t}catch(o){Ye(e,e.return,o)}}function rh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function Io(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ki));else if(n!==4&&(n===27&&Pa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function Mi(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Mi(e,t,a),e=e.sibling;e!==null;)Mi(e,t,a),e=e.sibling}function sh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);gt(t,n,a),t[mt]=e,t[bt]=a}catch(d){Ye(e,e.return,d)}}var pa=!1,et=!1,Jo=!1,ih=typeof WeakSet=="function"?WeakSet:Set,lt=null;function xp(e,t){if(e=e.containerInfo,wc=Fi,e=pd(e),Ql(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,k=-1,L=0,W=0,Q=e,B=null;t:for(;;){for(var $;Q!==a||o!==0&&Q.nodeType!==3||(w=v+o),Q!==d||n!==0&&Q.nodeType!==3||(k=v+n),Q.nodeType===3&&(v+=Q.nodeValue.length),($=Q.firstChild)!==null;)B=Q,Q=$;for(;;){if(Q===e)break t;if(B===a&&++L===o&&(w=v),B===d&&++W===n&&(k=v),($=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=$}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sc={focusedElem:e,selectionRange:a},Fi=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,n=a.stateNode;try{var we=yn(a.type,o,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(we,d),n.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ec(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ec(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function lh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ma(e,a),n&4&&us(5,a);break;case 1:if(Ma(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){Ye(a,a.return,v)}else{var o=yn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ye(a,a.return,v)}}n&64&&th(a),n&512&&ds(a,a.return);break;case 3:if(Ma(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{qd(e,t)}catch(v){Ye(a,a.return,v)}}break;case 27:t===null&&n&4&&sh(a);case 26:case 5:Ma(e,a),t===null&&n&4&&nh(a),n&512&&ds(a,a.return);break;case 12:Ma(e,a);break;case 13:Ma(e,a),n&4&&uh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Rp.bind(null,a),Vp(e,a))));break;case 22:if(n=a.memoizedState!==null||pa,!n){t=t!==null&&t.memoizedState!==null||et,o=pa;var d=et;pa=n,(et=t)&&!d?za(e,a,(a.subtreeFlags&8772)!==0):Ma(e,a),pa=o,et=d}break;case 30:break;default:Ma(e,a)}}function oh(e){var t=e.alternate;t!==null&&(e.alternate=null,oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,St=!1;function ya(e,t,a){for(a=a.child;a!==null;)ch(e,t,a),a=a.sibling}function ch(e,t,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Dr,a)}catch{}switch(a.tag){case 26:et||Ft(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||Ft(a,t);var n=Ve,o=St;Pa(a.type)&&(Ve=a.stateNode,St=!1),ya(e,t,a),xs(a.stateNode),Ve=n,St=o;break;case 5:et||Ft(a,t);case 6:if(n=Ve,o=St,Ve=null,ya(e,t,a),Ve=n,St=o,Ve!==null)if(St)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(d){Ye(a,t,d)}else try{Ve.removeChild(a.stateNode)}catch(d){Ye(a,t,d)}break;case 18:Ve!==null&&(St?(e=Ve,Jh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Cs(e)):Jh(Ve,a.stateNode));break;case 4:n=Ve,o=St,Ve=a.stateNode.containerInfo,St=!0,ya(e,t,a),Ve=n,St=o;break;case 0:case 11:case 14:case 15:et||Ua(2,a,t),et||Ua(4,a,t),ya(e,t,a);break;case 1:et||(Ft(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ah(a,t,n)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:et=(n=et)||a.memoizedState!==null,ya(e,t,a),et=n;break;default:ya(e,t,a)}}function uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cs(e)}catch(a){Ye(t,t.return,a)}}function wp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ih),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ih),t;default:throw Error(i(435,e.tag))}}function Zo(e,t){var a=wp(e);t.forEach(function(n){var o=Ap.bind(null,e,n);a.has(n)||(a.add(n),n.then(o,o))})}function Rt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],d=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Pa(w.type)){Ve=w.stateNode,St=!1;break e}break;case 5:Ve=w.stateNode,St=!1;break e;case 3:case 4:Ve=w.stateNode.containerInfo,St=!0;break e}w=w.return}if(Ve===null)throw Error(i(160));ch(d,v,o),Ve=null,St=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}var Kt=null;function dh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),At(e),n&4&&(Ua(3,e,e.return),us(3,e),Ua(5,e,e.return));break;case 1:Rt(t,e),At(e),n&512&&(et||a===null||Ft(a,a.return)),n&64&&pa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=Kt;if(Rt(t,e),At(e),n&512&&(et||a===null||Ft(a,a.return)),n&4){var d=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Mr]||d[mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(n),o.head.insertBefore(d,o.querySelector("head > title"))),gt(d,n,a),d[mt]=e,st(d),n=d;break e;case"link":var v=sg("link","href",o).get(n+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=o.createElement(n),gt(d,n,a),o.head.appendChild(d);break;case"meta":if(v=sg("meta","content",o).get(n+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=o.createElement(n),gt(d,n,a),o.head.appendChild(d);break;default:throw Error(i(468,n))}d[mt]=e,st(d),n=d}e.stateNode=n}else ig(o,e.type,e.stateNode);else e.stateNode=rg(o,n,e.memoizedProps);else d!==n?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,n===null?ig(o,e.type,e.stateNode):rg(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Qo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rt(t,e),At(e),n&512&&(et||a===null||Ft(a,a.return)),a!==null&&n&4&&Qo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rt(t,e),At(e),n&512&&(et||a===null||Ft(a,a.return)),e.flags&32){o=e.stateNode;try{Mn(o,"")}catch($){Ye(e,e.return,$)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,Qo(e,o,a!==null?a.memoizedProps:o)),n&1024&&(Jo=!0);break;case 6:if(Rt(t,e),At(e),n&4){if(e.stateNode===null)throw Error(i(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch($){Ye(e,e.return,$)}}break;case 3:if(Xi=null,o=Kt,Kt=Qi(t.containerInfo),Rt(t,e),Kt=o,At(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch($){Ye(e,e.return,$)}Jo&&(Jo=!1,fh(e));break;case 4:n=Kt,Kt=Qi(e.stateNode.containerInfo),Rt(t,e),At(e),Kt=n;break;case 12:Rt(t,e),At(e);break;case 13:Rt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=Z()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zo(e,n)));break;case 22:o=e.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,L=pa,W=et;if(pa=L||o,et=W||k,Rt(t,e),et=W,pa=L,At(e),n&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||k||pa||et||vn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){k=a=t;try{if(d=k.stateNode,o)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=k.stateNode;var Q=k.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch($){Ye(k,k.return,$)}}}else if(t.tag===6){if(a===null){k=t;try{k.stateNode.nodeValue=o?"":k.memoizedProps}catch($){Ye(k,k.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Zo(e,a))));break;case 19:Rt(t,e),At(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Zo(e,n)));break;case 30:break;case 21:break;default:Rt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(rh(n)){a=n;break}n=n.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,d=Io(e);Mi(e,d,o);break;case 5:var v=a.stateNode;a.flags&32&&(Mn(v,""),a.flags&=-33);var w=Io(e);Mi(e,w,v);break;case 3:case 4:var k=a.stateNode.containerInfo,L=Io(e);Xo(e,L,k);break;default:throw Error(i(161))}}catch(W){Ye(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lh(e,t.alternate,t),t=t.sibling}function vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),vn(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ah(t,t.return,a),vn(t);break;case 27:xs(t.stateNode);case 26:case 5:Ft(t,t.return),vn(t);break;case 22:t.memoizedState===null&&vn(t);break;case 30:vn(t);break;default:vn(t)}e=e.sibling}}function za(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,o=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:za(o,d,a),us(4,d);break;case 1:if(za(o,d,a),n=d,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(L){Ye(n,n.return,L)}if(n=d,o=n.updateQueue,o!==null){var w=n.stateNode;try{var k=o.shared.hiddenCallbacks;if(k!==null)for(o.shared.hiddenCallbacks=null,o=0;o<k.length;o++)$d(k[o],w)}catch(L){Ye(n,n.return,L)}}a&&v&64&&th(d),ds(d,d.return);break;case 27:sh(d);case 26:case 5:za(o,d,a),a&&n===null&&v&4&&nh(d),ds(d,d.return);break;case 12:za(o,d,a);break;case 13:za(o,d,a),a&&v&4&&uh(o,d);break;case 22:d.memoizedState===null&&za(o,d,a),ds(d,d.return);break;case 30:break;default:za(o,d,a)}t=t.sibling}}function Fo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xr(a))}function ec(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e))}function ea(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hh(e,t,a,n),t=t.sibling}function hh(e,t,a,n){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,a,n),o&2048&&us(9,t);break;case 1:ea(e,t,a,n);break;case 3:ea(e,t,a,n),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e)));break;case 12:if(o&2048){ea(e,t,a,n),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ye(t,t.return,k)}}else ea(e,t,a,n);break;case 13:ea(e,t,a,n);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?ea(e,t,a,n):fs(e,t):d._visibility&2?ea(e,t,a,n):(d._visibility|=2,er(e,t,a,n,(t.subtreeFlags&10256)!==0)),o&2048&&Fo(v,t);break;case 24:ea(e,t,a,n),o&2048&&ec(t.alternate,t);break;default:ea(e,t,a,n)}}function er(e,t,a,n,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,v=t,w=a,k=n,L=v.flags;switch(v.tag){case 0:case 11:case 15:er(d,v,w,k,o),us(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?er(d,v,w,k,o):fs(d,v):(W._visibility|=2,er(d,v,w,k,o)),o&&L&2048&&Fo(v.alternate,v);break;case 24:er(d,v,w,k,o),o&&L&2048&&ec(v.alternate,v);break;default:er(d,v,w,k,o)}t=t.sibling}}function fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,o=n.flags;switch(n.tag){case 22:fs(a,n),o&2048&&Fo(n.alternate,n);break;case 24:fs(a,n),o&2048&&ec(n.alternate,n);break;default:fs(a,n)}t=t.sibling}}var hs=8192;function tr(e){if(e.subtreeFlags&hs)for(e=e.child;e!==null;)gh(e),e=e.sibling}function gh(e){switch(e.tag){case 26:tr(e),e.flags&hs&&e.memoizedState!==null&&iy(Kt,e.memoizedState,e.memoizedProps);break;case 5:tr(e);break;case 3:case 4:var t=Kt;Kt=Qi(e.stateNode.containerInfo),tr(e),Kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=hs,hs=16777216,tr(e),hs=t):tr(e));break;default:tr(e)}}function mh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];lt=n,yh(n,e)}mh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ph(e),e=e.sibling}function ph(e){switch(e.tag){case 0:case 11:case 15:gs(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:gs(e);break;case 12:gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zi(e)):gs(e);break;default:gs(e)}}function zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];lt=n,yh(n,e)}mh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),zi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,zi(t));break;default:zi(t)}e=e.sibling}}function yh(e,t){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Xr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,lt=n;else e:for(a=e;lt!==null;){n=lt;var o=n.sibling,d=n.return;if(oh(n),n===a){lt=null;break e}if(o!==null){o.return=d,lt=o;break e}lt=d}}}var Sp={getCacheForType:function(e){var t=pt(nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},_p=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ge=null,Ce=null,Oe=0,Be=0,Ot=null,La=!1,ar=!1,tc=!1,va=0,Ze=0,Ba=0,bn=0,ac=0,Pt=0,nr=0,ms=null,_t=null,nc=!1,rc=0,Li=1/0,Bi=null,Ha=null,ht=0,$a=null,rr=null,sr=0,sc=0,ic=null,vh=null,ps=0,lc=null;function Dt(){if((Le&2)!==0&&Oe!==0)return Oe&-Oe;if(M.T!==null){var e=Kn;return e!==0?e:gc()}return Nu()}function bh(){Pt===0&&(Pt=(Oe&536870912)===0||ze?Ru():536870912);var e=qt.current;return e!==null&&(e.flags|=32),Pt}function Nt(e,t,a){(e===Ge&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(ir(e,0),qa(e,Oe,Pt,!1)),Ur(e,a),((Le&2)===0||e!==Ge)&&(e===Ge&&((Le&2)===0&&(bn|=a),Ze===4&&qa(e,Oe,Pt,!1)),ta(e))}function xh(e,t,a){if((Le&6)!==0)throw Error(i(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Nr(e,t),o=n?kp(e,t):uc(e,t,!0),d=n;do{if(o===0){ar&&!n&&qa(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Tp(a)){o=uc(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var w=e;o=ms;var k=w.current.memoizedState.isDehydrated;if(k&&(ir(w,v).flags|=256),v=uc(w,v,!1),v!==2){if(tc&&!k){w.errorRecoveryDisabledLanes|=d,bn|=d,o=4;break e}d=_t,_t=o,d!==null&&(_t===null?_t=d:_t.push.apply(_t,d))}o=v}if(d=!1,o!==2)continue}}if(o===1){ir(e,0),qa(e,t,0,!0);break}e:{switch(n=e,d=o,d){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:qa(n,t,Pt,!La);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=rc+300-Z(),10<o)){if(qa(n,t,Pt,!La),Is(n,0,!0)!==0)break e;n.timeoutHandle=Ih(wh.bind(null,n,a,_t,Bi,nc,t,Pt,bn,nr,La,d,2,-0,0),o);break e}wh(n,a,_t,Bi,nc,t,Pt,bn,nr,La,d,0,-0,0)}}break}while(!0);ta(e)}function wh(e,t,a,n,o,d,v,w,k,L,W,Q,B,$){if(e.timeoutHandle=-1,Q=t.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(_s={stylesheets:null,count:0,unsuspend:sy},gh(t),Q=ly(),Q!==null)){e.cancelPendingCommit=Q(Ch.bind(null,e,t,d,a,n,o,v,w,k,W,1,B,$)),qa(e,d,v,!L);return}Ch(e,t,d,a,n,o,v,w,k)}function Tp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],d=o.getSnapshot;o=o.value;try{if(!jt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,a,n){t&=~ac,t&=~bn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var o=t;0<o;){var d=31-kt(o),v=1<<d;n[d]=-1,o&=~v}a!==0&&Ou(e,a,t)}function Hi(){return(Le&6)===0?(ys(0),!1):!0}function oc(){if(Ce!==null){if(Be===0)var e=Ce.return;else e=Ce,ua=hn=null,Eo(e),Zn=null,ls=0,e=Ce;for(;e!==null;)eh(e.alternate,e),e=e.return;Ce=null}}function ir(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),oc(),Ge=e,Ce=a=la(e.current,null),Oe=t,Be=0,Ot=null,La=!1,ar=Nr(e,t),tc=!1,nr=Pt=ac=bn=Ba=Ze=0,_t=ms=null,nc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var o=31-kt(n),d=1<<o;t|=e[o],n&=~d}return va=t,li(),a}function Sh(e,t){ke=null,M.H=ki,t===Zr||t===pi?(t=Bd(),Be=3):t===Md?(t=Bd(),Be=4):Be=t===$f?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,Ce===null&&(Ze=1,Oi(e,Lt(t,e.current)))}function _h(){var e=M.H;return M.H=ki,e===null?ki:e}function Th(){var e=M.A;return M.A=Sp,e}function cc(){Ze=4,La||(Oe&4194048)!==Oe&&qt.current!==null||(ar=!0),(Ba&134217727)===0&&(bn&134217727)===0||Ge===null||qa(Ge,Oe,Pt,!1)}function uc(e,t,a){var n=Le;Le|=2;var o=_h(),d=Th();(Ge!==e||Oe!==t)&&(Bi=null,ir(e,t)),t=!1;var v=Ze;e:do try{if(Be!==0&&Ce!==null){var w=Ce,k=Ot;switch(Be){case 8:oc(),v=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var L=Be;if(Be=0,Ot=null,lr(e,w,k,L),a&&ar){v=0;break e}break;default:L=Be,Be=0,Ot=null,lr(e,w,k,L)}}Ep(),v=Ze;break}catch(W){Sh(e,W)}while(!0);return t&&e.shellSuspendCounter++,ua=hn=null,Le=n,M.H=o,M.A=d,Ce===null&&(Ge=null,Oe=0,li()),v}function Ep(){for(;Ce!==null;)Eh(Ce)}function kp(e,t){var a=Le;Le|=2;var n=_h(),o=Th();Ge!==e||Oe!==t?(Bi=null,Li=Z()+500,ir(e,t)):ar=Nr(e,t);e:do try{if(Be!==0&&Ce!==null){t=Ce;var d=Ot;t:switch(Be){case 1:Be=0,Ot=null,lr(e,t,d,1);break;case 2:case 9:if(zd(d)){Be=0,Ot=null,kh(t);break}t=function(){Be!==2&&Be!==9||Ge!==e||(Be=7),ta(e)},d.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:zd(d)?(Be=0,Ot=null,kh(t)):(Be=0,Ot=null,lr(e,t,d,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var w=Ce;if(!v||lg(v)){Be=0,Ot=null;var k=w.sibling;if(k!==null)Ce=k;else{var L=w.return;L!==null?(Ce=L,$i(L)):Ce=null}break t}}Be=0,Ot=null,lr(e,t,d,5);break;case 6:Be=0,Ot=null,lr(e,t,d,6);break;case 8:oc(),Ze=6;break e;default:throw Error(i(462))}}jp();break}catch(W){Sh(e,W)}while(!0);return ua=hn=null,M.H=n,M.A=o,Le=a,Ce!==null?0:(Ge=null,Oe=0,li(),Ze)}function jp(){for(;Ce!==null&&!pe();)Eh(Ce)}function Eh(e){var t=Zf(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?$i(e):Ce=t}function kh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Kf(a,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Kf(a,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Eo(t);default:eh(a,t),t=Ce=kd(t,va),t=Zf(a,t,va)}e.memoizedProps=e.pendingProps,t===null?$i(e):Ce=t}function lr(e,t,a,n){ua=hn=null,Eo(t),Zn=null,ls=0;var o=t.return;try{if(pp(e,o,t,a,Oe)){Ze=1,Oi(e,Lt(a,e.current)),Ce=null;return}}catch(d){if(o!==null)throw Ce=o,d;Ze=1,Oi(e,Lt(a,e.current)),Ce=null;return}t.flags&32768?(ze||n===1?e=!0:ar||(Oe&536870912)!==0?e=!1:(La=e=!0,(n===2||n===9||n===3||n===6)&&(n=qt.current,n!==null&&n.tag===13&&(n.flags|=16384))),jh(t,e)):$i(t)}function $i(e){var t=e;do{if((t.flags&32768)!==0){jh(t,La);return}e=t.return;var a=vp(t.alternate,t,va);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Ze===0&&(Ze=5)}function jh(e,t){do{var a=bp(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);Ze=6,Ce=null}function Ch(e,t,a,n,o,d,v,w,k){e.cancelPendingCommit=null;do qi();while(ht!==0);if((Le&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(d=t.lanes|t.childLanes,d|=Fl,s0(e,a,d,v,w,k),e===Ge&&(Ce=Ge=null,Oe=0),rr=t,$a=e,sr=a,sc=d,ic=o,vh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Op(Xe,function(){return Nh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null,o=Y.p,Y.p=2,v=Le,Le|=4;try{xp(e,t,a)}finally{Le=v,Y.p=o,M.T=n}}ht=1,Rh(),Ah(),Oh()}}function Rh(){if(ht===1){ht=0;var e=$a,t=rr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var n=Y.p;Y.p=2;var o=Le;Le|=4;try{dh(t,e);var d=Sc,v=pd(e.containerInfo),w=d.focusedElem,k=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&md(w.ownerDocument.documentElement,w)){if(k!==null&&Ql(w)){var L=k.start,W=k.end;if(W===void 0&&(W=L),"selectionStart"in w)w.selectionStart=L,w.selectionEnd=Math.min(W,w.value.length);else{var Q=w.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var $=B.getSelection(),we=w.textContent.length,ye=Math.min(k.start,we),Pe=k.end===void 0?ye:Math.min(k.end,we);!$.extend&&ye>Pe&&(v=Pe,Pe=ye,ye=v);var U=gd(w,ye),O=gd(w,Pe);if(U&&O&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var z=Q.createRange();z.setStart(U.node,U.offset),$.removeAllRanges(),ye>Pe?($.addRange(z),$.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),$.addRange(z))}}}}for(Q=[],$=w;$=$.parentNode;)$.nodeType===1&&Q.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var V=Q[w];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Fi=!!wc,Sc=wc=null}finally{Le=o,Y.p=n,M.T=a}}e.current=t,ht=2}}function Ah(){if(ht===2){ht=0;var e=$a,t=rr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var n=Y.p;Y.p=2;var o=Le;Le|=4;try{lh(e,t.alternate,t)}finally{Le=o,Y.p=n,M.T=a}}ht=3}}function Oh(){if(ht===4||ht===3){ht=0,le();var e=$a,t=rr,a=sr,n=vh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,rr=$a=null,Dh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ha=null),jl(a),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Dr,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=M.T,o=Y.p,Y.p=2,M.T=null;try{for(var d=e.onRecoverableError,v=0;v<n.length;v++){var w=n[v];d(w.value,{componentStack:w.stack})}}finally{M.T=t,Y.p=o}}(sr&3)!==0&&qi(),ta(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===lc?ps++:(ps=0,lc=e):ps=0,ys(0)}}function Dh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xr(t)))}function qi(e){return Rh(),Ah(),Oh(),Nh()}function Nh(){if(ht!==5)return!1;var e=$a,t=sc;sc=0;var a=jl(sr),n=M.T,o=Y.p;try{Y.p=32>a?32:a,M.T=null,a=ic,ic=null;var d=$a,v=sr;if(ht=0,rr=$a=null,sr=0,(Le&6)!==0)throw Error(i(331));var w=Le;if(Le|=4,ph(d.current),hh(d,d.current,v,a),Le=w,ys(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Dr,d)}catch{}return!0}finally{Y.p=o,M.T=n,Dh(e,t)}}function Uh(e,t,a){t=Lt(a,t),t=Ho(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Ur(e,2),ta(e))}function Ye(e,t,a){if(e.tag===3)Uh(e,e,a);else for(;t!==null;){if(t.tag===3){Uh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ha===null||!Ha.has(n))){e=Lt(a,e),a=Bf(2),n=Aa(t,a,2),n!==null&&(Hf(a,n,t,e),Ur(n,2),ta(n));break}}t=t.return}}function dc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new _p;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(a)||(tc=!0,o.add(a),e=Cp.bind(null,e,t,a),t.then(e,e))}function Cp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Oe&a)===a&&(Ze===4||Ze===3&&(Oe&62914560)===Oe&&300>Z()-rc?(Le&2)===0&&ir(e,0):ac|=a,nr===Oe&&(nr=0)),ta(e)}function Mh(e,t){t===0&&(t=Au()),e=Pn(e,t),e!==null&&(Ur(e,t),ta(e))}function Rp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Mh(e,a)}function Ap(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}n!==null&&n.delete(t),Mh(e,a)}function Op(e,t){return ce(e,t)}var Pi=null,or=null,fc=!1,Yi=!1,hc=!1,xn=0;function ta(e){e!==or&&e.next===null&&(or===null?Pi=or=e:or=or.next=e),Yi=!0,fc||(fc=!0,Np())}function ys(e,t){if(!hc&&Yi){hc=!0;do for(var a=!1,n=Pi;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var d=0;else{var v=n.suspendedLanes,w=n.pingedLanes;d=(1<<31-kt(42|e)+1)-1,d&=o&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Hh(n,d))}else d=Oe,d=Is(n,n===Ge?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||Nr(n,d)||(a=!0,Hh(n,d));n=n.next}while(a);hc=!1}}function Dp(){zh()}function zh(){Yi=fc=!1;var e=0;xn!==0&&(qp()&&(e=xn),xn=0);for(var t=Z(),a=null,n=Pi;n!==null;){var o=n.next,d=Lh(n,t);d===0?(n.next=null,a===null?Pi=o:a.next=o,o===null&&(or=a)):(a=n,(e!==0||(d&3)!==0)&&(Yi=!0)),n=o}ys(e)}function Lh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-kt(d),w=1<<v,k=o[v];k===-1?((w&a)===0||(w&n)!==0)&&(o[v]=r0(w,t)):k<=t&&(e.expiredLanes|=w),d&=~w}if(t=Ge,a=Oe,a=Is(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&de(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Nr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&de(n),jl(a)){case 2:case 8:a=De;break;case 32:a=Xe;break;case 268435456:a=Ks;break;default:a=Xe}return n=Bh.bind(null,e),a=ce(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&de(n),e.callbackPriority=2,e.callbackNode=null,2}function Bh(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qi()&&e.callbackNode!==a)return null;var n=Oe;return n=Is(e,e===Ge?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(xh(e,n,t),Lh(e,Z()),e.callbackNode!=null&&e.callbackNode===a?Bh.bind(null,e):null)}function Hh(e,t){if(qi())return null;xh(e,t,!0)}function Np(){Yp(function(){(Le&6)!==0?ce(ve,Dp):zh()})}function gc(){return xn===0&&(xn=Ru()),xn}function $h(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function qh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Up(e,t,a,n,o){if(t==="submit"&&a&&a.stateNode===o){var d=$h((o[bt]||null).action),v=n.submitter;v&&(t=(t=v[bt]||null)?$h(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var w=new ri("action","action",null,n,o);e.push({event:w,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(xn!==0){var k=v?qh(o,v):new FormData(o);Uo(a,{pending:!0,data:k,method:o.method,action:d},null,k)}}else typeof d=="function"&&(w.preventDefault(),k=v?qh(o,v):new FormData(o),Uo(a,{pending:!0,data:k,method:o.method,action:d},d,k))},currentTarget:o}]})}}for(var mc=0;mc<Zl.length;mc++){var pc=Zl[mc],Mp=pc.toLowerCase(),zp=pc[0].toUpperCase()+pc.slice(1);Wt(Mp,"on"+zp)}Wt(bd,"onAnimationEnd"),Wt(xd,"onAnimationIteration"),Wt(wd,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(F0,"onTransitionRun"),Wt(ep,"onTransitionStart"),Wt(tp,"onTransitionCancel"),Wt(Sd,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function Ph(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],o=n.event;n=n.listeners;e:{var d=void 0;if(t)for(var v=n.length-1;0<=v;v--){var w=n[v],k=w.instance,L=w.currentTarget;if(w=w.listener,k!==d&&o.isPropagationStopped())break e;d=w,o.currentTarget=L;try{d(o)}catch(W){Ai(W)}o.currentTarget=null,d=k}else for(v=0;v<n.length;v++){if(w=n[v],k=w.instance,L=w.currentTarget,w=w.listener,k!==d&&o.isPropagationStopped())break e;d=w,o.currentTarget=L;try{d(o)}catch(W){Ai(W)}o.currentTarget=null,d=k}}}}function Re(e,t){var a=t[Cl];a===void 0&&(a=t[Cl]=new Set);var n=e+"__bubble";a.has(n)||(Yh(t,e,2,!1),a.add(n))}function yc(e,t,a){var n=0;t&&(n|=4),Yh(a,e,n,t)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function vc(e){if(!e[Gi]){e[Gi]=!0,Mu.forEach(function(a){a!=="selectionchange"&&(Lp.has(a)||yc(a,!1,e),yc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gi]||(t[Gi]=!0,yc("selectionchange",!1,t))}}function Yh(e,t,a,n){switch(hg(t)){case 2:var o=uy;break;case 8:o=dy;break;default:o=Dc}a=o.bind(null,t,a,e),o=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function bc(e,t,a,n,o){var d=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var v=n.tag;if(v===3||v===4){var w=n.stateNode.containerInfo;if(w===o)break;if(v===4)for(v=n.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===o)return;v=v.return}for(;w!==null;){if(v=Rn(w),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){n=d=v;continue e}w=w.parentNode}}n=n.return}Iu(function(){var L=d,W=Ll(a),Q=[];e:{var B=_d.get(e);if(B!==void 0){var $=ri,we=e;switch(e){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":$=O0;break;case"focusin":we="focus",$=Yl;break;case"focusout":we="blur",$=Yl;break;case"beforeblur":case"afterblur":$=Yl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=U0;break;case bd:case xd:case wd:$=S0;break;case Sd:$=z0;break;case"scroll":case"scrollend":$=y0;break;case"wheel":$=B0;break;case"copy":case"cut":case"paste":$=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ed;break;case"toggle":case"beforetoggle":$=$0}var ye=(t&4)!==0,Pe=!ye&&(e==="scroll"||e==="scrollend"),U=ye?B!==null?B+"Capture":null:B;ye=[];for(var O=L,z;O!==null;){var V=O;if(z=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||z===null||U===null||(V=Lr(O,U),V!=null&&ye.push(bs(O,V,z))),Pe)break;O=O.return}0<ye.length&&(B=new $(B,we,null,a,W),Q.push({event:B,listeners:ye}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",B&&a!==zl&&(we=a.relatedTarget||a.fromElement)&&(Rn(we)||we[Cn]))break e;if(($||B)&&(B=W.window===W?W:(B=W.ownerDocument)?B.defaultView||B.parentWindow:window,$?(we=a.relatedTarget||a.toElement,$=L,we=we?Rn(we):null,we!==null&&(Pe=u(we),ye=we.tag,we!==Pe||ye!==5&&ye!==27&&ye!==6)&&(we=null)):($=null,we=L),$!==we)){if(ye=Zu,V="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ye=ed,V="onPointerLeave",U="onPointerEnter",O="pointer"),Pe=$==null?B:zr($),z=we==null?B:zr(we),B=new ye(V,O+"leave",$,a,W),B.target=Pe,B.relatedTarget=z,V=null,Rn(W)===L&&(ye=new ye(U,O+"enter",we,a,W),ye.target=z,ye.relatedTarget=Pe,V=ye),Pe=V,$&&we)t:{for(ye=$,U=we,O=0,z=ye;z;z=cr(z))O++;for(z=0,V=U;V;V=cr(V))z++;for(;0<O-z;)ye=cr(ye),O--;for(;0<z-O;)U=cr(U),z--;for(;O--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=cr(ye),U=cr(U)}ye=null}else ye=null;$!==null&&Gh(Q,B,$,ye,!1),we!==null&&Pe!==null&&Gh(Q,Pe,we,ye,!0)}}e:{if(B=L?zr(L):window,$=B.nodeName&&B.nodeName.toLowerCase(),$==="select"||$==="input"&&B.type==="file")var fe=od;else if(id(B))if(cd)fe=X0;else{fe=Q0;var je=V0}else $=B.nodeName,!$||$.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&Ml(L.elementType)&&(fe=od):fe=I0;if(fe&&(fe=fe(e,L))){ld(Q,fe,a,W);break e}je&&je(e,B,L),e==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Ul(B,"number",B.value)}switch(je=L?zr(L):window,e){case"focusin":(id(je)||je.contentEditable==="true")&&(Hn=je,Il=L,Wr=null);break;case"focusout":Wr=Il=Hn=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,yd(Q,a,W);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":yd(Q,a,W)}var ge;if(Wl)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Bn?rd(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(td&&a.locale!=="ko"&&(Bn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Bn&&(ge=Xu()):(ka=W,$l="value"in ka?ka.value:ka.textContent,Bn=!0)),je=Wi(L,be),0<je.length&&(be=new Fu(be,e,null,a,W),Q.push({event:be,listeners:je}),ge?be.data=ge:(ge=sd(a),ge!==null&&(be.data=ge)))),(ge=P0?Y0(e,a):G0(e,a))&&(be=Wi(L,"onBeforeInput"),0<be.length&&(je=new Fu("onBeforeInput","beforeinput",null,a,W),Q.push({event:je,listeners:be}),je.data=ge)),Up(Q,e,L,a,W)}Ph(Q,t)})}function bs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Wi(e,t){for(var a=t+"Capture",n=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Lr(e,a),o!=null&&n.unshift(bs(e,o,d)),o=Lr(e,t),o!=null&&n.push(bs(e,o,d))),e.tag===3)return n;e=e.return}return[]}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gh(e,t,a,n,o){for(var d=t._reactName,v=[];a!==null&&a!==n;){var w=a,k=w.alternate,L=w.stateNode;if(w=w.tag,k!==null&&k===n)break;w!==5&&w!==26&&w!==27||L===null||(k=L,o?(L=Lr(a,d),L!=null&&v.unshift(bs(a,L,k))):o||(L=Lr(a,d),L!=null&&v.push(bs(a,L,k)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var Bp=/\r\n?/g,Hp=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Hp,"")}function Kh(e,t){return t=Wh(t),Wh(e)===t}function Ki(){}function qe(e,t,a,n,o,d){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Mn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Mn(e,""+n);break;case"className":Js(e,"class",n);break;case"tabIndex":Js(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(e,a,n);break;case"style":Vu(e,n,d);break;case"data":if(t!=="object"){Js(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ei(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&qe(e,t,"name",o.name,o,null),qe(e,t,"formEncType",o.formEncType,o,null),qe(e,t,"formMethod",o.formMethod,o,null),qe(e,t,"formTarget",o.formTarget,o,null)):(qe(e,t,"encType",o.encType,o,null),qe(e,t,"method",o.method,o,null),qe(e,t,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ei(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ki);break;case"onScroll":n!=null&&Re("scroll",e);break;case"onScrollEnd":n!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=ei(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Xs(e,"popover",n);break;case"xlinkActuate":sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":sa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":sa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":sa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":sa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Xs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=m0.get(a)||a,Xs(e,a,n))}}function xc(e,t,a,n,o,d){switch(a){case"style":Vu(e,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Mn(e,n):(typeof n=="number"||typeof n=="bigint")&&Mn(e,""+n);break;case"onScroll":n!=null&&Re("scroll",e);break;case"onScrollEnd":n!=null&&Re("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof n=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,o);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Xs(e,a,n)}}}function gt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var n=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qe(e,t,d,v,a,null)}}o&&qe(e,t,"srcSet",a.srcSet,a,null),n&&qe(e,t,"src",a.src,a,null);return;case"input":Re("invalid",e);var w=d=v=o=null,k=null,L=null;for(n in a)if(a.hasOwnProperty(n)){var W=a[n];if(W!=null)switch(n){case"name":o=W;break;case"type":v=W;break;case"checked":k=W;break;case"defaultChecked":L=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,t));break;default:qe(e,t,n,W,a,null)}}Yu(e,d,w,k,L,v,o,!1),Zs(e);return;case"select":Re("invalid",e),n=v=d=null;for(o in a)if(a.hasOwnProperty(o)&&(w=a[o],w!=null))switch(o){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":n=w;default:qe(e,t,o,w,a,null)}t=d,a=v,e.multiple=!!n,t!=null?Un(e,!!n,t,!1):a!=null&&Un(e,!!n,a,!0);return;case"textarea":Re("invalid",e),d=o=n=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":n=w;break;case"defaultValue":o=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:qe(e,t,v,w,a,null)}Wu(e,n,o,d),Zs(e);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(n=a[k],n!=null))switch(k){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:qe(e,t,k,n,a,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(n=0;n<vs.length;n++)Re(vs[n],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(n=a[L],n!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qe(e,t,L,n,a,null)}return;default:if(Ml(t)){for(W in a)a.hasOwnProperty(W)&&(n=a[W],n!==void 0&&xc(e,t,W,n,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(n=a[w],n!=null&&qe(e,t,w,n,a,null))}function $p(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,v=null,w=null,k=null,L=null,W=null;for($ in a){var Q=a[$];if(a.hasOwnProperty($)&&Q!=null)switch($){case"checked":break;case"value":break;case"defaultValue":k=Q;default:n.hasOwnProperty($)||qe(e,t,$,null,n,Q)}}for(var B in n){var $=n[B];if(Q=a[B],n.hasOwnProperty(B)&&($!=null||Q!=null))switch(B){case"type":d=$;break;case"name":o=$;break;case"checked":L=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:$!==Q&&qe(e,t,B,$,n,Q)}}Nl(e,v,w,k,L,W,d,o);return;case"select":$=v=w=B=null;for(d in a)if(k=a[d],a.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":$=k;default:n.hasOwnProperty(d)||qe(e,t,d,null,n,k)}for(o in n)if(d=n[o],k=a[o],n.hasOwnProperty(o)&&(d!=null||k!=null))switch(o){case"value":B=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==k&&qe(e,t,o,d,n,k)}t=w,a=v,n=$,B!=null?Un(e,!!a,B,!1):!!n!=!!a&&(t!=null?Un(e,!!a,t,!0):Un(e,!!a,a?[]:"",!1));return;case"textarea":$=B=null;for(w in a)if(o=a[w],a.hasOwnProperty(w)&&o!=null&&!n.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:qe(e,t,w,null,n,o)}for(v in n)if(o=n[v],d=a[v],n.hasOwnProperty(v)&&(o!=null||d!=null))switch(v){case"value":B=o;break;case"defaultValue":$=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==d&&qe(e,t,v,o,n,d)}Gu(e,B,$);return;case"option":for(var we in a)if(B=a[we],a.hasOwnProperty(we)&&B!=null&&!n.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:qe(e,t,we,null,n,B)}for(k in n)if(B=n[k],$=a[k],n.hasOwnProperty(k)&&B!==$&&(B!=null||$!=null))switch(k){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:qe(e,t,k,B,n,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!n.hasOwnProperty(ye)&&qe(e,t,ye,null,n,B);for(L in n)if(B=n[L],$=a[L],n.hasOwnProperty(L)&&B!==$&&(B!=null||$!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:qe(e,t,L,B,n,$)}return;default:if(Ml(t)){for(var Pe in a)B=a[Pe],a.hasOwnProperty(Pe)&&B!==void 0&&!n.hasOwnProperty(Pe)&&xc(e,t,Pe,void 0,n,B);for(W in n)B=n[W],$=a[W],!n.hasOwnProperty(W)||B===$||B===void 0&&$===void 0||xc(e,t,W,B,n,$);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!n.hasOwnProperty(U)&&qe(e,t,U,null,n,B);for(Q in n)B=n[Q],$=a[Q],!n.hasOwnProperty(Q)||B===$||B==null&&$==null||qe(e,t,Q,B,n,$)}var wc=null,Sc=null;function Vi(e){return e.nodeType===9?e:e.ownerDocument}function Vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tc=null;function qp(){var e=window.event;return e&&e.type==="popstate"?e===Tc?!1:(Tc=e,!0):(Tc=null,!1)}var Ih=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(e){return Xh.resolve(null).then(e).catch(Gp)}:Ih;function Gp(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function Jh(e,t){var a=t,n=0,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<n&&8>n){a=n;var v=e.ownerDocument;if(a&1&&xs(v.documentElement),a&2&&xs(v.body),a&4)for(a=v.head,xs(a),v=a.firstChild;v;){var w=v.nextSibling,k=v.nodeName;v[Mr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(o===0){e.removeChild(d),Cs(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:n=a.charCodeAt(0)-48;else n=0;a=d}while(a);Cs(t)}function Ec(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ec(a),Rl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Wp(e,t,a,n){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Mr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Kp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Vp(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var jc=null;function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Fh(e,t,a){switch(t=Vi(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rl(e)}var Yt=new Map,eg=new Set;function Qi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=Y.d;Y.d={f:Qp,r:Ip,D:Xp,C:Jp,L:Zp,m:Fp,X:ty,S:ey,M:ay};function Qp(){var e=ba.f(),t=Hi();return e||t}function Ip(e){var t=An(e);t!==null&&t.tag===5&&t.type==="form"?xf(t):ba.r(e)}var ur=typeof document>"u"?null:document;function tg(e,t,a){var n=ur;if(n&&typeof t=="string"&&t){var o=zt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),eg.has(o)||(eg.add(o),e={rel:e,crossOrigin:a,href:t},n.querySelector(o)===null&&(t=n.createElement("link"),gt(t,"link",e),st(t),n.head.appendChild(t)))}}function Xp(e){ba.D(e),tg("dns-prefetch",e,null)}function Jp(e,t){ba.C(e,t),tg("preconnect",e,t)}function Zp(e,t,a){ba.L(e,t,a);var n=ur;if(n&&e&&t){var o='link[rel="preload"][as="'+zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+zt(a.imageSizes)+'"]')):o+='[href="'+zt(e)+'"]';var d=o;switch(t){case"style":d=dr(e);break;case"script":d=fr(e)}Yt.has(d)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(d,e),n.querySelector(o)!==null||t==="style"&&n.querySelector(ws(d))||t==="script"&&n.querySelector(Ss(d))||(t=n.createElement("link"),gt(t,"link",e),st(t),n.head.appendChild(t)))}}function Fp(e,t){ba.m(e,t);var a=ur;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+zt(n)+'"][href="'+zt(e)+'"]',d=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fr(e)}if(!Yt.has(d)&&(e=y({rel:"modulepreload",href:e},t),Yt.set(d,e),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ss(d)))return}n=a.createElement("link"),gt(n,"link",e),st(n),a.head.appendChild(n)}}}function ey(e,t,a){ba.S(e,t,a);var n=ur;if(n&&e){var o=On(n).hoistableStyles,d=dr(e);t=t||"default";var v=o.get(d);if(!v){var w={loading:0,preload:null};if(v=n.querySelector(ws(d)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(d))&&Cc(e,a);var k=v=n.createElement("link");st(k),gt(k,"link",e),k._p=new Promise(function(L,W){k.onload=L,k.onerror=W}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ii(v,t,n)}v={type:"stylesheet",instance:v,count:1,state:w},o.set(d,v)}}}function ty(e,t){ba.X(e,t);var a=ur;if(a&&e){var n=On(a).hoistableScripts,o=fr(e),d=n.get(o);d||(d=a.querySelector(Ss(o)),d||(e=y({src:e,async:!0},t),(t=Yt.get(o))&&Rc(e,t),d=a.createElement("script"),st(d),gt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function ay(e,t){ba.M(e,t);var a=ur;if(a&&e){var n=On(a).hoistableScripts,o=fr(e),d=n.get(o);d||(d=a.querySelector(Ss(o)),d||(e=y({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Rc(e,t),d=a.createElement("script"),st(d),gt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function ag(e,t,a,n){var o=(o=te.current)?Qi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=dr(a.href),a=On(o).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=dr(a.href);var d=On(o).hoistableStyles,v=d.get(e);if(v||(o=o.ownerDocument||o,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=o.querySelector(ws(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),d||ny(o,e,a,v.state))),t&&n===null)throw Error(i(528,""));return v}if(t&&n!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fr(a),a=On(o).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function dr(e){return'href="'+zt(e)+'"'}function ws(e){return'link[rel="stylesheet"]['+e+"]"}function ng(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function ny(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),gt(t,"link",a),st(t),e.head.appendChild(t))}function fr(e){return'[src="'+zt(e)+'"]'}function Ss(e){return"script[async]"+e}function rg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+zt(a.href)+'"]');if(n)return t.instance=n,st(n),n;var o=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),st(n),gt(n,"style",o),Ii(n,a.precedence,e),t.instance=n;case"stylesheet":o=dr(a.href);var d=e.querySelector(ws(o));if(d)return t.state.loading|=4,t.instance=d,st(d),d;n=ng(a),(o=Yt.get(o))&&Cc(n,o),d=(e.ownerDocument||e).createElement("link"),st(d);var v=d;return v._p=new Promise(function(w,k){v.onload=w,v.onerror=k}),gt(d,"link",n),t.state.loading|=4,Ii(d,a.precedence,e),t.instance=d;case"script":return d=fr(a.src),(o=e.querySelector(Ss(d)))?(t.instance=o,st(o),o):(n=a,(o=Yt.get(d))&&(n=y({},a),Rc(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),st(o),gt(o,"link",n),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ii(n,a.precedence,e));return t.instance}function Ii(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,d=o,v=0;v<n.length;v++){var w=n[v];if(w.dataset.precedence===t)d=w;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xi=null;function sg(e,t,a){if(Xi===null){var n=new Map,o=Xi=new Map;o.set(a,n)}else o=Xi,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Mr]||d[mt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var w=n.get(v);w?w.push(d):n.set(v,[d])}}return n}function ig(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ry(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _s=null;function sy(){}function iy(e,t,a){if(_s===null)throw Error(i(475));var n=_s;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=dr(a.href),d=e.querySelector(ws(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ji.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=d,st(d);return}d=e.ownerDocument||e,a=ng(a),(o=Yt.get(o))&&Cc(a,o),d=d.createElement("link"),st(d);var v=d;v._p=new Promise(function(w,k){v.onload=w,v.onerror=k}),gt(d,"link",a),t.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ji.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function ly(){if(_s===null)throw Error(i(475));var e=_s;return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ji(){if(this.count--,this.count===0){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zi=null;function Ac(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zi=new Map,t.forEach(oy,e),Zi=null,Ji.call(e))}function oy(e,t){if(!(t.state.loading&4)){var a=Zi.get(e);if(a)var n=a.get(null);else{a=new Map,Zi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var v=o[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),n=v)}n&&a.set(null,n)}o=t.instance,v=o.getAttribute("data-precedence"),d=a.get(v)||n,d===n&&a.set(null,o),a.set(v,o),this.count++,n=Ji.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ts={$$typeof:A,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function cy(e,t,a,n,o,d,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=El(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.hiddenUpdates=El(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function og(e,t,a,n,o,d,v,w,k,L,W,Q){return e=new cy(e,t,a,v,w,k,L,Q),t=1,d===!0&&(t|=24),d=Ct(3,null,null,t),e.current=d,d.stateNode=e,t=uo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:n,isDehydrated:a,cache:t},mo(d),e}function cg(e){return e?(e=Yn,e):Yn}function ug(e,t,a,n,o,d){o=cg(o),n.context===null?n.context=o:n.pendingContext=o,n=Ra(t),n.payload={element:a},d=d===void 0?null:d,d!==null&&(n.callback=d),a=Aa(e,n,t),a!==null&&(Nt(a,e,t),es(a,e,t))}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Oc(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function fg(e){if(e.tag===13){var t=Pn(e,67108864);t!==null&&Nt(t,e,67108864),Oc(e,67108864)}}var Fi=!0;function uy(e,t,a,n){var o=M.T;M.T=null;var d=Y.p;try{Y.p=2,Dc(e,t,a,n)}finally{Y.p=d,M.T=o}}function dy(e,t,a,n){var o=M.T;M.T=null;var d=Y.p;try{Y.p=8,Dc(e,t,a,n)}finally{Y.p=d,M.T=o}}function Dc(e,t,a,n){if(Fi){var o=Nc(n);if(o===null)bc(e,t,n,el,a),gg(e,n);else if(hy(o,e,t,a,n))n.stopPropagation();else if(gg(e,n),t&4&&-1<fy.indexOf(e)){for(;o!==null;){var d=An(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=an(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var k=1<<31-kt(v);w.entanglements[1]|=k,v&=~k}ta(d),(Le&6)===0&&(Li=Z()+500,ys(0))}}break;case 13:w=Pn(d,2),w!==null&&Nt(w,d,2),Hi(),Oc(d,2)}if(d=Nc(n),d===null&&bc(e,t,n,el,a),d===o)break;o=d}o!==null&&n.stopPropagation()}else bc(e,t,n,null,a)}}function Nc(e){return e=Ll(e),Uc(e)}var el=null;function Uc(e){if(el=null,e=Rn(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return el=e,null}function hg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case ve:return 2;case De:return 8;case Xe:case tn:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var Mc=!1,Ya=null,Ga=null,Wa=null,Es=new Map,ks=new Map,Ka=[],fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gg(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function js(e,t,a,n,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:d,targetContainers:[o]},t!==null&&(t=An(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hy(e,t,a,n,o){switch(t){case"focusin":return Ya=js(Ya,e,t,a,n,o),!0;case"dragenter":return Ga=js(Ga,e,t,a,n,o),!0;case"mouseover":return Wa=js(Wa,e,t,a,n,o),!0;case"pointerover":var d=o.pointerId;return Es.set(d,js(Es.get(d)||null,e,t,a,n,o)),!0;case"gotpointercapture":return d=o.pointerId,ks.set(d,js(ks.get(d)||null,e,t,a,n,o)),!0}return!1}function mg(e){var t=Rn(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,i0(e.priority,function(){if(a.tag===13){var n=Dt();n=kl(n);var o=Pn(a,n);o!==null&&Nt(o,a,n),Oc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);zl=n,a.target.dispatchEvent(n),zl=null}else return t=An(a),t!==null&&fg(t),e.blockedOn=a,!1;t.shift()}return!0}function pg(e,t,a){tl(e)&&a.delete(t)}function gy(){Mc=!1,Ya!==null&&tl(Ya)&&(Ya=null),Ga!==null&&tl(Ga)&&(Ga=null),Wa!==null&&tl(Wa)&&(Wa=null),Es.forEach(pg),ks.forEach(pg)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,Mc||(Mc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,gy)))}var nl=null;function yg(e){nl!==e&&(nl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){nl===e&&(nl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],o=e[t+2];if(typeof n!="function"){if(Uc(n||a)===null)continue;break}var d=An(a);d!==null&&(e.splice(t,3),t-=3,Uo(d,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function Cs(e){function t(k){return al(k,e)}Ya!==null&&al(Ya,e),Ga!==null&&al(Ga,e),Wa!==null&&al(Wa,e),Es.forEach(t),ks.forEach(t);for(var a=0;a<Ka.length;a++){var n=Ka[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)mg(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],d=a[n+1],v=o[bt]||null;if(typeof d=="function")v||yg(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(o=d,v=d[bt]||null)w=v.formAction;else if(Uc(o)!==null)continue}else w=v.action;typeof w=="function"?a[n+1]=w:(a.splice(n,3),n-=3),yg(a)}}}function zc(e){this._internalRoot=e}rl.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,n=Dt();ug(a,n,e,t,null,null)},rl.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ug(e.current,2,null,e,null,null),Hi(),t[Cn]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&mg(e)}};var vg=r.version;if(vg!=="19.1.0")throw Error(i(527,vg,"19.1.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var my={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Dr=sl.inject(my),Et=sl}catch{}}return As.createRoot=function(e,t){if(!c(e))throw Error(i(299));var a=!1,n="",o=Uf,d=Mf,v=zf,w=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(w=t.unstable_transitionCallbacks)),t=og(e,1,!1,null,null,a,n,o,d,v,w,null),e[Cn]=t.current,vc(e),new zc(t)},As.hydrateRoot=function(e,t,a){if(!c(e))throw Error(i(299));var n=!1,o="",d=Uf,v=Mf,w=zf,k=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),t=og(e,1,!0,t,a??null,n,o,d,v,w,k,L),t.context=cg(null),a=t.current,n=Dt(),n=kl(n),o=Ra(n),o.callback=null,Aa(a,o,n),a=n,t.current.lanes=a,Ur(t,a),ta(t),e[Cn]=t.current,vc(e),new rl(t)},As.version="19.1.0",As}var Cg;function jy(){if(Cg)return Hc.exports;Cg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Hc.exports=ky(),Hc.exports}var Cy=jy(),Os={},Rg;function Ry(){if(Rg)return Os;Rg=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.parse=f,Os.serialize=p;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,S){const _=new u,R=x.length;if(R<2)return _;const j=(S==null?void 0:S.decode)||y;let D=0;do{const C=x.indexOf("=",D);if(C===-1)break;const A=x.indexOf(";",D),q=A===-1?R:A;if(C>q){D=x.lastIndexOf(";",C-1)+1;continue}const N=m(x,D,C),J=g(x,C,N),ee=x.slice(N,J);if(_[ee]===void 0){let G=m(x,C+1,q),ne=g(x,q,G);const P=j(x.slice(G,ne));_[ee]=P}D=q+1}while(D<R);return _}function m(x,S,_){do{const R=x.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<_);return _}function g(x,S,_){for(;S>_;){const R=x.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return _}function p(x,S,_){const R=(_==null?void 0:_.encode)||encodeURIComponent;if(!l.test(x))throw new TypeError(`argument name is invalid: ${x}`);const j=R(S);if(!r.test(j))throw new TypeError(`argument val is invalid: ${S}`);let D=x+"="+j;if(!_)return D;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);D+="; Max-Age="+_.maxAge}if(_.domain){if(!s.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);D+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);D+="; Path="+_.path}if(_.expires){if(!b(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);D+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(D+="; HttpOnly"),_.secure&&(D+="; Secure"),_.partitioned&&(D+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return D}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return c.call(x)==="[object Date]"}return Os}Ry();var Ag="popstate";function Ay(l={}){function r(c,u){let{pathname:f="/",search:m="",hash:g=""}=kn(c.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Fc("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(c,u){let f=c.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=c.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:$s(u))}function i(c,u){Gt(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Dy(r,s,i,l)}function Qe(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Gt(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Oy(){return Math.random().toString(36).substring(2,10)}function Og(l,r){return{usr:l.state,key:l.key,idx:r}}function Fc(l,r,s=null,i){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?kn(r):r,state:s,key:r&&r.key||i||Oy()}}function $s({pathname:l="/",search:r="",hash:s=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function kn(l){let r={};if(l){let s=l.indexOf("#");s>=0&&(r.hash=l.substring(s),l=l.substring(0,s));let i=l.indexOf("?");i>=0&&(r.search=l.substring(i),l=l.substring(0,i)),l&&(r.pathname=l)}return r}function Dy(l,r,s,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,f=c.history,m="POP",g=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function b(){m="POP";let j=y(),D=j==null?null:j-p;p=j,g&&g({action:m,location:R.location,delta:D})}function x(j,D){m="PUSH";let C=Fc(R.location,j,D);s&&s(C,j),p=y()+1;let A=Og(C,p),q=R.createHref(C);try{f.pushState(A,"",q)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;c.location.assign(q)}u&&g&&g({action:m,location:R.location,delta:1})}function S(j,D){m="REPLACE";let C=Fc(R.location,j,D);s&&s(C,j),p=y();let A=Og(C,p),q=R.createHref(C);f.replaceState(A,"",q),u&&g&&g({action:m,location:R.location,delta:0})}function _(j){return Ny(j)}let R={get action(){return m},get location(){return l(c,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Ag,b),g=j,()=>{c.removeEventListener(Ag,b),g=null}},createHref(j){return r(c,j)},createURL:_,encodeLocation(j){let D=_(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:S,go(j){return f.go(j)}};return R}function Ny(l,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(s,"No window.location.(origin|href) available to create URL");let i=typeof l=="string"?l:$s(l);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function om(l,r,s="/"){return Uy(l,r,s,!1)}function Uy(l,r,s,i){let c=typeof r=="string"?kn(r):r,u=Sa(c.pathname||"/",s);if(u==null)return null;let f=cm(l);My(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Ky(u);m=Gy(f[g],p,i)}return m}function cm(l,r=[],s=[],i=""){let c=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Qe(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=wa([i,g.relativePath]),y=s.concat(g);u.children&&u.children.length>0&&(Qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cm(u.children,r,y,p)),!(u.path==null&&!u.index)&&r.push({path:p,score:Py(p,u.index),routesMeta:y})};return l.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,f);else for(let g of um(u.path))c(u,f,g)}),r}function um(l){let r=l.split("/");if(r.length===0)return[];let[s,...i]=r,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let f=um(i.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),c&&m.push(...f),m.map(g=>l.startsWith("/")&&g===""?"/":g)}function My(l){l.sort((r,s)=>r.score!==s.score?s.score-r.score:Yy(r.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var zy=/^:[\w-]+$/,Ly=3,By=2,Hy=1,$y=10,qy=-2,Dg=l=>l==="*";function Py(l,r){let s=l.split("/"),i=s.length;return s.some(Dg)&&(i+=qy),r&&(i+=By),s.filter(c=>!Dg(c)).reduce((c,u)=>c+(zy.test(u)?Ly:u===""?Hy:$y),i)}function Yy(l,r){return l.length===r.length&&l.slice(0,-1).every((i,c)=>i===r[c])?l[l.length-1]-r[r.length-1]:0}function Gy(l,r,s=!1){let{routesMeta:i}=l,c={},u="/",f=[];for(let m=0;m<i.length;++m){let g=i[m],p=m===i.length-1,y=u==="/"?r:r.slice(u.length)||"/",b=pl({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),x=g.route;if(!b&&p&&s&&!i[i.length-1].route.index&&(b=pl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:wa([u,b.pathname]),pathnameBase:Xy(wa([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=wa([u,b.pathnameBase]))}return f}function pl(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,i]=Wy(l.path,l.caseSensitive,l.end),c=r.match(s);if(!c)return null;let u=c[0],f=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:b},x)=>{if(y==="*"){let _=m[x]||"";f=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const S=m[x];return b&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:l}}function Wy(l,r=!1,s=!0){Gt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let i=[],c="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(i.push({paramName:"*"}),c+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":l!==""&&l!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function Ky(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Gt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function Sa(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,i=l.charAt(s);return i&&i!=="/"?null:l.slice(s)||"/"}function Vy(l,r="/"){let{pathname:s,search:i="",hash:c=""}=typeof l=="string"?kn(l):l;return{pathname:s?s.startsWith("/")?s:Qy(s,r):r,search:Jy(i),hash:Zy(c)}}function Qy(l,r){let s=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Yc(l,r,s,i){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iy(l){return l.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function gu(l){let r=Iy(l);return r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase)}function mu(l,r,s,i=!1){let c;typeof l=="string"?c=kn(l):(c={...l},Qe(!c.pathname||!c.pathname.includes("?"),Yc("?","pathname","search",c)),Qe(!c.pathname||!c.pathname.includes("#"),Yc("#","pathname","hash",c)),Qe(!c.search||!c.search.includes("#"),Yc("#","search","hash",c)));let u=l===""||c.pathname==="",f=u?"/":c.pathname,m;if(f==null)m=s;else{let b=r.length-1;if(!i&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;c.pathname=x.join("/")}m=b>=0?r[b]:"/"}let g=Vy(c,m),p=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var wa=l=>l.join("/").replace(/\/\/+/g,"/"),Xy=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Jy=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Zy=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Fy(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var dm=["POST","PUT","PATCH","DELETE"];new Set(dm);var ev=["GET",...dm];new Set(ev);var Rr=E.createContext(null);Rr.displayName="DataRouter";var xl=E.createContext(null);xl.displayName="DataRouterState";var fm=E.createContext({isTransitioning:!1});fm.displayName="ViewTransition";var tv=E.createContext(new Map);tv.displayName="Fetchers";var av=E.createContext(null);av.displayName="Await";var Xt=E.createContext(null);Xt.displayName="Navigation";var Ps=E.createContext(null);Ps.displayName="Location";var ra=E.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var pu=E.createContext(null);pu.displayName="RouteError";function nv(l,{relative:r}={}){Qe(Ar(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=E.useContext(Xt),{hash:c,pathname:u,search:f}=Gs(l,{relative:r}),m=u;return s!=="/"&&(m=u==="/"?s:wa([s,u])),i.createHref({pathname:m,search:f,hash:c})}function Ar(){return E.useContext(Ps)!=null}function _a(){return Qe(Ar(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ps).location}var hm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gm(l){E.useContext(Xt).static||E.useLayoutEffect(l)}function Ys(){let{isDataRoute:l}=E.useContext(ra);return l?pv():rv()}function rv(){Qe(Ar(),"useNavigate() may be used only in the context of a <Router> component.");let l=E.useContext(Rr),{basename:r,navigator:s}=E.useContext(Xt),{matches:i}=E.useContext(ra),{pathname:c}=_a(),u=JSON.stringify(gu(i)),f=E.useRef(!1);return gm(()=>{f.current=!0}),E.useCallback((g,p={})=>{if(Gt(f.current,hm),!f.current)return;if(typeof g=="number"){s.go(g);return}let y=mu(g,JSON.parse(u),c,p.relative==="path");l==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:wa([r,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[r,s,u,c,l])}E.createContext(null);function Gs(l,{relative:r}={}){let{matches:s}=E.useContext(ra),{pathname:i}=_a(),c=JSON.stringify(gu(s));return E.useMemo(()=>mu(l,JSON.parse(c),i,r==="path"),[l,c,i,r])}function sv(l,r){return mm(l,r)}function mm(l,r,s,i){var D;Qe(Ar(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(Xt),{matches:u}=E.useContext(ra),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",y=f&&f.route;{let C=y&&y.path||"";pm(g,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=_a(),x;if(r){let C=typeof r=="string"?kn(r):r;Qe(p==="/"||((D=C.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=b;let S=x.pathname||"/",_=S;if(p!=="/"){let C=p.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let R=om(l,{pathname:_});Gt(y||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=uv(R&&R.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:wa([p,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:wa([p,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),u,s,i);return r&&j?E.createElement(Ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function iv(){let l=mv(),r=Fy(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",l),f=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},r),s?E.createElement("pre",{style:c},s):null,f)}var lv=E.createElement(iv,null),ov=class extends E.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){console.error("React Router caught the following error during render",l,r)}render(){return this.state.error!==void 0?E.createElement(ra.Provider,{value:this.props.routeContext},E.createElement(pu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cv({routeContext:l,match:r,children:s}){let i=E.useContext(Rr);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(ra.Provider,{value:l},s)}function uv(l,r=[],s=null,i=null){if(l==null){if(!s)return null;if(s.errors)l=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)l=s.matches;else return null}let c=l,u=s==null?void 0:s.errors;if(u!=null){let g=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(s)for(let g=0;g<c.length;g++){let p=c[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:y,errors:b}=s,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,p,y)=>{let b,x=!1,S=null,_=null;s&&(b=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||lv,f&&(m<0&&y===0?(pm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):m===y&&(x=!0,_=p.route.hydrateFallbackElement||null)));let R=r.concat(c.slice(0,y+1)),j=()=>{let D;return b?D=S:x?D=_:p.route.Component?D=E.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=g,E.createElement(cv,{match:p,routeContext:{outlet:g,matches:R,isDataRoute:s!=null},children:D})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?E.createElement(ov,{location:s.location,revalidation:s.revalidation,component:S,error:b,children:j(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):j()},null)}function yu(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(l){let r=E.useContext(Rr);return Qe(r,yu(l)),r}function fv(l){let r=E.useContext(xl);return Qe(r,yu(l)),r}function hv(l){let r=E.useContext(ra);return Qe(r,yu(l)),r}function vu(l){let r=hv(l),s=r.matches[r.matches.length-1];return Qe(s.route.id,`${l} can only be used on routes that contain a unique "id"`),s.route.id}function gv(){return vu("useRouteId")}function mv(){var i;let l=E.useContext(pu),r=fv("useRouteError"),s=vu("useRouteError");return l!==void 0?l:(i=r.errors)==null?void 0:i[s]}function pv(){let{router:l}=dv("useNavigate"),r=vu("useNavigate"),s=E.useRef(!1);return gm(()=>{s.current=!0}),E.useCallback(async(c,u={})=>{Gt(s.current,hm),s.current&&(typeof c=="number"?l.navigate(c):await l.navigate(c,{fromRouteId:r,...u}))},[l,r])}var Ng={};function pm(l,r,s){!r&&!Ng[l]&&(Ng[l]=!0,Gt(!1,s))}E.memo(yv);function yv({routes:l,future:r,state:s}){return mm(l,void 0,s,r)}function bu({to:l,replace:r,state:s,relative:i}){Qe(Ar(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=E.useContext(Xt);Gt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=E.useContext(ra),{pathname:f}=_a(),m=Ys(),g=mu(l,gu(u),f,i==="path"),p=JSON.stringify(g);return E.useEffect(()=>{m(JSON.parse(p),{replace:r,state:s,relative:i})},[m,p,i,r,s]),null}function wr(l){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vv({basename:l="/",children:r=null,location:s,navigationType:i="POP",navigator:c,static:u=!1}){Qe(!Ar(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=l.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:f,navigator:c,static:u,future:{}}),[f,c,u]);typeof s=="string"&&(s=kn(s));let{pathname:g="/",search:p="",hash:y="",state:b=null,key:x="default"}=s,S=E.useMemo(()=>{let _=Sa(g,f);return _==null?null:{location:{pathname:_,search:p,hash:y,state:b,key:x},navigationType:i}},[f,g,p,y,b,x,i]);return Gt(S!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(Xt.Provider,{value:m},E.createElement(Ps.Provider,{children:r,value:S}))}function bv({children:l,location:r}){return sv(eu(l),r)}function eu(l,r=[]){let s=[];return E.Children.forEach(l,(i,c)=>{if(!E.isValidElement(i))return;let u=[...r,c];if(i.type===E.Fragment){s.push.apply(s,eu(i.props.children,u));return}Qe(i.type===wr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=eu(i.props.children,u)),s.push(f)}),s}var fl="get",hl="application/x-www-form-urlencoded";function wl(l){return l!=null&&typeof l.tagName=="string"}function xv(l){return wl(l)&&l.tagName.toLowerCase()==="button"}function wv(l){return wl(l)&&l.tagName.toLowerCase()==="form"}function Sv(l){return wl(l)&&l.tagName.toLowerCase()==="input"}function _v(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Tv(l,r){return l.button===0&&(!r||r==="_self")&&!_v(l)}var il=null;function Ev(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var kv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gc(l){return l!=null&&!kv.has(l)?(Gt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):l}function jv(l,r){let s,i,c,u,f;if(wv(l)){let m=l.getAttribute("action");i=m?Sa(m,r):null,s=l.getAttribute("method")||fl,c=Gc(l.getAttribute("enctype"))||hl,u=new FormData(l)}else if(xv(l)||Sv(l)&&(l.type==="submit"||l.type==="image")){let m=l.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=l.getAttribute("formaction")||m.getAttribute("action");if(i=g?Sa(g,r):null,s=l.getAttribute("formmethod")||m.getAttribute("method")||fl,c=Gc(l.getAttribute("formenctype"))||Gc(m.getAttribute("enctype"))||hl,u=new FormData(m,l),!Ev()){let{name:p,type:y,value:b}=l;if(y==="image"){let x=p?`${p}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else p&&u.append(p,b)}}else{if(wl(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=fl,i=null,c=hl,f=l}return u&&c==="text/plain"&&(f=u,u=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:u,body:f}}function xu(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}async function Cv(l,r){if(l.id in r)return r[l.id];try{let s=await import(l.module);return r[l.id]=s,s}catch(s){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rv(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Av(l,r,s){let i=await Promise.all(l.map(async c=>{let u=r.routes[c.route.id];if(u){let f=await Cv(u,s);return f.links?f.links():[]}return[]}));return Uv(i.flat(1).filter(Rv).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Ug(l,r,s,i,c,u){let f=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,m=(g,p)=>{var y;return s[p].pathname!==g.pathname||((y=s[p].route.path)==null?void 0:y.endsWith("*"))&&s[p].params["*"]!==g.params["*"]};return u==="assets"?r.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?r.filter((g,p)=>{var b;let y=i.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((b=s[0])==null?void 0:b.params)||{},nextUrl:new URL(l,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ov(l,r,{includeHydrateFallback:s}={}){return Dv(l.map(i=>{let c=r.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function Dv(l){return[...new Set(l)]}function Nv(l){let r={},s=Object.keys(l).sort();for(let i of s)r[i]=l[i];return r}function Uv(l,r){let s=new Set;return new Set(r),l.reduce((i,c)=>{let u=JSON.stringify(Nv(c));return s.has(u)||(s.add(u),i.push({key:u,link:c})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mv=new Set([100,101,204,205]);function zv(l,r){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname="_root.data":r&&Sa(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function ym(){let l=E.useContext(Rr);return xu(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Lv(){let l=E.useContext(xl);return xu(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var wu=E.createContext(void 0);wu.displayName="FrameworkContext";function vm(){let l=E.useContext(wu);return xu(l,"You must render this element inside a <HydratedRouter> element"),l}function Bv(l,r){let s=E.useContext(wu),[i,c]=E.useState(!1),[u,f]=E.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=r,x=E.useRef(null);E.useEffect(()=>{if(l==="render"&&f(!0),l==="viewport"){let R=D=>{D.forEach(C=>{f(C.isIntersecting)})},j=new IntersectionObserver(R,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[l]),E.useEffect(()=>{if(i){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{c(!0)},_=()=>{c(!1),f(!1)};return s?l!=="intent"?[u,x,{}]:[u,x,{onFocus:Ds(m,S),onBlur:Ds(g,_),onMouseEnter:Ds(p,S),onMouseLeave:Ds(y,_),onTouchStart:Ds(b,S)}]:[!1,x,{}]}function Ds(l,r){return s=>{l&&l(s),s.defaultPrevented||r(s)}}function Hv({page:l,...r}){let{router:s}=ym(),i=E.useMemo(()=>om(s.routes,l,s.basename),[s.routes,l,s.basename]);return i?E.createElement(qv,{page:l,matches:i,...r}):null}function $v(l){let{manifest:r,routeModules:s}=vm(),[i,c]=E.useState([]);return E.useEffect(()=>{let u=!1;return Av(l,r,s).then(f=>{u||c(f)}),()=>{u=!0}},[l,r,s]),i}function qv({page:l,matches:r,...s}){let i=_a(),{manifest:c,routeModules:u}=vm(),{basename:f}=ym(),{loaderData:m,matches:g}=Lv(),p=E.useMemo(()=>Ug(l,r,g,c,i,"data"),[l,r,g,c,i]),y=E.useMemo(()=>Ug(l,r,g,c,i,"assets"),[l,r,g,c,i]),b=E.useMemo(()=>{if(l===i.pathname+i.search+i.hash)return[];let _=new Set,R=!1;if(r.forEach(D=>{var A;let C=c.routes[D.route.id];!C||!C.hasLoader||(!p.some(q=>q.route.id===D.route.id)&&D.route.id in m&&((A=u[D.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?R=!0:_.add(D.route.id))}),_.size===0)return[];let j=zv(l,f);return R&&_.size>0&&j.searchParams.set("_routes",r.filter(D=>_.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[f,m,i,c,p,r,l,u]),x=E.useMemo(()=>Ov(y,c),[y,c]),S=$v(y);return E.createElement(E.Fragment,null,b.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),x.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),S.map(({key:_,link:R})=>E.createElement("link",{key:_,...R})))}function Pv(...l){return r=>{l.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var bm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bm&&(window.__reactRouterVersion="7.6.1")}catch{}function Yv({basename:l,children:r,window:s}){let i=E.useRef();i.current==null&&(i.current=Ay({window:s,v5Compat:!0}));let c=i.current,[u,f]=E.useState({action:c.action,location:c.location}),m=E.useCallback(g=>{E.startTransition(()=>f(g))},[f]);return E.useLayoutEffect(()=>c.listen(m),[c,m]),E.createElement(vv,{basename:l,children:r,location:u.location,navigationType:u.action,navigator:c})}var xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wm=E.forwardRef(function({onClick:r,discover:s="render",prefetch:i="none",relative:c,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:y,viewTransition:b,...x},S){let{basename:_}=E.useContext(Xt),R=typeof p=="string"&&xm.test(p),j,D=!1;if(typeof p=="string"&&R&&(j=p,bm))try{let ne=new URL(window.location.href),P=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),me=Sa(P.pathname,_);P.origin===ne.origin&&me!=null?p=me+P.search+P.hash:D=!0}catch{Gt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=nv(p,{relative:c}),[A,q,N]=Bv(i,x),J=Vv(p,{replace:f,state:m,target:g,preventScrollReset:y,relative:c,viewTransition:b});function ee(ne){r&&r(ne),ne.defaultPrevented||J(ne)}let G=E.createElement("a",{...x,...N,href:j||C,onClick:D||u?r:ee,ref:Pv(S,q),target:g,"data-discover":!R&&s==="render"?"true":void 0});return A&&!R?E.createElement(E.Fragment,null,G,E.createElement(Hv,{page:C})):G});wm.displayName="Link";var Gv=E.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:i="",end:c=!1,style:u,to:f,viewTransition:m,children:g,...p},y){let b=Gs(f,{relative:p.relative}),x=_a(),S=E.useContext(xl),{navigator:_,basename:R}=E.useContext(Xt),j=S!=null&&Zv(b)&&m===!0,D=_.encodeLocation?_.encodeLocation(b).pathname:b.pathname,C=x.pathname,A=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(C=C.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&R&&(A=Sa(A,R)||A);const q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let N=C===D||!c&&C.startsWith(D)&&C.charAt(q)==="/",J=A!=null&&(A===D||!c&&A.startsWith(D)&&A.charAt(D.length)==="/"),ee={isActive:N,isPending:J,isTransitioning:j},G=N?r:void 0,ne;typeof i=="function"?ne=i(ee):ne=[i,N?"active":null,J?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(ee):u;return E.createElement(wm,{...p,"aria-current":G,className:ne,ref:y,style:P,to:f,viewTransition:m},typeof g=="function"?g(ee):g)});Gv.displayName="NavLink";var Wv=E.forwardRef(({discover:l="render",fetcherKey:r,navigate:s,reloadDocument:i,replace:c,state:u,method:f=fl,action:m,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:b,...x},S)=>{let _=Xv(),R=Jv(m,{relative:p}),j=f.toLowerCase()==="get"?"get":"post",D=typeof m=="string"&&xm.test(m),C=A=>{if(g&&g(A),A.defaultPrevented)return;A.preventDefault();let q=A.nativeEvent.submitter,N=(q==null?void 0:q.getAttribute("formmethod"))||f;_(q||A.currentTarget,{fetcherKey:r,method:N,navigate:s,replace:c,state:u,relative:p,preventScrollReset:y,viewTransition:b})};return E.createElement("form",{ref:S,method:j,action:R,onSubmit:i?g:C,...x,"data-discover":!D&&l==="render"?"true":void 0})});Wv.displayName="Form";function Kv(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sm(l){let r=E.useContext(Rr);return Qe(r,Kv(l)),r}function Vv(l,{target:r,replace:s,state:i,preventScrollReset:c,relative:u,viewTransition:f}={}){let m=Ys(),g=_a(),p=Gs(l,{relative:u});return E.useCallback(y=>{if(Tv(y,r)){y.preventDefault();let b=s!==void 0?s:$s(g)===$s(p);m(l,{replace:b,state:i,preventScrollReset:c,relative:u,viewTransition:f})}},[g,m,p,s,i,r,l,c,u,f])}var Qv=0,Iv=()=>`__${String(++Qv)}__`;function Xv(){let{router:l}=Sm("useSubmit"),{basename:r}=E.useContext(Xt),s=gv();return E.useCallback(async(i,c={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=jv(i,r);if(c.navigate===!1){let y=c.fetcherKey||Iv();await l.fetch(y,s,c.action||u,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await l.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:g,body:p,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[l,r,s])}function Jv(l,{relative:r}={}){let{basename:s}=E.useContext(Xt),i=E.useContext(ra);Qe(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...Gs(l||".",{relative:r})},f=_a();if(l==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();u.search=y?`?${y}`:""}}return(!l||l===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:wa([s,u.pathname])),$s(u)}function Zv(l,r={}){let s=E.useContext(fm);Qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sm("useViewTransitionState"),c=Gs(l,{relative:r.relative});if(!s.isTransitioning)return!1;let u=Sa(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=Sa(s.nextLocation.pathname,i)||s.nextLocation.pathname;return pl(c.pathname,f)!=null||pl(c.pathname,u)!=null}[...Mv];const Fv="modulepreload",eb=function(l){return"/"+l},Mg={},dt=function(r,s,i){let c=Promise.resolve();if(s&&s.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=f(s.map(p=>{if(p=eb(p),p in Mg)return;Mg[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":Fv,y||(x.as="script"),x.crossOrigin="",x.href=p,g&&x.setAttribute("nonce",g),document.head.appendChild(x),y)return new Promise((S,_)=>{x.addEventListener("load",S),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})},tb=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>dt(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},[]).then(({default:i})=>i(...s)):r=fetch,(...s)=>r(...s)};class Su extends Error{constructor(r,s="FunctionsError",i){super(r),this.name=s,this.context=i}}class ab extends Su{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class nb extends Su{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class rb extends Su{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var tu;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(tu||(tu={}));var sb=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};class ib{constructor(r,{headers:s={},customFetch:i,region:c=tu.Any}={}){this.url=r,this.headers=s,this.region=c,this.fetch=tb(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var i;return sb(this,void 0,void 0,function*(){try{const{headers:c,method:u,body:f}=s;let m={},{region:g}=s;g||(g=this.region),g&&g!=="any"&&(m["x-region"]=g);let p;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=f):typeof f=="string"?(m["Content-Type"]="text/plain",p=f):typeof FormData<"u"&&f instanceof FormData?p=f:(m["Content-Type"]="application/json",p=JSON.stringify(f)));const y=yield this.fetch(`${this.url}/${r}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:p}).catch(_=>{throw new ab(_)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new nb(y);if(!y.ok)throw new rb(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield y.json():x==="application/octet-stream"?S=yield y.blob():x==="text/event-stream"?S=y:x==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null}}catch(c){return{data:null,error:c}}})}}var ct={},hr={},gr={},mr={},pr={},yr={},lb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jr=lb();const ob=jr.fetch,_m=jr.fetch.bind(jr),Tm=jr.Headers,cb=jr.Request,ub=jr.Response,Or=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tm,Request:cb,Response:ub,default:_m,fetch:ob},Symbol.toStringTag,{value:"Module"})),db=yy(Or);var ll={},zg;function Em(){if(zg)return ll;zg=1,Object.defineProperty(ll,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ll.default=l,ll}var Lg;function km(){if(Lg)return yr;Lg=1;var l=yr&&yr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(yr,"__esModule",{value:!0});const r=l(db),s=l(Em());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,f){return this.headers=Object.assign({},this.headers),this.headers[u]=f,this}then(u,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,b,x;let S=null,_=null,R=null,j=p.status,D=p.statusText;if(p.ok){if(this.method!=="HEAD"){const N=await p.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=N:_=JSON.parse(N))}const A=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),q=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&q&&q.length>1&&(R=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,R=null,j=406,D="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const A=await p.text();try{S=JSON.parse(A),Array.isArray(S)&&p.status===404&&(_=[],S=null,j=200,D="OK")}catch{p.status===404&&A===""?(j=204,D="No Content"):S={message:A}}if(S&&this.isMaybeSingle&&(!((x=S==null?void 0:S.details)===null||x===void 0)&&x.includes("0 rows"))&&(S=null,j=200,D="OK"),S&&this.shouldThrowOnError)throw new s.default(S)}return{error:S,data:_,count:R,status:j,statusText:D}});return this.shouldThrowOnError||(g=g.catch(p=>{var y,b,x;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(x=p==null?void 0:p.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,f)}returns(){return this}overrideTypes(){return this}}return yr.default=i,yr}var Bg;function jm(){if(Bg)return pr;Bg=1;var l=pr&&pr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pr,"__esModule",{value:!0});const r=l(km());class s extends r.default{select(c){let u=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:u=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${c}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:f=u}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,u,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(p,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:u=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const b=[c?"analyze":null,u?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${x}"; options=${b};`,p==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return pr.default=s,pr}var Hg;function _u(){if(Hg)return mr;Hg=1;var l=mr&&mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mr,"__esModule",{value:!0});const r=l(jm());class s extends r.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}in(c,u){const f=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${f})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:f,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const p=f===void 0?"":`(${f})`;return this.url.searchParams.append(c,`${g}fts${p}.${u}`),this}match(c){return Object.entries(c).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(c,u,f){return this.url.searchParams.append(c,`not.${u}.${f}`),this}or(c,{foreignTable:u,referencedTable:f=u}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,u,f){return this.url.searchParams.append(c,`${u}.${f}`),this}}return mr.default=s,mr}var $g;function Cm(){if($g)return gr;$g=1;var l=gr&&gr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gr,"__esModule",{value:!0});const r=l(_u());class s{constructor(c,{headers:u={},schema:f,fetch:m}){this.url=c,this.headers=u,this.schema=f,this.fetch=m}select(c,{head:u=!1,count:f}={}){const m=u?"HEAD":"GET";let g=!1;const p=(c??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",p),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:u,defaultToNull:f=!0}={}){const m="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(c)){const p=c.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:u,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){const p="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),m&&y.push(`count=${m}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(c)){const b=c.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(b.length>0){const x=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:u}={}){const f="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const u="DELETE",f=[];return c&&f.push(`count=${c}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return gr.default=s,gr}var Ns={},Us={},qg;function fb(){return qg||(qg=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.version=void 0,Us.version="0.0.0-automated"),Us}var Pg;function hb(){if(Pg)return Ns;Pg=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.DEFAULT_HEADERS=void 0;const l=fb();return Ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l.version}`},Ns}var Yg;function gb(){if(Yg)return hr;Yg=1;var l=hr&&hr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hr,"__esModule",{value:!0});const r=l(Cm()),s=l(_u()),i=hb();class c{constructor(f,{headers:m={},schema:g,fetch:p}={}){this.url=f,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),m),this.schemaName=g,this.fetch=p}from(f){const m=new URL(`${this.url}/${f}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new c(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:g=!1,get:p=!1,count:y}={}){let b;const x=new URL(`${this.url}/rpc/${f}`);let S;g||p?(b=g?"HEAD":"GET",Object.entries(m).filter(([R,j])=>j!==void 0).map(([R,j])=>[R,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([R,j])=>{x.searchParams.append(R,j)})):(b="POST",S=m);const _=Object.assign({},this.headers);return y&&(_.Prefer=`count=${y}`),new s.default({method:b,url:x,headers:_,schema:this.schemaName,body:S,fetch:this.fetch,allowEmpty:!1})}}return hr.default=c,hr}var Gg;function mb(){if(Gg)return ct;Gg=1;var l=ct&&ct.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const r=l(gb());ct.PostgrestClient=r.default;const s=l(Cm());ct.PostgrestQueryBuilder=s.default;const i=l(_u());ct.PostgrestFilterBuilder=i.default;const c=l(jm());ct.PostgrestTransformBuilder=c.default;const u=l(km());ct.PostgrestBuilder=u.default;const f=l(Em());return ct.PostgrestError=f.default,ct.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:f.default},ct}var pb=mb();const yb=lm(pb),{PostgrestClient:vb,PostgrestQueryBuilder:Qx,PostgrestFilterBuilder:Ix,PostgrestTransformBuilder:Xx,PostgrestBuilder:Jx,PostgrestError:Zx}=yb,bb="2.11.2",xb={"X-Client-Info":`realtime-js/${bb}`},wb="1.0.0",Rm=1e4,Sb=1e3;var Er;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Er||(Er={}));var Ut;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ut||(Ut={}));var Qt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Qt||(Qt={}));var au;(function(l){l.websocket="websocket"})(au||(au={}));var _n;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_n||(_n={}));class _b{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,s,i)}_decodeBroadcast(r,s,i){const c=s.getUint8(1),u=s.getUint8(2);let f=this.HEADER_LENGTH+2;const m=i.decode(r.slice(f,f+c));f=f+c;const g=i.decode(r.slice(f,f+u));f=f+u;const p=JSON.parse(i.decode(r.slice(f,r.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class Am{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(We||(We={}));const Wg=(l,r,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(r).reduce((u,f)=>(u[f]=Tb(f,l,r,c),u),{})},Tb=(l,r,s,i)=>{const c=r.find(m=>m.name===l),u=c==null?void 0:c.type,f=s[l];return u&&!i.includes(u)?Om(u,f):nu(f)},Om=(l,r)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Cb(r,s)}switch(l){case We.bool:return Eb(r);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return kb(r);case We.json:case We.jsonb:return jb(r);case We.timestamp:return Rb(r);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return nu(r);default:return nu(r)}},nu=l=>l,Eb=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},kb=l=>{if(typeof l=="string"){const r=parseFloat(l);if(!Number.isNaN(r))return r}return l},jb=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(r){return console.log(`JSON parse error: ${r}`),l}return l},Cb=(l,r)=>{if(typeof l!="string")return l;const s=l.length-1,i=l[s];if(l[0]==="{"&&i==="}"){let u;const f=l.slice(1,s);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(m=>Om(r,m))}return l},Rb=l=>typeof l=="string"?l.replace(" ","T"):l,Dm=l=>{let r=l;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class Wc{constructor(r,s,i={},c=Rm){this.channel=r,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var i;return this._hasReceived(r)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Kg;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Kg||(Kg={}));class zs{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zs.syncState(this.state,c,u,f),this.pendingDiffs.forEach(g=>{this.state=zs.syncDiff(this.state,g,u,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=zs.syncDiff(this.state,c,u,f),m())}),this.onJoin((c,u,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:f})}),this.onLeave((c,u,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,i,c){const u=this.cloneDeep(r),f=this.transformState(s),m={},g={};return this.map(u,(p,y)=>{f[p]||(g[p]=y)}),this.map(f,(p,y)=>{const b=u[p];if(b){const x=y.map(j=>j.presence_ref),S=b.map(j=>j.presence_ref),_=y.filter(j=>S.indexOf(j.presence_ref)<0),R=b.filter(j=>x.indexOf(j.presence_ref)<0);_.length>0&&(m[p]=_),R.length>0&&(g[p]=R)}else m[p]=y}),this.syncDiff(u,{joins:m,leaves:g},i,c)}static syncDiff(r,s,i,c){const{joins:u,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(m,g)=>{var p;const y=(p=r[m])!==null&&p!==void 0?p:[];if(r[m]=this.cloneDeep(g),y.length>0){const b=r[m].map(S=>S.presence_ref),x=y.filter(S=>b.indexOf(S.presence_ref)<0);r[m].unshift(...x)}i(m,y,g)}),this.map(f,(m,g)=>{let p=r[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),r[m]=p,c(m,p,g),p.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(i=>s(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,i)=>{const c=r[i];return"metas"in c?s[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=c,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vg;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Vg||(Vg={}));var Qg;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Qg||(Qg={}));var xa;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class Tu{constructor(r,s={config:{}},i){this.topic=r,this.params=s,this.socket=i,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Wc(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Am(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new zs(this),this.broadcastEndpointURL=Dm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var i,c;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:f,private:m}}=this.params;this._onError(y=>r==null?void 0:r(xa.CHANNEL_ERROR,y)),this._onClose(()=>r==null?void 0:r(xa.CLOSED));const g={},p={broadcast:u,presence:f,postgres_changes:(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&c!==void 0?c:[],private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket.setAuth(),y===void 0){r==null||r(xa.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,_=[];for(let R=0;R<S;R++){const j=x[R],{filter:{event:D,schema:C,table:A,filter:q}}=j,N=y&&y[R];if(N&&N.event===D&&N.schema===C&&N.table===A&&N.filter===q)_.push(Object.assign(Object.assign({},j),{id:N.id}));else{this.unsubscribe(),r==null||r(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,r&&r(xa.SUBSCRIBED);return}}).receive("error",y=>{r==null||r(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,i){return this._on(r,s,i)}async send(r,s={}){var i,c;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:f}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,m,g;const p=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ut.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const c=new Wc(this,Qt.leave,{},r);c.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),c.send(),this._canPush()||c.trigger("ok",{})})}async _fetchWithTimeout(r,s,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),f}_push(r,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Wc(this,r,s,i);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(r,s,i){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,i){var c,u;const f=r.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=Qt;if(i&&[m,g,p,y].indexOf(f)>=0&&i!==this._joinRef())return;let x=this._onMessage(f,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var _,R,j;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(R=S.filter)===null||R===void 0?void 0:R.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(S=>S.callback(x,i)):(u=this.bindings[f])===null||u===void 0||u.filter(S=>{var _,R,j,D,C,A;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const q=S.id,N=(_=S.filter)===null||_===void 0?void 0:_.event;return q&&((R=s.ids)===null||R===void 0?void 0:R.includes(q))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const q=(C=(D=S==null?void 0:S.filter)===null||D===void 0?void 0:D.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return q==="*"||q===((A=s==null?void 0:s.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:R,table:j,commit_timestamp:D,type:C,errors:A}=_;x=Object.assign(Object.assign({},{schema:R,table:j,commit_timestamp:D,eventType:C,new:{},old:{},errors:A}),this._getPayloadRecords(_))}S.callback(x,i)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,i){const c=r.toLocaleLowerCase(),u={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(r,s){const i=r.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Tu.isEqual(c.filter,s))}),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const i in r)if(r[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Qt.close,{},r)}_onError(r){this._on(Qt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Wg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Wg(r.columns,r.old_record)),s}}const Ab=()=>{},Ob=typeof WebSocket<"u",Db=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Nb{constructor(r,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xb,this.params={},this.timeout=Rm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ab,this.conn=null,this.sendBuffer=[],this.serializer=new _b,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let f;return u?f=u:typeof fetch>"u"?f=(...m)=>dt(async()=>{const{default:g}=await Promise.resolve().then(()=>Or);return{default:g}},void 0).then(({default:g})=>g(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${r}/${au.websocket}`,this.httpEndpoint=Dm(r),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const c=(i=s==null?void 0:s.params)===null||i===void 0?void 0:i.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(u,f)=>f(JSON.stringify(u)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Am(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ob){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ub(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),dt(async()=>{const{default:r}=await import("./browser-B-FAgTvC.js").then(s=>s.b);return{default:r}},[]).then(({default:r})=>{this.conn=new r(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wb}))}disconnect(r,s){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),r}log(r,s,i){this.logger(r,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return _n.Connecting;case Er.open:return _n.Open;case Er.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}channel(r,s={config:{}}){const i=new Tu(`realtime:${r}`,s,this);return this.channels.push(i),i}push(r){const{topic:s,event:i,payload:c,ref:u}=r,f=()=>{this.encode(r,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${u})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(r=null){let s=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let i=null;try{i=JSON.parse(atob(s.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=s,this.channels.forEach(c=>{s&&c.updateJoinPayload({access_token:s}),c.joinedOnce&&c._isJoined()&&c._push(Qt.access_token,{access_token:s})})}}async sendHeartbeat(){var r;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(r=this.conn)===null||r===void 0||r.close(Sb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s._joinRef()!==r._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,s=>{let{topic:i,event:c,payload:u,ref:f}=s;f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${i} ${c} ${f&&"("+f+")"||""}`,u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(c,u,f)),this.stateChangeCallbacks.message.forEach(m=>m(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(r=>r())}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(r))}_onConnError(r){this.log("transport",r.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Qt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const i=r.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${r}${i}${c}`}_workerObjectUrl(r){let s;if(r)s=r;else{const i=new Blob([Db],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class Ub{constructor(r,s,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Er.connecting,this.send=()=>{},this.url=null,this.url=r,this.close=i.close}}class Eu extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function ut(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Mb extends Eu{constructor(r,s){super(r),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ru extends Eu{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var zb=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};const Nm=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>dt(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...s)):r=fetch,(...s)=>r(...s)},Lb=()=>zb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dt(()=>Promise.resolve().then(()=>Or),void 0)).Response:Response}),su=l=>{if(Array.isArray(l))return l.map(s=>su(s));if(typeof l=="function"||l!==Object(l))return l;const r={};return Object.entries(l).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[c]=su(i)}),r};var jn=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};const Kc=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Bb=(l,r,s)=>jn(void 0,void 0,void 0,function*(){const i=yield Lb();l instanceof i&&!(s!=null&&s.noResolveJson)?l.json().then(c=>{r(new Mb(Kc(c),l.status||500))}).catch(c=>{r(new ru(Kc(c),c))}):r(new ru(Kc(l),l))}),Hb=(l,r,s,i)=>{const c={method:l,headers:(r==null?void 0:r.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),i&&(c.body=JSON.stringify(i)),Object.assign(Object.assign({},c),s))};function Ws(l,r,s,i,c,u){return jn(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,Hb(r,i,c,u)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Bb(g,m,i))})})}function yl(l,r,s,i){return jn(this,void 0,void 0,function*(){return Ws(l,"GET",r,s,i)})}function Xa(l,r,s,i,c){return jn(this,void 0,void 0,function*(){return Ws(l,"POST",r,i,c,s)})}function $b(l,r,s,i,c){return jn(this,void 0,void 0,function*(){return Ws(l,"PUT",r,i,c,s)})}function qb(l,r,s,i){return jn(this,void 0,void 0,function*(){return Ws(l,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Um(l,r,s,i,c){return jn(this,void 0,void 0,function*(){return Ws(l,"DELETE",r,i,c,s)})}var Tt=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};const Pb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yb{constructor(r,s={},i,c){this.url=r,this.headers=s,this.bucketId=i,this.fetch=Nm(c)}uploadOrUpdate(r,s,i,c){return Tt(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},Ig),c);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const p=this._removeEmptyFolders(s),y=this._getFinalPath(p),b=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:r,body:u,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{})),x=yield b.json();return b.ok?{data:{path:p,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(u){if(ut(u))return{data:null,error:u};throw u}})}upload(r,s,i){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,i)})}uploadToSignedUrl(r,s,i,c){return Tt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let g;const p=Object.assign({upsert:Ig.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield this.fetch(m.toString(),{method:"PUT",body:g,headers:y}),x=yield b.json();return b.ok?{data:{path:u,fullPath:x.Key},error:null}:{data:null,error:x}}catch(g){if(ut(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return Tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const c=Object.assign({},this.headers);s!=null&&s.upsert&&(c["x-upsert"]="true");const u=yield Xa(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(this.url+u.url),m=f.searchParams.get("token");if(!m)throw new Eu("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}update(r,s,i){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,i)})}move(r,s,i){return Tt(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(ut(c))return{data:null,error:c};throw c}})}copy(r,s,i){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(ut(c))return{data:null,error:c};throw c}})}createSignedUrl(r,s,i){return Tt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(r),u=yield Xa(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(c){if(ut(c))return{data:null,error:c};throw c}})}createSignedUrls(r,s,i){return Tt(this,void 0,void 0,function*(){try{const c=yield Xa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(c){if(ut(c))return{data:null,error:c};throw c}})}download(r,s){return Tt(this,void 0,void 0,function*(){const c=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=u?`?${u}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield yl(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(ut(m))return{data:null,error:m};throw m}})}info(r){return Tt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const i=yield yl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:su(i),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}exists(r){return Tt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield qb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(ut(i)&&i instanceof ru){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,s){const i=this._getFinalPath(r),c=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&c.push(u);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&c.push(g);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${p}`)}}}remove(r){return Tt(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}list(r,s,i){return Tt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Pb),s),{prefix:r||""});return{data:yield Xa(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(ut(c))return{data:null,error:c};throw c}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const Gb="2.7.1",Wb={"X-Client-Info":`storage-js/${Gb}`};var vr=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};class Kb{constructor(r,s={},i){this.url=r,this.headers=Object.assign(Object.assign({},Wb),s),this.fetch=Nm(i)}listBuckets(){return vr(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}getBucket(r){return vr(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return vr(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}updateBucket(r,s){return vr(this,void 0,void 0,function*(){try{return{data:yield $b(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}emptyBucket(r){return vr(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}deleteBucket(r){return vr(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}}class Vb extends Kb{constructor(r,s={},i){super(r,s,i)}from(r){return new Yb(this.url,this.headers,r,this.fetch)}}const Qb="2.49.8";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const Ib={"X-Client-Info":`supabase-js-${Ms}/${Qb}`},Xb={headers:Ib},Jb={schema:"public"},Zb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fb={};var e1=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};const t1=l=>{let r;return l?r=l:typeof fetch>"u"?r=_m:r=fetch,(...s)=>r(...s)},a1=()=>typeof Headers>"u"?Tm:Headers,n1=(l,r,s)=>{const i=t1(s),c=a1();return(u,f)=>e1(void 0,void 0,void 0,function*(){var m;const g=(m=yield r())!==null&&m!==void 0?m:l;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",l),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(u,Object.assign(Object.assign({},f),{headers:p}))})};var r1=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};function s1(l){return l.endsWith("/")?l:l+"/"}function i1(l,r){var s,i;const{db:c,auth:u,realtime:f,global:m}=l,{db:g,auth:p,realtime:y,global:b}=r,x={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},y),f),global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(s=b==null?void 0:b.headers)!==null&&s!==void 0?s:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>r1(this,void 0,void 0,function*(){return""})};return l.accessToken?x.accessToken=l.accessToken:delete x.accessToken,x}const Mm="2.69.1",Sr=30*1e3,iu=3,Vc=iu*Sr,l1="http://localhost:9999",o1="supabase.auth.token",c1={"X-Client-Info":`gotrue-js/${Mm}`},lu="X-Supabase-Api-Version",zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d1=6e5;class ku extends Error{constructor(r,s,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Ee(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class f1 extends ku{constructor(r,s,i){super(r,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function h1(l){return Ee(l)&&l.name==="AuthApiError"}class Lm extends ku{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Za extends ku{constructor(r,s,i,c){super(r,i,c),this.name=s,this.status=i}}class Qa extends Za{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function g1(l){return Ee(l)&&l.name==="AuthSessionMissingError"}class Qc extends Za{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends Za{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class cl extends Za{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m1(l){return Ee(l)&&l.name==="AuthImplicitGrantRedirectError"}class Xg extends Za{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ou extends Za{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Ic(l){return Ee(l)&&l.name==="AuthRetryableFetchError"}class Jg extends Za{constructor(r,s,i){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Ls extends Za{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fg=` 	
\r=`.split(""),p1=(()=>{const l=new Array(128);for(let r=0;r<l.length;r+=1)l[r]=-1;for(let r=0;r<Fg.length;r+=1)l[Fg[r].charCodeAt(0)]=-2;for(let r=0;r<Zg.length;r+=1)l[Zg[r].charCodeAt(0)]=r;return l})();function Bm(l,r,s){const i=p1[l];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function em(l){const r=[],s=f=>{r.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=f=>{b1(f,i,s)};for(let f=0;f<l.length;f+=1)Bm(l.charCodeAt(f),c,u);return r.join("")}function y1(l,r){if(l<=127){r(l);return}else if(l<=2047){r(192|l>>6),r(128|l&63);return}else if(l<=65535){r(224|l>>12),r(128|l>>6&63),r(128|l&63);return}else if(l<=1114111){r(240|l>>18),r(128|l>>12&63),r(128|l>>6&63),r(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function v1(l,r){for(let s=0;s<l.length;s+=1){let i=l.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}y1(i,r)}}function b1(l,r,s){if(r.utf8seq===0){if(l<=127){s(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=l&31;else if(r.utf8seq===3)r.codepoint=l&15;else if(r.utf8seq===4)r.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|l&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function x1(l){const r=[],s={queue:0,queuedBits:0},i=c=>{r.push(c)};for(let c=0;c<l.length;c+=1)Bm(l.charCodeAt(c),s,i);return new Uint8Array(r)}function w1(l){const r=[];return v1(l,s=>r.push(s)),new Uint8Array(r)}function S1(l){return Math.round(Date.now()/1e3)+l}function _1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const r=Math.random()*16|0;return(l=="x"?r:r&3|8).toString(16)})}const aa=()=>typeof window<"u"&&typeof document<"u",wn={tested:!1,writable:!1},Bs=()=>{if(!aa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function T1(l){const r={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{r[u]=c})}catch{}return s.searchParams.forEach((i,c)=>{r[c]=i}),r}const Hm=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>dt(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...s)):r=fetch,(...s)=>r(...s)},E1=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",$m=async(l,r,s)=>{await l.setItem(r,JSON.stringify(s))},ul=async(l,r)=>{const s=await l.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},dl=async(l,r)=>{await l.removeItem(r)};class Sl{constructor(){this.promise=new Sl.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Sl.promiseConstructor=Promise;function Xc(l){const r=l.split(".");if(r.length!==3)throw new Ls("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!u1.test(r[i]))throw new Ls("JWT not in base64url format");return{header:JSON.parse(em(r[0])),payload:JSON.parse(em(r[1])),signature:x1(r[2]),raw:{header:r[0],payload:r[1]}}}async function k1(l){return await new Promise(r=>{setTimeout(()=>r(null),l)})}function j1(l,r){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await l(u);if(!r(u,null,f)){i(f);return}}catch(f){if(!r(u,f)){c(f);return}}})()})}function C1(l){return("0"+l.toString(16)).substr(-2)}function R1(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(r),Array.from(r,C1).join("")}async function A1(l){const s=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function O1(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await A1(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(l,r,s=!1){const i=R1();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await $m(l,`${r}-code-verifier`,c);const u=await O1(i);return[u,i===u?"plain":"s256"]}const D1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N1(l){const r=l.headers.get(lu);if(!r||!r.match(D1))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function U1(l){if(!l)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(l<=r)throw new Error("JWT has expired")}function M1(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var z1=function(l,r){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&r.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s};const Sn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),L1=[502,503,504];async function tm(l){var r;if(!E1(l))throw new ou(Sn(l),0);if(L1.includes(l.status))throw new ou(Sn(l),l.status);let s;try{s=await l.json()}catch(u){throw new Lm(Sn(u),u)}let i;const c=N1(l);if(c&&c.getTime()>=zm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Jg(Sn(s),l.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new Qa}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Jg(Sn(s),l.status,s.weak_password.reasons);throw new f1(Sn(s),l.status||500,i)}const B1=(l,r,s,i)=>{const c={method:l,headers:(r==null?void 0:r.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function Ae(l,r,s,i){var c;const u=Object.assign({},i==null?void 0:i.headers);u[lu]||(u[lu]=zm["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const f=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await H1(l,r,s+m,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function H1(l,r,s,i,c,u){const f=B1(r,i,c,u);let m;try{m=await l(s,Object.assign({},f))}catch(g){throw console.error(g),new ou(Sn(g),0)}if(m.ok||await tm(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(g){await tm(g)}}function Ia(l){var r;let s=null;Y1(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=S1(l.expires_in)));const i=(r=l.user)!==null&&r!==void 0?r:l;return{data:{session:s,user:i},error:null}}function am(l){const r=Ia(l);return!r.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(r.data.weak_password=l.weak_password),r}function Ja(l){var r;return{data:{user:(r=l.user)!==null&&r!==void 0?r:l},error:null}}function $1(l){return{data:l,error:null}}function q1(l){const{action_link:r,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u}=l,f=z1(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function P1(l){return l}function Y1(l){return l.access_token&&l.refresh_token&&l.expires_in}var G1=function(l,r){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&r.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s};class W1{constructor({url:r="",headers:s={},fetch:i}){this.url=r,this.headers=s,this.fetch=Hm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,s={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ja})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:s}=r,i=G1(r,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:q1,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ja})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,i,c,u,f,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:P1});if(y.error)throw y.error;const b=await y.json(),x=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(_=>{const R=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);p[`${j}Page`]=R}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(Ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(r){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ja})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Ja})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,s=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ja})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){try{const{data:s,error:i}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async _deleteFactor(r){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}}const K1={getItem:l=>Bs()?globalThis.localStorage.getItem(l):null,setItem:(l,r)=>{Bs()&&globalThis.localStorage.setItem(l,r)},removeItem:l=>{Bs()&&globalThis.localStorage.removeItem(l)}};function nm(l={}){return{getItem:r=>l[r]||null,setItem:(r,s)=>{l[r]=s},removeItem:r=>{delete l[r]}}}function V1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xr={debug:!!(globalThis&&Bs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Q1 extends qm{}async function I1(l,r,s){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(r===0)throw xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Q1(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(xr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}V1();const X1={url:l1,storageKey:o1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rm(l,r,s){return await s()}class qs{constructor(r){var s,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qs.nextInstanceID,qs.nextInstanceID+=1,this.instanceID>0&&aa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},X1),r);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new W1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Hm(c.fetch),this.lock=c.lock||rm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:aa()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=I1:this.lock=rm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:Bs()?this.storage=K1:(this.memoryStorage={},this.storage=nm(this.memoryStorage)):(this.memoryStorage={},this.storage=nm(this.memoryStorage)),aa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mm}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=T1(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),aa()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),m1(u)){const g=(r=u.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ee(s)?{error:s}:{error:new Lm("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,i,c;try{const u=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=r==null?void 0:r.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ia}),{data:f,error:m}=u;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var s,i,c;try{let u;if("email"in r){const{email:y,password:b,options:x}=r;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await br(this.storage,this.storageKey)),u=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:b,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:_},xform:Ia})}else if("phone"in r){const{phone:y,password:b,options:x}=r;u=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(c=x==null?void 0:x.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Ia})}else throw new ol("You must provide either an email or phone number and a password");const{data:f,error:m}=u;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let s;if("email"in r){const{email:u,password:f,options:m}=r;s=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:am})}else if("phone"in r){const{phone:u,password:f,options:m}=r;s=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:am})}else throw new ol("You must provide either an email or phone number and a password");const{data:i,error:c}=s;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Qc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,i,c,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async _exchangeCodeForSession(r){const s=await ul(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:u,error:f}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Ia});if(await dl(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Qc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:f})}catch(u){if(Ee(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:s,provider:i,token:c,access_token:u,nonce:f}=r,m=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ia}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Qc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,i,c,u,f;try{if("email"in r){const{email:m,options:g}=r;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await br(this.storage,this.storageKey));const{error:b}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in r){const{phone:m,options:g}=r,{data:p,error:y}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new ol("You must provide either an email or phone number.")}catch(m){if(Ee(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var s,i;try{let c,u;"options"in r&&(c=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Ia});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(Ee(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(r){var s,i,c;try{let u=null,f=null;return this.flowType==="pkce"&&([u,f]=await br(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=r==null?void 0:r.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:$1})}catch(u){if(Ee(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)throw i;if(!s)throw new Qa;const{error:c}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:i,type:c,options:u}=r,{error:f}=await Ae(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:i,type:c,options:u}=r,{data:f,error:m}=await Ae(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new ol("You must provide either an email or phone number and a type")}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await ul(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<Vc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.storage.isServer){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,p,y)=>(!f&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,y))})}return{data:{session:r},error:null}}const{session:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ja}):await this._useSession(async s=>{var i,c,u;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qa}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Ja})})}catch(s){if(Ee(s))return g1(s)&&(await this._removeSession(),await dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new Qa;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&r.email!=null&&([m,g]=await br(this.storage,this.storageKey));const{data:p,error:y}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:Ja});if(y)throw y;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Qa;const s=Date.now()/1e3;let i=s,c=!0,u=null;const{payload:f}=Xc(r.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{session:m,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(r.access_token);if(g)throw g;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(Ee(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var i;if(!r){const{data:f,error:m}=s;if(m)throw m;r=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(r!=null&&r.refresh_token))throw new Qa;const{session:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!aa())throw new cl("No browser detected.");if(r.error||r.error_description||r.error_code)throw new cl(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Xg("No code detected.");const{data:C,error:A}=await this._exchangeCodeForSession(r.code);if(A)throw A;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:f,expires_in:m,expires_at:g,token_type:p}=r;if(!u||!m||!f||!p)throw new cl("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let x=y+b;g&&(x=parseInt(g));const S=x-y;S*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const _=x-b;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,y);const{data:R,error:j}=await this._getUser(u);if(j)throw j;const D={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:x,refresh_token:f,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:r.type},error:null}}catch(i){if(Ee(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await ul(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return{error:u};const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,r);if(m&&!(h1(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=_1(),i={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async s=>{var i,c;try{const{data:{session:u},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await br(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(Ee(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:i,error:c}=await this._useSession(async u=>{var f,m,g,p,y;const{data:b,error:x}=u;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return aa()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:r.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ee(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var i,c;const{data:u,error:f}=s;if(f)throw f;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await j1(async c=>(c>0&&await k1(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ia})),(c,u)=>{const f=200*Math.pow(2,c);return u&&Ic(u)&&Date.now()+f-i<Sr})}catch(i){if(this._debug(s,"error",i),Ee(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",i),aa()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await ul(this.storage,this.storageKey);if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const c=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vc;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Vc}s`),c){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Ic(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var s,i;if(!r)throw new Qa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Sl;const{data:u,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!u.session)throw new Qa;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),Ee(u)){const f={session:null,error:u};return Ic(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,s,i=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(g){u.push(g)}});if(await Promise.all(f),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await $m(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await dl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&aa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-r)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Sr}ms, refresh threshold is ${iu} ticks`),c<=iu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof qm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!aa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,f]=await br(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;return u?{data:null,error:u}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var i,c;const{data:u,error:f}=s;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:p}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(r.factorType==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return{data:null,error:u};const{data:f,error:m}=await Ae(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;return u?{data:null,error:u}:await Ae(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(r==null?void 0:r.factors)||[],c=i.filter(f=>f.factor_type==="totp"&&f.status==="verified"),u=i.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:i,totp:c,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,i;const{data:{session:c},error:u}=r;if(u)return{data:null,error:u};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Xc(c.access_token);let m=null;f.aal&&(m=f.aal);let g=m;((i=(s=c.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,s={keys:[]}){let i=s.keys.find(f=>f.kid===r);if(i||(i=this.jwks.keys.find(f=>f.kid===r),i&&this.jwks_cached_at+d1>Date.now()))return i;const{data:c,error:u}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!c.keys||c.keys.length===0)throw new Ls("JWKS is empty");if(this.jwks=c,this.jwks_cached_at=Date.now(),i=c.keys.find(f=>f.kid===r),!i)throw new Ls("No matching signing key found in JWKS");return i}async getClaims(r,s={keys:[]}){try{let i=r;if(!i){const{data:S,error:_}=await this.getSession();if(_||!S.session)return{data:null,error:_};i=S.session.access_token}const{header:c,payload:u,signature:f,raw:{header:m,payload:g}}=Xc(i);if(U1(u.exp),!c.kid||c.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:u,header:c,signature:f},error:null}}const p=M1(c.alg),y=await this.fetchJwk(c.kid,s),b=await crypto.subtle.importKey("jwk",y,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,f,w1(`${m}.${g}`)))throw new Ls("Invalid JWT signature");return{data:{claims:u,header:c,signature:f},error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}}qs.nextInstanceID=0;const J1=qs;class Z1 extends J1{constructor(r){super(r)}}var F1=function(l,r,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{p(i.next(y))}catch(b){f(b)}}function g(y){try{p(i.throw(y))}catch(b){f(b)}}function p(y){y.done?u(y.value):c(y.value).then(m,g)}p((i=i.apply(l,r||[])).next())})};class ex{constructor(r,s,i){var c,u,f;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const m=s1(r),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:Jb,realtime:Fb,auth:Object.assign(Object.assign({},Zb),{storageKey:p}),global:Xb},b=i1(i??{},y);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=n1(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new vb(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vb(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},i={}){return this.rest.rpc(r,s,i)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return F1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:i,storage:c,storageKey:u,flowType:f,lock:m,debug:g},p,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z1({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:u,autoRefreshToken:r,persistSession:s,detectSessionInUrl:i,storage:c,flowType:f,lock:m,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Nb(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(r,s,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tx=(l,r,s)=>new ex(l,r,s),ax="https://gglvftzglwkhjojvapox.supabase.co",nx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdnbHZmdHpnbHdraGpvanZhcG94Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4OTk0MDYsImV4cCI6MjA2MzQ3NTQwNn0.V6mc04zOQcrxKQjBz0xlelNfOr45Fgx6L-Vm7qHPAoU",He=tx(ax,nx),Hs=Object.freeze(Object.defineProperty({__proto__:null,supabase:He},Symbol.toStringTag,{value:"Module"})),Tn={CHARACTER_BOSS_CAP:14},_r={USER_CODE:"ms-user-code",PRESETS:"ms-presets",ACTIVE_PAGE:"ms-active-page",WEEKLY_HIDE_COMPLETED:"ms-weekly-hide-completed"},rx={CREATE_ACCOUNT:5},sx=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sm={DAY:4,HOUR:0};function Fa(){const l=Ys(),[r,s]=E.useState(()=>localStorage.getItem(_r.USER_CODE)||""),[i,c]=E.useState(!!r),[u,f]=E.useState(""),[m,g]=E.useState(""),[p,y]=E.useState(!1),[b,x]=E.useState(0),[S,_]=E.useState(!1);return E.useEffect(()=>{if(b>0){const A=setTimeout(()=>x(b-1),1e3);return()=>clearTimeout(A)}},[b]),{userCode:r,isLoggedIn:i,loginInput:u,setLoginInput:f,loginError:m,setLoginError:g,isCreating:p,createCooldown:b,showPassword:S,setShowPassword:_,handleCreateAccount:async()=>{if(b>0)return{success:!1,error:"Please wait a few seconds before creating another account."};y(!0),x(rx.CREATE_ACCOUNT);const A=Math.random().toString(36).slice(2,10).toUpperCase();try{const q={characters:[],checked:{},lastUpdated:new Date().toISOString()},{error:N}=await He.from("user_data").upsert([{id:A,data:q,pitched_items:[]}]);return N?(g("Failed to create account. Try again."),y(!1),{success:!1,error:"Failed to create account. Try again."}):(y(!1),x(0),console.log("✅ Created new account:",A),{success:!0,code:A})}catch{return g("Failed to create account. Try again."),y(!1),{success:!1,error:"Failed to create account. Try again."}}},handleLogin:async()=>{g("");try{const{data:A,error:q}=await He.from("user_data").select("data").eq("id",u).single();return q||!A?(g("Invalid code."),{success:!1,error:"Invalid code."}):(s(u),c(!0),localStorage.setItem(_r.USER_CODE,u),console.log("✅ Login successful for user:",u),{success:!0})}catch(A){return console.error("Login error:",A),g("Failed to login. Try again."),{success:!1,error:"Failed to login. Try again."}}},handleLogout:async()=>(console.log("Logging out user:",r),s(""),c(!1),localStorage.removeItem(_r.USER_CODE),l("/login",{replace:!0}),{success:!0}),handleDeleteAccount:async()=>{try{const{error:A}=await He.from("user_data").delete().eq("id",r);return A?{success:!1,error:"Failed to delete account. Try again."}:(s(""),c(!1),localStorage.removeItem(_r.USER_CODE),localStorage.clear(),l("/login",{replace:!0}),{success:!0})}catch(A){return console.error("Delete error:",A),{success:!1,error:"Failed to delete account. Try again."}}}}}const ix=()=>{E.useEffect(()=>{let l;const r=()=>{document.documentElement.classList.add("scrolling"),clearTimeout(l),l=setTimeout(()=>{document.documentElement.classList.remove("scrolling")},1e3)},i=(()=>{window.addEventListener("scroll",r,{passive:!0}),document.addEventListener("scroll",r,{passive:!0});const c=new MutationObserver(()=>{document.querySelectorAll("*").forEach(m=>{const g=m.scrollHeight>m.clientHeight,p=m.scrollWidth>m.clientWidth;(g||p)&&(m.removeEventListener("scroll",r),m.addEventListener("scroll",r,{passive:!0}))})});return c.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}),document.querySelectorAll("*").forEach(f=>{const m=f.scrollHeight>f.clientHeight,g=f.scrollWidth>f.clientWidth;(m||g)&&f.addEventListener("scroll",r,{passive:!0})}),c})();return()=>{clearTimeout(l),window.removeEventListener("scroll",r),document.removeEventListener("scroll",r),i&&i.disconnect(),document.querySelectorAll("*").forEach(u=>{u.removeEventListener("scroll",r)}),document.documentElement.classList.remove("scrolling")}},[])};function _l({children:l,enabled:r=!0}){return!r||typeof E.unstable_ViewTransition>"u"?l:h.jsx(E.unstable_ViewTransition,{children:l})}function lx(){const l=Ys(),{isLoggedIn:r,loginInput:s,setLoginInput:i,loginError:c,isCreating:u,createCooldown:f,showPassword:m,setShowPassword:g,handleCreateAccount:p,handleLogin:y}=Fa(),[b,x]=E.useState(!1),[S,_]=E.useState(!1),[R,j]=E.useState(""),[D,C]=E.useState(8),[A,q]=E.useState(!1);if(E.useEffect(()=>{if(S&&D>0){const P=setTimeout(()=>C(D-1),1e3);return()=>clearTimeout(P)}else S&&D===0&&J()},[S,D]),E.useEffect(()=>{if(A){const P=setTimeout(()=>q(!1),2e3);return()=>clearTimeout(P)}},[A]),r)return l("/",{replace:!0}),null;const N=async()=>{const P=await p();P.success&&(j(P.code),_(!0),C(8))},J=()=>{_(!1),j(""),C(8),l("/",{replace:!0})},ee=async()=>{(await y()).success&&l("/",{replace:!0})},G=P=>{P.key==="Enter"&&s.trim()&&ee()},ne=async()=>{try{await navigator.clipboard.writeText(R),q(!0)}catch(P){console.error("Failed to copy to clipboard:",P)}};return h.jsxs("div",{style:{padding:"2rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",width:"100%"},children:[h.jsx("h1",{style:{fontWeight:700,fontSize:"2.2rem",marginBottom:"1.5rem"},children:"Maplestory Boss Crystal Calculator"}),h.jsxs("div",{style:{background:"#2d2540",borderRadius:10,padding:"2rem",boxShadow:"0 2px 8px rgba(40, 20, 60, 0.18)",minWidth:320,display:"flex",flexDirection:"column",gap:16,alignItems:"center"},children:[h.jsx("button",{onClick:N,disabled:u||f>0,style:{background:u||f>0?"#6b46c1":"#a259f7",color:"#fff",border:"none",borderRadius:6,padding:"0.7rem 1.5rem",fontWeight:700,fontSize:"1.1rem",marginBottom:8,opacity:u||f>0?.6:1,cursor:u||f>0?"not-allowed":"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:u||f>0?"none":"0 2px 8px rgba(162, 89, 247, 0.3)",transform:"translateY(0)",width:"100%"},onMouseOver:P=>{u||f>0||(P.currentTarget.style.background="#b470ff",P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.4)")},onMouseOut:P=>{u||f>0||(P.currentTarget.style.background="#a259f7",P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 8px rgba(162, 89, 247, 0.3)")},onMouseDown:P=>{u||f>0||(P.currentTarget.style.transform="translateY(1px)",P.currentTarget.style.boxShadow="0 1px 4px rgba(162, 89, 247, 0.2)")},onMouseUp:P=>{u||f>0||(P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.4)")},children:u?"Creating Account...":f>0?`Creating Account (${f})`:"Create Account"}),h.jsxs("div",{style:{width:"100%",textAlign:"center",color:"#b39ddb",fontSize:"1.2rem",fontWeight:700,margin:"16px 0",display:"flex",alignItems:"center",gap:12},children:[h.jsx("span",{style:{flex:1,height:1,background:"#3a335a"}}),h.jsx("span",{style:{fontSize:"1.2em",fontWeight:700},children:"or"}),h.jsx("span",{style:{flex:1,height:1,background:"#3a335a"}})]}),h.jsxs("div",{style:{position:"relative",width:"100%",marginBottom:8},children:[h.jsx("input",{type:m?"text":"password",value:s,onChange:P=>i(P.target.value.toUpperCase()),onKeyDown:G,placeholder:"Enter your code",onFocus:()=>x(!0),onBlur:()=>x(!1),style:{background:"#3a335a",color:"#e6e0ff",border:b?"2px solid #a259f7":"1.5px solid #2d2540",borderRadius:6,padding:"0.5rem 1rem",fontSize:"1.1rem",width:"100%",boxSizing:"border-box",outline:"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:b?"0 0 0 3px rgba(162, 89, 247, 0.1), 0 0 20px rgba(162, 89, 247, 0.1)":"none",paddingRight:"3rem"}}),h.jsx("button",{type:"button",onClick:()=>g(!m),style:{position:"absolute",right:"0.5rem",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",color:"#a259f7",cursor:"pointer",padding:"0.25rem",fontSize:"0.9rem",borderRadius:4,transition:"all 0.2s ease"},title:m?"Hide password":"Show password",onMouseOver:P=>{P.currentTarget.style.background="rgba(162, 89, 247, 0.1)",P.currentTarget.style.color="#b470ff"},onMouseOut:P=>{P.currentTarget.style.background="transparent",P.currentTarget.style.color="#a259f7"},children:m?"👁️":"👁️‍🗨️"})]}),h.jsx("button",{onClick:ee,disabled:!s.trim(),style:{background:s.trim()?"#805ad5":"#555",color:"#fff",border:"none",borderRadius:6,padding:"0.7rem 1.5rem",fontWeight:700,fontSize:"1.1rem",cursor:s.trim()?"pointer":"not-allowed",opacity:s.trim()?1:.6,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:s.trim()?"0 2px 8px rgba(128, 90, 213, 0.3)":"none",transform:"translateY(0)",width:"100%"},onMouseOver:P=>{s.trim()&&(P.currentTarget.style.background="#9f7aea",P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 4px 16px rgba(128, 90, 213, 0.4)")},onMouseOut:P=>{s.trim()&&(P.currentTarget.style.background="#805ad5",P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 2px 8px rgba(128, 90, 213, 0.3)")},onMouseDown:P=>{s.trim()&&(P.currentTarget.style.transform="translateY(1px)",P.currentTarget.style.boxShadow="0 1px 4px rgba(128, 90, 213, 0.2)")},onMouseUp:P=>{s.trim()&&(P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 4px 16px rgba(128, 90, 213, 0.4)")},children:"Login"}),c&&h.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.95rem",textAlign:"center",marginTop:8,padding:"0.5rem",background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",borderRadius:6,animation:"fadeInShake 0.5s ease-out"},children:c}),h.jsx("div",{style:{fontSize:"0.85rem",color:"#888",textAlign:"center",marginTop:16,lineHeight:1.4},children:"Your code acts as both username and password. Keep it safe!"})]}),S&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40, 32, 74, 0.95)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center",animation:"modalFadeIn 0.3s ease-out"},onClick:J,children:h.jsxs("div",{style:{background:"#2d2540",borderRadius:16,padding:"3rem 2.5rem",maxWidth:480,color:"#e6e0ff",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",position:"relative",minWidth:400,textAlign:"center",border:"2px solid #a259f7",animation:"modalSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},onClick:P=>P.stopPropagation(),children:[h.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #a259f7, #805ad5)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 4px 20px rgba(162, 89, 247, 0.4)",animation:"checkmarkBounce 0.6s ease-out 0.2s both"},children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{style:{color:"#a259f7",fontWeight:700,marginBottom:20,fontSize:"1.8rem"},children:"Account Created!"}),h.jsxs("div",{style:{background:"rgba(162, 89, 247, 0.1)",border:"2px solid rgba(162, 89, 247, 0.3)",borderRadius:12,padding:"20px",marginBottom:28},children:[h.jsxs("p",{style:{marginBottom:16,fontSize:"1.1rem",lineHeight:"1.5",color:"#e6e0ff"},children:[h.jsx("strong",{children:"⚠️ IMPORTANT: Save this code immediately!"}),h.jsx("br",{}),"This is your unique login code. You cannot recover it if lost."]}),h.jsxs("div",{style:{background:"#3a335a",borderRadius:8,padding:"16px",margin:"16px 0",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[h.jsx("span",{style:{fontSize:"1.8rem",fontWeight:700,fontFamily:"monospace",color:"#a259f7",letterSpacing:"2px"},children:R}),h.jsx("button",{onClick:ne,style:{background:"#805ad5",color:"#fff",border:"none",borderRadius:6,padding:"8px 12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},title:"Copy to clipboard",onMouseOver:P=>{P.currentTarget.style.background="#9f7aea",P.currentTarget.style.transform="translateY(-1px)",P.currentTarget.style.boxShadow="0 2px 8px rgba(128, 90, 213, 0.4)"},onMouseOut:P=>{P.currentTarget.style.background="#805ad5",P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="none"},onMouseDown:P=>{P.currentTarget.style.transform="translateY(1px)"},onMouseUp:P=>{P.currentTarget.style.transform="translateY(-1px)"},children:"📋 Copy"})]}),h.jsx("p",{style:{margin:0,fontSize:"0.95rem",color:"#b39ddb"},children:"Write it down, take a screenshot, or save it in a password manager."})]}),h.jsxs("div",{style:{background:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:8,padding:"12px",marginBottom:24,fontSize:"1rem",color:"#ffc107"},children:["Auto-login in ",D," seconds..."]}),h.jsx("button",{onClick:J,style:{background:"linear-gradient(135deg, #a259f7, #805ad5)",color:"#fff",border:"none",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",boxShadow:"0 4px 16px rgba(162, 89, 247, 0.3)",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:P=>{P.currentTarget.style.background="linear-gradient(135deg, #b470ff, #9f7aea)",P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="0 8px 24px rgba(162, 89, 247, 0.4)"},onMouseOut:P=>{P.currentTarget.style.background="linear-gradient(135deg, #a259f7, #805ad5)",P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.3)"},onMouseDown:P=>{P.currentTarget.style.transform="translateY(1px)"},onMouseUp:P=>{P.currentTarget.style.transform="translateY(-2px)"},children:"I've Saved My Code - Continue"})]})}),A&&h.jsx("div",{style:{position:"fixed",top:"2rem",right:"2rem",background:"linear-gradient(135deg, #10b981, #059669)",color:"#fff",padding:"12px 20px",borderRadius:8,boxShadow:"0 4px 16px rgba(16, 185, 129, 0.3)",zIndex:5e3,display:"flex",alignItems:"center",gap:"8px",fontSize:"0.95rem",fontWeight:600,animation:"toastSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:"✅ Copied to clipboard!"}),h.jsx("style",{jsx:!0,children:`
        @keyframes modalFadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: scale(0.8) translateY(20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        @keyframes checkmarkBounce {
          from {
            opacity: 0;
            transform: scale(0.3);
          }
          50% {
            transform: scale(1.1);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        @keyframes toastSlideIn {
          from {
            opacity: 0;
            transform: translateX(100%) scale(0.8);
          }
          to {
            opacity: 1;
            transform: translateX(0) scale(1);
          }
        }

        @keyframes fadeInShake {
          0% {
            opacity: 0;
            transform: translateX(-10px);
          }
          25% {
            transform: translateX(10px);
          }
          50% {
            transform: translateX(-5px);
          }
          75% {
            transform: translateX(5px);
          }
          100% {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `})]})}function Tl(){const[l,r]=E.useTransition(),s=Ys();return{navigate:(c,u={})=>{r(()=>{s(c,u)})},isPending:l}}const En=[{name:"Pink Bean",difficulties:[{difficulty:"Chaos",price:64e6},{difficulty:"Normal",price:7022500}],image:"/bosses/PinkBean.png"},{name:"Cygnus",difficulties:[{difficulty:"Easy",price:45562500},{difficulty:"Normal",price:7225e4}],image:"/bosses/cygnus.png"},{name:"Zakum",difficulties:[{difficulty:"Easy",price:1e6},{difficulty:"Normal",price:3062500},{difficulty:"Chaos",price:81e6}],image:"/bosses/zakum.png"},{name:"Crimson Queen",difficulties:[{difficulty:"Normal",price:484e4},{difficulty:"Chaos",price:81e6}],image:"/bosses/crimsonqueen.png"},{name:"Von Bon",difficulties:[{difficulty:"Normal",price:484e4},{difficulty:"Chaos",price:81e6}],image:"/bosses/von_bon.png"},{name:"Pierre",difficulties:[{difficulty:"Normal",price:484e4},{difficulty:"Chaos",price:81e6}],image:"/bosses/pierre.png"},{name:"Magnus",difficulties:[{difficulty:"Easy",price:361e4},{difficulty:"Normal",price:1296e4},{difficulty:"Hard",price:95062500}],image:"/bosses/magnus.png"},{name:"Vellum",difficulties:[{difficulty:"Normal",price:484e4},{difficulty:"Chaos",price:105062500}],image:"/bosses/vellum.png"},{name:"Papulatus",difficulties:[{difficulty:"Easy",price:3422500},{difficulty:"Normal",price:13322500},{difficulty:"Chaos",price:13225e4}],image:"/bosses/Papulatus.png"},{name:"Aketchi",difficulties:[{difficulty:"Normal",price:144e6}],image:"/bosses/akechi.png"},{name:"Lotus",difficulties:[{difficulty:"Normal",price:162562500},{difficulty:"Hard",price:444675e3},{difficulty:"Extreme",price:13975e5}],image:"/bosses/lotus.png",pitchedItems:[{name:"Black Heart",image:"/items/blackheart.png"},{name:"Berserked",image:"/items/berserked.png"},{name:"Total Control",image:"/items/tc.png"}]},{name:"Damien",difficulties:[{difficulty:"Normal",price:169e6},{difficulty:"Hard",price:421875e3}],image:"/bosses/damien.png",pitchedItems:[{name:"Magic Eyepatch",image:"/items/eyepatch.webp"}]},{name:"Guardian Angel Slime",difficulties:[{difficulty:"Normal",price:231673500},{difficulty:"Chaos",price:600578125}],image:"/bosses/slime.png"},{name:"Lucid",difficulties:[{difficulty:"Easy",price:237009375},{difficulty:"Normal",price:253828125},{difficulty:"Hard",price:504e6}],image:"/bosses/lucid.png",pitchedItems:[{name:"Dreamy Belt",image:"/items/dreamy.png"}]},{name:"Will",difficulties:[{difficulty:"Easy",price:246744750},{difficulty:"Normal",price:279075e3},{difficulty:"Hard",price:62181e4}],image:"/bosses/will.png",pitchedItems:[{name:"Cursed Spellbook",image:"/items/book.webp"}]},{name:"Gloom",difficulties:[{difficulty:"Normal",price:297675e3},{difficulty:"Chaos",price:563945e3}],image:"/bosses/gloom.png",pitchedItems:[{name:"Endless Terror",image:"/items/et.webp"}]},{name:"Darknell",difficulties:[{difficulty:"Normal",price:316875e3},{difficulty:"Hard",price:66792e4}],image:"/bosses/darknell.png",pitchedItems:[{name:"Commanding Force Earring",image:"/items/cfe.webp"}]},{name:"Verus Hilla",difficulties:[{difficulty:"Normal",price:58188e4},{difficulty:"Hard",price:762105e3}],image:"/bosses/verus_hilla.png",pitchedItems:[{name:"Source of Suffering",image:"/items/sos.png"}]},{name:"Chosen Seren",difficulties:[{difficulty:"Normal",price:889021875},{difficulty:"Hard",price:1096562500},{difficulty:"Extreme",price:4235e6}],image:"/bosses/seren.png",pitchedItems:[{name:"Mitra's Rage",image:"/items/emblem.webp"}]},{name:"Watcher Kalos",difficulties:[{difficulty:"Easy",price:9375e5},{difficulty:"Normal",price:13e8},{difficulty:"Chaos",price:26e8},{difficulty:"Extreme",price:52e8}],image:"/bosses/Kalos.png"},{name:"Kaling",difficulties:[{difficulty:"Easy",price:103125e4},{difficulty:"Normal",price:15065e5},{difficulty:"Hard",price:299e7},{difficulty:"Extreme",price:6026e6}],image:"/bosses/Kaling.png"},{name:"Limbo",difficulties:[{difficulty:"Normal",price:21e8},{difficulty:"Hard",price:3745e6}],image:"/bosses/Limbo.png"},{name:"Hilla",difficulties:[{difficulty:"Normal",price:4e6},{difficulty:"Hard",price:5625e4}],image:"/bosses/hilla.png"},{name:"Princess No",difficulties:[{difficulty:"Normal",price:81e6}],image:"/bosses/pno.png"}],kr=(l,r)=>{const s=l.difficulties.find(i=>i.difficulty===r);return s?s.price:0};function ox(l,r){const s=E.useMemo(()=>g=>g.bosses.reduce((p,y)=>p+Math.ceil((y.price||0)/(y.partySize||1)),0),[]),i=E.useMemo(()=>l.reduce((g,p)=>g+s(p),0),[l,s]),c=E.useMemo(()=>[...r].sort((g,p)=>{const y=Math.max(...g.difficulties.map(x=>x.price));return Math.max(...p.difficulties.map(x=>x.price))-y}),[r]),u=E.useMemo(()=>l.reduce((g,p)=>{var y;return g+(((y=p.bosses)==null?void 0:y.length)||0)},0),[l]),f=E.useMemo(()=>(g,p)=>g==="Limbo"?[1,2,3]:g==="Lotus"&&p==="Extreme"?[1,2]:[1,2,3,4,5,6],[]),m=E.useMemo(()=>g=>g.difficulties.map(p=>p.difficulty),[]);return{charTotal:s,overallTotal:i,sortedBossData:c,totalBossCount:u,getAvailablePartySizes:f,getBossDifficulties:m}}function en(){const l=new Date,r=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds())),s=new Date(r),i=r.getUTCDay();let c;i>=4?c=i-4:c=i+3,s.setUTCDate(r.getUTCDate()-c),s.setUTCHours(0,0,0,0);const u=new Date(s.getUTCFullYear(),0,1),f=Math.ceil(((s-u)/864e5+u.getUTCDay()+1)/7),m=new Date(r.getUTCFullYear(),0,1),g=Math.ceil(((r-m)/864e5+m.getUTCDay()+1)/7);return`${s.getUTCFullYear()}-${f}-${g}`}function gl(l=0){const r=new Date,s=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds())),i=s.getUTCDay();let c;i>=4?c=i-4:c=i+3;const u=new Date(s);u.setUTCDate(s.getUTCDate()-c),u.setUTCHours(0,0,0,0);const f=new Date(u);f.setUTCDate(u.getUTCDate()+l*7);const m=new Date(f.getUTCFullYear(),0,1),g=Math.ceil(((f-m)/864e5+m.getUTCDay()+1)/7),p=new Date(f);p.setUTCDate(f.getUTCDate()+6);const y=new Date(p.getUTCFullYear(),0,1),b=Math.ceil(((p-y)/864e5+y.getUTCDay()+1)/7);return`${f.getUTCFullYear()}-${g}-${b}`}function Cr(l){if(!l||typeof l!="string")return null;const r=l.split("-");if(r.length===2){const s=parseInt(r[0]),i=parseInt(r[1]);return isNaN(s)||isNaN(i)?null:{year:s,mapleWeek:i,calendarWeek:i,isLegacy:!0}}else if(r.length===3){const s=parseInt(r[0]),i=parseInt(r[1]),c=parseInt(r[2]);return isNaN(s)||isNaN(i)||isNaN(c)?null:{year:s,mapleWeek:i,calendarWeek:c,isLegacy:!1}}return null}function Pm(l){const r=Cr(l);if(!r)return l;const s=en();return l===s?r.isLegacy?`Week ${r.mapleWeek}, ${r.year} (Current)`:`Week ${r.mapleWeek}-${r.calendarWeek}, ${r.year} (Current)`:r.isLegacy?`Week ${r.mapleWeek}, ${r.year}`:`Week ${r.mapleWeek}-${r.calendarWeek}, ${r.year}`}function ju(l){const r=Cr(l);if(!r)return null;if(r.isLegacy){const s=new Date(r.year,0,1),i=new Date(s),u=(4-s.getDay()+7)%7;i.setDate(s.getDate()+u);const f=new Date(i);f.setDate(i.getDate()+(r.mapleWeek-1)*7);const m=new Date(f);return m.setDate(f.getDate()+6),{start:f,end:m}}else{const s=new Date(Date.UTC(r.year,0,1)),i=new Date(s),c=s.getUTCDay();let u;c<=4?u=4-c:u=11-c,i.setUTCDate(s.getUTCDate()+u),i.setUTCHours(0,0,0,0);const f=new Date(i);f.setUTCDate(i.getUTCDate()+(r.mapleWeek-1)*7);const m=new Date(f);return m.setUTCDate(f.getUTCDate()+6),m.setUTCHours(23,59,59,999),{start:f,end:m}}}function Ym(l){const r=en(),s=Cr(r),i=Cr(l);if(!s||!i)return 0;const c=i.year-s.year,u=i.mapleWeek-s.mapleWeek;return c*52+u}function cu(){const l=new Date,r=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds())),s=(sm.DAY-r.getUTCDay()+7)%7,i=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()+s));s===0&&r.getUTCHours()>=sm.HOUR&&i.setUTCDate(i.getUTCDate()+7);const c=i-r,u=Math.floor(c/(1e3*60)),f=Math.floor(u/(60*24)),m=Math.floor(u%(60*24)/60),g=u%60;return{days:f.toString(),hours:m.toString().padStart(2,"0"),minutes:g.toString().padStart(2,"0")}}function ml(){return`${new Date().getUTCFullYear()}`}const cx=Object.freeze(Object.defineProperty({__proto__:null,getCurrentWeekKey:en,getCurrentYearKey:ml,getTimeUntilReset:cu,getWeekDateRange:ju,getWeekKeyOffset:gl,getWeekLabel:Pm,getWeekOffset:Ym,parseWeekKey:Cr},Symbol.toStringTag,{value:"Module"}));function ux(l){const r=[],s=new Set,i={};return console.log("🔍 Extracting characters from data structure..."),l.boss_runs&&Array.isArray(l.boss_runs)&&l.boss_runs.forEach(c=>{if(c.character&&typeof c.characterIdx=="number"){const u=`${c.character}-${c.characterIdx}`;if(s.has(u)||(s.add(u),r.push({name:c.character,index:c.characterIdx,bosses:[]}),console.log(`✅ Found character from boss_runs: ${c.character} (index: ${c.characterIdx})`)),i[u]||(i[u]=new Set),c.boss&&c.difficulty){const f=`${c.boss}-${c.difficulty}`;i[u].has(f)||(i[u].add(f),console.log(`📋 Found boss from boss_runs for ${c.character}: ${c.boss} (${c.difficulty})`))}}}),l.checked&&typeof l.checked=="object"&&Object.keys(l.checked).forEach(c=>{const u=c.split("-");if(u.length>=2){const f=u.slice(0,-1).join("-"),m=parseInt(u[u.length-1]);if(!isNaN(m)&&f){const g=`${f}-${m}`;s.has(g)||(s.add(g),r.push({name:f,index:m,bosses:[]}),console.log(`✅ Found character from checked (legacy): ${f} (index: ${m})`)),i[g]||(i[g]=new Set),Object.keys(l.checked[c]||{}).forEach(p=>{const y=p.split("-");if(y.length>=2){const b=y[y.length-1],x=y.slice(0,-1).join("-"),S=`${x}-${b}`;i[g].has(S)||(i[g].add(S),console.log(`📋 Found boss from checked for ${f}: ${x} (${b})`))}})}}}),l.weeklyBossClearHistory&&typeof l.weeklyBossClearHistory=="object"&&Object.values(l.weeklyBossClearHistory).forEach(c=>{c.bossClearStatus&&typeof c.bossClearStatus=="object"&&Object.keys(c.bossClearStatus).forEach(u=>{const f=u.split("-");if(f.length>=2){const m=f.slice(0,-1).join("-"),g=parseInt(f[f.length-1]);if(!isNaN(g)&&m){const p=`${m}-${g}`;s.has(p)||(s.add(p),r.push({name:m,index:g,bosses:[]}),console.log(`✅ Found character from weeklyBossClearHistory: ${m} (index: ${g})`)),i[p]||(i[p]=new Set),Object.keys(c.bossClearStatus[u]||{}).forEach(y=>{const b=y.split("-");if(b.length>=2){const x=b[b.length-1],S=b.slice(0,-1).join("-"),_=`${S}-${x}`;i[p].has(_)||(i[p].add(_),console.log(`📋 Found boss from history for ${m}: ${S} (${x})`))}})}}})}),r.forEach(c=>{const u=`${c.name}-${c.index}`,f=i[u];f&&f.size>0&&(c.bosses=Array.from(f).map(m=>{const g=m.split("-"),p=g[g.length-1];return{name:g.slice(0,-1).join("-"),difficulty:p,partySize:1,price:0}}),console.log(`🎯 Populated ${c.bosses.length} bosses for ${c.name}:`,c.bosses.map(m=>`${m.name}-${m.difficulty}`)))}),r.sort((c,u)=>c.index-u.index),console.log(`🎯 Extracted ${r.length} characters with bosses:`,r.map(c=>`${c.name}-${c.index} (${c.bosses.length} bosses)`)),r}function Gm(){const{userCode:l,isLoggedIn:r}=Fa(),[s,i]=E.useState([]),[c,u]=E.useState(""),[f,m]=E.useState(null),[g,p]=E.useState(""),[y,b]=E.useState(!1),[x,S]=E.useState({}),_=E.useRef(!1),R=se=>{console.log("🔄 STATE: setChecked called with:",JSON.stringify(se,null,2)),console.log("🔄 STATE: Previous checked state was:",JSON.stringify(x,null,2)),console.log("🔄 STATE: Preservation flag is:",_.current),S(se)},[j,D]=E.useState(""),[C,A]=E.useState(!1),[q,N]=E.useState(null),[J,ee]=E.useState(""),[G,ne]=E.useState(!1),P=E.useRef(null),me=E.useRef(null),{charTotal:ue,overallTotal:oe,sortedBossData:xe,totalBossCount:ae,getAvailablePartySizes:M,getBossDifficulties:Y}=ox(s,En);E.useEffect(()=>{if(!l||!r){i([]),S({}),p("");return}(async()=>{var ce;try{p(""),console.log("Loading data for user:",l);const{supabase:de}=await dt(async()=>{const{supabase:Z}=await Promise.resolve().then(()=>Hs);return{supabase:Z}},void 0),{data:pe,error:le}=await de.from("user_data").select("data").eq("id",l).single();if(le){if(le.code==="PGRST116"){console.log("No existing data found for user, starting fresh"),i([]),R({});return}throw le}if(pe&&pe.data){const Z=pe.data;if(console.log("📊 Raw user data:",Z),console.log("📊 Characters found:",Z.characters),console.log("📊 Boss runs found:",((ce=Z.boss_runs)==null?void 0:ce.length)||0),Z.characters&&Array.isArray(Z.characters))i(Z.characters),console.log("✅ Loaded characters (old format):",Z.characters.length,Z.characters);else{const ve=ux(Z);i(ve),console.log("✅ Loaded characters (new format):",ve.length,ve)}const Se={};Z.boss_runs&&Array.isArray(Z.boss_runs)&&(Z.boss_runs.forEach(ve=>{if(ve.cleared){const De=`${ve.character}-${ve.characterIdx||0}`,Xe=`${ve.boss}-${ve.difficulty}`;Se[De]||(Se[De]={}),Se[De][Xe]=!0}}),console.log("✅ Reconstructed checked state from boss_runs:",Object.keys(Se).length,"characters")),Object.keys(Se).length===0&&Z.checked&&typeof Z.checked=="object"?(console.log("📊 LOAD: Setting checked state from legacy data:",JSON.stringify(Z.checked,null,2)),R(Z.checked),console.log("✅ LOAD: Loaded legacy checked state:",Object.keys(Z.checked).length,"entries")):(console.log("📊 LOAD: Setting checked state from boss_runs:",JSON.stringify(Se,null,2)),R(Se),console.log("✅ LOAD: Using reconstructed checked state from boss_runs"))}else console.log("No data found, starting fresh"),i([]),R({})}catch(de){console.error("Error loading user data:",de),p("Failed to load user data. Please try refreshing the page.")}})()},[l,r]);const F=async()=>{if(!(!l||!r)){try{console.log("🔄 Refreshing checked state from boss runs...");const{supabase:se}=await dt(async()=>{const{supabase:pe}=await Promise.resolve().then(()=>Hs);return{supabase:pe}},void 0),{data:ce,error:de}=await se.from("user_data").select("data").eq("id",l).single();if(de)throw de;if(ce&&ce.data&&ce.data.boss_runs&&Array.isArray(ce.data.boss_runs)){const pe={};return ce.data.boss_runs.forEach(le=>{if(le.cleared){const Z=`${le.character}-${le.characterIdx||0}`,Se=`${le.boss}-${le.difficulty}`;pe[Z]||(pe[Z]={}),pe[Z][Se]=!0}}),console.log("✅ Refreshed checked state from boss_runs:",Object.keys(pe).length,"characters"),R(pe),pe}}catch(se){console.error("Error refreshing checked state from boss runs:",se)}return null}},K=se=>{const ce=se.split("-");if(ce.length>=2){const de=parseInt(ce[ce.length-1]);return[ce.slice(0,-1).join("-"),de]}return[se,0]},T=(se,ce,de)=>se.find((pe,le)=>pe.name===ce&&(pe.index===de||le===de)),H=(se,ce)=>{const de={...ce};return console.log("🧹 Cleaning up checked state based on new boss selections..."),console.log("📊 Current checked state:",ce),console.log("📋 New characters:",se.map(pe=>{var le;return`${pe.name} (${((le=pe.bosses)==null?void 0:le.length)||0} bosses)`})),Object.keys(de).forEach(pe=>{const[le,Z]=K(pe),Se=T(se,le,Z);if(!Se)console.log(`🗑️ Removing all entries for deleted character: ${pe}`),delete de[pe];else{const ve=(Se.bosses||[]).map(Xe=>`${Xe.name}-${Xe.difficulty}`),De=Object.keys(de[pe]||{});console.log(`🔍 Character ${le}: Current bosses [${ve.join(", ")}], Checked bosses [${De.join(", ")}]`),De.forEach(Xe=>{ve.includes(Xe)?console.log(`✅ Preserving checked state for: ${le} - ${Xe}`):(console.log(`🗑️ Removing checked state for deselected boss: ${le} - ${Xe}`),delete de[pe][Xe])}),Object.keys(de[pe]||{}).length===0&&delete de[pe]}}),console.log("🎯 Final cleaned checked state:",de),de},I=se=>{if(console.log("🔄 PRESERVE: Starting preservation process..."),console.log("🔄 PRESERVE: userCode:",l,"isLoggedIn:",r),!l||!r){console.log("❌ PRESERVE: Skipping - no userCode or not logged in");return}console.log("🔄 PRESERVE: Current checked state before preservation:",JSON.stringify(x,null,2)),console.log("🔄 PRESERVE: New characters data:",se.map(de=>{var pe;return{name:de.name,index:de.index,bosses:((pe=de.bosses)==null?void 0:pe.map(le=>`${le.name}-${le.difficulty}`))||[]}})),_.current=!0,console.log("🔒 PRESERVE: Flag set to prevent overwrites");const ce=H(se,x);console.log("🔄 PRESERVE: Cleaned checked state:",JSON.stringify(ce,null,2)),R(ce),console.log("✅ PRESERVE: debugSetChecked called with cleaned state"),setTimeout(()=>{_.current=!1,console.log("🔓 PRESERVE: Flag cleared - other hooks can now update")},500),console.log("✅ PRESERVE: Preservation process completed")},X=async se=>{if(!(!l||!r))try{const{supabase:ce}=await dt(async()=>{const{supabase:ve}=await Promise.resolve().then(()=>Hs);return{supabase:ve}},void 0),{data:de,error:pe}=await ce.from("user_data").select("data").eq("id",l).single();if(pe&&pe.code!=="PGRST116")throw pe;const le=(de==null?void 0:de.data)||{},Z={...le,...se,lastUpdated:new Date().toISOString()};console.log("💾 SAVE: Merging data - existing keys:",Object.keys(le),"new keys:",Object.keys(se));const{error:Se}=await ce.from("user_data").update({data:Z}).eq("id",l);if(Se)throw Se;console.log("Data saved to cloud successfully")}catch(ce){console.error("Error saving to cloud:",ce)}},re=se=>{b(!0),m(se.target.value?parseInt(se.target.value):null),setTimeout(()=>b(!1),300)},ie=async()=>{if(!c.trim()||s.length>=Tn.CHARACTER_CAP)return;const se=s.length>0?Math.max(...s.map(le=>le.index||0))+1:0,ce={name:c.trim(),index:se,bosses:[]},de=[...s,ce];i(de),u(""),await X({characters:de})},te=async se=>{if(se<0||se>=s.length)return;const ce=s[se];N({character:ce,index:se,timestamp:Date.now()}),A(!0),me.current&&clearTimeout(me.current),me.current=setTimeout(()=>{A(!1),N(null)},1e4);const de=s.filter((le,Z)=>Z!==se);i(de),f===se?m(de.length>0?Math.max(0,se-1):null):f>se&&m(f-1),await X({characters:de})},_e=()=>{if(!q)return;me.current&&clearTimeout(me.current);const se=[...s];se.splice(q.index,0,q.character),i(se),(f===null||f>=q.index)&&m(q.index),A(!1),N(null)},he=async(se,ce)=>{const de=s.map((le,Z)=>Z===se?{...le,name:ce}:le);i(de),await X({characters:de})},Ue=(se,ce,de)=>{console.log("🎯 TOGGLE: Boss toggle called:",{charIdx:se,bossName:ce,difficulty:de}),console.log("🎯 TOGGLE: Current characters before change:",s.map(Z=>{var Se;return{name:Z.name,bosses:((Se=Z.bosses)==null?void 0:Se.map(ve=>`${ve.name}-${ve.difficulty}`))||[]}}));const pe=s.map((Z,Se)=>Se!==se?Z:de?Z.bosses.find(ve=>ve.name===ce)?(console.log("🎯 TOGGLE: Updating existing boss:",ce,"to difficulty:",de),{...Z,bosses:Z.bosses.map(ve=>ve.name===ce?{...ve,difficulty:de,price:kr(En.find(De=>De.name===ce),de),partySize:M(ce,de)[0]||1}:ve)}):Z.bosses.length<Tn.CHARACTER_BOSS_CAP?(console.log("🎯 TOGGLE: Adding new boss:",ce,"with difficulty:",de),{...Z,bosses:[...Z.bosses,{name:ce,difficulty:de,price:kr(En.find(ve=>ve.name===ce),de),partySize:M(ce,de)[0]||1}]}):Z:Z.bosses.find(De=>De.name===ce)?(console.log("🎯 TOGGLE: Removing boss:",ce),{...Z,bosses:Z.bosses.filter(De=>De.name!==ce)}):Z);console.log("🎯 TOGGLE: New characters after change:",pe.map(Z=>{var Se;return{name:Z.name,bosses:((Se=Z.bosses)==null?void 0:Se.map(ve=>`${ve.name}-${ve.difficulty}`))||[]}})),i(pe),console.log("🎯 TOGGLE: setCharacters called"),console.log("🎯 TOGGLE: About to call preserveCheckedStateOnBossChange"),I(pe),(async()=>{await X({characters:pe})})().catch(console.error)},Me=(se,ce)=>{const de=s.map((le,Z)=>{if(Z!==se)return le;const Se=ce.map(ve=>({name:ve.name,difficulty:ve.difficulty,price:kr(En.find(De=>De.name===ve.name),ve.difficulty),partySize:ve.partySize||M(ve.name,ve.difficulty)[0]||1}));return{...le,bosses:Se}});i(de),I(de),(async()=>{await X({characters:de})})().catch(console.error)},Ke=async(se,ce,de,pe)=>{const le=s.map((Se,ve)=>ve!==se?Se:{...Se,bosses:Se.bosses.map(De=>De.name===ce&&De.difficulty===de?{...De,partySize:pe}:De)});i(le),await X({characters:le})};return E.useEffect(()=>{f>=s.length&&m(Math.max(0,s.length-1))},[s.length,f]),{characters:s,setCharacters:i,newCharName:c,setNewCharName:u,selectedCharIdx:f,setSelectedCharIdx:m,error:g,setError:p,isLoading:y,setIsLoading:b,checked:x,setChecked:S,cloneError:j,setCloneError:D,showUndo:C,undoData:q,fileInputRef:P,importError:J,setImportError:ee,importSuccess:G,setImportSuccess:ne,charTotal:ue,overallTotal:oe,sortedBossData:xe,totalBossCount:ae,getAvailablePartySizes:M,getBossDifficulties:Y,handleCharacterChange:re,addCharacter:ie,removeCharacter:te,handleUndo:_e,toggleBoss:Ue,updateCharacterName:he,updatePartySize:Ke,batchSetBosses:Me,refreshCheckedStateFromBossRuns:F,preserveCheckedStateOnBossChange:I,preservingCheckedStateRef:_}}function dx(){const[l,r]=E.useState(()=>{const R=localStorage.getItem("boss-presets");return R?JSON.parse(R):[]}),[s,i]=E.useState(""),[c,u]=E.useState(""),[f,m]=E.useState(!1),[g,p]=E.useState({}),y=R=>{r(R),localStorage.setItem("boss-presets",JSON.stringify(R))};return{presets:l,newPresetName:s,setNewPresetName:i,presetError:c,setPresetError:u,presetCreationMode:f,setPresetCreationMode:m,presetBosses:g,setPresetBosses:p,createPreset:(R,j,D)=>{if(!s.trim()){u("Please enter a preset name");return}if(l.some(q=>q.name.toLowerCase()===s.toLowerCase())){u("A preset with this name already exists");return}let C=[];if(f){if(Object.keys(g).length===0){u("Please select at least one boss");return}C=Object.entries(g).map(([q,N])=>({name:q,difficulty:N,partySize:1,price:0}))}else{if(R===null||!j[R]){u("Please select a character first");return}const q=j[R];if(!q.bosses||q.bosses.length===0){u("Selected character has no bosses configured");return}C=[...q.bosses]}const A={id:Date.now(),name:s.trim(),bosses:C,createdAt:new Date().toISOString()};y([...l,A]),i(""),u(""),p({}),m(!1)},applyPreset:(R,j,D,C)=>{if(j===null||!D[j]){u("Please select a character first"),setTimeout(()=>u(""),3e3);return}const A=R.bosses.map(q=>({...q}));C(j,A),u("")},deletePreset:R=>{const j=l.filter(D=>D.id!==R);y(j)},handlePresetBossSelect:(R,j)=>{if(g[R])if(g[R]===j){const D={...g};delete D[R],p(D)}else p({...g,[R]:j});else p({...g,[R]:j});u("")}}}function fx(){const[l,r]=E.useState({}),[s,i]=E.useState("");return{quickSelectBosses:l,setQuickSelectBosses:r,quickSelectError:s,setQuickSelectError:i,handleQuickSelectBoss:(m,g)=>{const p=Object.keys(l).length;if(l[m])if(l[m]===g){const y={...l};delete y[m],r(y)}else r({...l,[m]:g});else{if(p>=14){i("Maximum 14 bosses can be selected"),setTimeout(()=>i(""),3e3);return}r({...l,[m]:g})}i("")},applyQuickSelection:(m,g,p)=>{if(m===null||!g[m]){i("Please select a character first"),setTimeout(()=>i(""),3e3);return}const y=Object.entries(l).map(([b,x])=>({name:b,difficulty:x,partySize:1}));p(m,y),r({}),i("")},resetQuickSelection:()=>{r({}),i("")}}}function Cu({currentPage:l,onShowHelp:r,onShowDeleteConfirm:s}){const{userCode:i,handleLogout:c}=Fa(),{navigate:u}=Tl(),f=_a(),[m,g]=E.useState(cu());en(),E.useEffect(()=>{const _=setInterval(()=>{g(cu())},1e3);return()=>clearInterval(_)},[]);const p=async()=>{await c()},y=()=>{s&&s()},b=()=>{r&&r()},S=(_=>_==="/"?"calculator":_==="/weeklytracker"?"weeklytracker":_==="/bosstable"?"bosstable":"calculator")(f.pathname);return h.jsx("div",{className:"navbar-container",children:h.jsxs("div",{className:"navbar-content",children:[h.jsxs("div",{className:"navbar-left",children:[m&&h.jsxs("div",{className:"navbar-timer",children:[h.jsx("div",{className:"navbar-timer-label",children:"Reset:"}),h.jsxs("div",{className:"navbar-timer-countdown",children:[h.jsxs("span",{children:[m.days,"D"]}),h.jsxs("span",{children:[m.hours,"H"]}),h.jsxs("span",{children:[m.minutes,"M"]})]})]}),h.jsxs("div",{className:"navbar-usercode",children:["ID: ",i]})]}),h.jsxs("div",{className:"navbar-navigation",children:[h.jsx("button",{onClick:()=>u("/"),className:`navbar-nav-btn ${S==="calculator"?"active":""}`,title:"Character & Boss Configuration",children:"Boss Config"}),h.jsx("button",{onClick:()=>u("/weeklytracker"),className:`navbar-nav-btn ${S==="weeklytracker"?"active":""}`,title:"Weekly Boss Progress Tracker",children:"Weekly Tracker"}),h.jsx("button",{onClick:()=>u("/bosstable"),className:`navbar-nav-btn ${S==="bosstable"?"active":""}`,title:"Boss Crystal Price Reference",children:"Boss Table"})]}),h.jsxs("div",{className:"navbar-actions",children:[h.jsx("button",{onClick:p,className:"navbar-btn logout",children:"Logout"}),h.jsx("button",{onClick:y,className:"navbar-btn delete",children:"Delete Account"}),h.jsx("button",{onClick:b,className:"navbar-btn help",title:"Help & FAQ",children:"Help"})]})]})})}function Tr({children:l,text:r,position:s="top"}){const[i,c]=E.useState(!1);return h.jsxs("span",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onFocus:()=>c(!0),onBlur:()=>c(!1),tabIndex:0,children:[l,i&&h.jsx("span",{style:{position:"absolute",[s]:"120%",left:"50%",transform:"translateX(-50%)",background:"#2d2540",color:"#fff",padding:"6px 12px",borderRadius:6,fontSize:"0.95em",whiteSpace:"nowrap",zIndex:9999,boxShadow:"0 2px 8px #0004",pointerEvents:"none",opacity:.95},children:r})]})}function hx({onExport:l,onImport:r,onShowPresets:s,onShowQuickSelect:i,fileInputRef:c}){return h.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"2rem",flexWrap:"wrap"},children:[h.jsx(Tr,{text:"Export all character data as a backup file",children:h.jsxs("button",{onClick:l,style:{background:"#805ad5",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:u=>{u.currentTarget.style.background="#9f7aea",u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 16px rgba(128, 90, 213, 0.4)"},onMouseOut:u=>{u.currentTarget.style.background="#805ad5",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"7 10 12 15 17 10"}),h.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Backup Data"]})}),h.jsx(Tr,{text:"Import character data from a backup file",children:h.jsxs("button",{onClick:()=>{var u;return(u=c.current)==null?void 0:u.click()},style:{background:"#a259f7",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:u=>{u.currentTarget.style.background="#b470ff",u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.4)"},onMouseOut:u=>{u.currentTarget.style.background="#a259f7",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Restore Backup"]})}),h.jsx(Tr,{text:"Create and manage boss configuration presets",children:h.jsxs("button",{onClick:s,style:{background:"#38a169",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:u=>{u.currentTarget.style.background="#48bb78",u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 16px rgba(56, 161, 105, 0.4)"},onMouseOut:u=>{u.currentTarget.style.background="#38a169",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),h.jsx("path",{d:"M20.4 14.5L16 10 4 20"})]}),"Presets"]})}),h.jsx(Tr,{text:"Quick select up to 14 bosses sorted by highest price",children:h.jsxs("button",{onClick:i,style:{background:"#f56565",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:u=>{u.currentTarget.style.background="#fc8181",u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="0 4px 16px rgba(245, 101, 101, 0.4)"},onMouseOut:u=>{u.currentTarget.style.background="#f56565",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M9 11H1l6-6 6 6"}),h.jsx("path",{d:"M9 17l3-3 3 3"}),h.jsx("path",{d:"M22 18.5V2l-5 5-5-5v16.5"})]}),"Quick Select"]})}),h.jsx("input",{type:"file",ref:c,onChange:r,accept:".json",style:{display:"none"}})]})}function gx({name:l,onSave:r}){const[s,i]=E.useState(!1),[c,u]=E.useState(l),[f,m]=E.useState(!1);return s?h.jsxs("span",{style:{display:"inline-flex",alignItems:"center",marginLeft:0,marginRight:4},children:[h.jsx("input",{value:c,onChange:g=>u(g.target.value),style:{fontSize:"0.95em",borderRadius:8,border:f?"1px solid #a259f7":"1px solid #4a4370",padding:"4px 8px",marginRight:4,minWidth:80,maxWidth:120,background:"#3a335a",color:"#e6e0ff",boxShadow:f?"0 0 0 2px rgba(162, 89, 247, 0.3), 0 0 10px rgba(255, 255, 255, 0.15)":"none",transition:"all 0.25s ease",outline:"none"},autoFocus:!0,onFocus:()=>m(!0),onBlur:()=>m(!1),onKeyDown:g=>{g.key==="Enter"&&(r(c),i(!1)),g.key==="Escape"&&(i(!1),u(l))}}),h.jsx("button",{style:{background:"#a259f7",color:"#fff",border:"none",borderRadius:8,padding:"4px 8px",marginRight:4,cursor:"pointer",fontSize:"0.95em",boxShadow:"0 2px 6px rgba(162, 89, 247, 0.3)",transition:"all 0.2s ease"},onClick:()=>{r(c),i(!1)},title:"Save",onMouseOver:g=>{g.currentTarget.style.background="#b47aff",g.currentTarget.style.transform="translateY(-1px)"},onMouseOut:g=>{g.currentTarget.style.background="#a259f7",g.currentTarget.style.transform="translateY(0)"},children:"✔"}),h.jsx("button",{style:{background:"transparent",color:"#a259f7",border:"1px solid #a259f7",borderRadius:8,padding:"4px 8px",cursor:"pointer",fontSize:"0.95em",transition:"all 0.2s ease"},onClick:()=>{i(!1),u(l)},title:"Cancel",onMouseOver:g=>{g.currentTarget.style.background="rgba(162, 89, 247, 0.1)"},onMouseOut:g=>{g.currentTarget.style.background="transparent"},children:"✖"})]}):h.jsx("button",{className:"character-name-edit-btn",title:"Edit character name",onClick:()=>i(!0),style:{background:"transparent",border:"none",color:"#a259f7",cursor:"pointer",padding:"4px",borderRadius:4},children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:h.jsx("path",{fill:"currentColor",d:"M20.548 3.452a1.542 1.542 0 0 1 0 2.182l-7.636 7.636-3.273 1.091 1.091-3.273 7.636-7.636a1.542 1.542 0 0 1 2.182 0zM4 21h15a1 1 0 0 0 1-1v-8a1 1 0 0 0-2 0v7H5V6h7a1 1 0 0 0 0-2H4a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1z"})})})}function mx({characters:l,newCharName:r,setNewCharName:s,selectedCharIdx:i,cloneError:c,onCharacterChange:u,onAddCharacter:f,onUpdateCharacterName:m,onCloneCharacter:g,onRemoveCharacter:p}){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{margin:"2rem 0",display:"flex",gap:"1rem",alignItems:"center",justifyContent:"center"},children:[h.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"Character name",style:{padding:"0.5rem",borderRadius:"6px",border:"1px solid #3a335a",minWidth:"180px",fontSize:"1rem",background:"#3a335a",color:"#e6e0ff",outline:"none",boxShadow:"none"},onKeyDown:y=>y.key==="Enter"&&f()}),h.jsx("button",{onClick:f,disabled:!r.trim()||l.length>=Tn.CHARACTER_CAP,style:{background:!r.trim()||l.length>=Tn.CHARACTER_CAP?"#555":"#a259f7",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1rem",cursor:!r.trim()||l.length>=Tn.CHARACTER_CAP?"not-allowed":"pointer",fontWeight:"bold",fontSize:"1rem",opacity:!r.trim()||l.length>=Tn.CHARACTER_CAP?.6:1},children:"Add Character"})]}),l.length>0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"char-header-row",style:{display:"flex",alignItems:"center",gap:8,marginBottom:16,justifyContent:"center",position:"relative"},children:[c&&h.jsx("div",{style:{color:"#ffbaba",background:"#3a335a",borderRadius:6,padding:"6px 16px",fontSize:"1em",fontWeight:500,marginBottom:4,boxShadow:"0 2px 8px #ffbaba22",transition:"opacity 0.3s",position:"absolute",top:-36,left:"50%",transform:"translateX(-50%)",zIndex:20},children:c}),i!==null&&l[i]&&h.jsx(gx,{name:l[i].name,onSave:y=>m(i,y)}),h.jsxs("select",{value:i??"",onChange:u,style:{background:"#3a335a",color:"#e6e0ff",border:"1px solid #3a335a",borderRadius:10,fontSize:"1.1em",minWidth:140,height:36,boxShadow:"none",textAlign:"center",textAlignLast:"center",paddingRight:20,outline:"none"},children:[h.jsx("option",{value:"",children:"Select a Character"}),l.map((y,b)=>h.jsx("option",{value:b,children:y.name},b))]}),i!==null&&h.jsxs(h.Fragment,{children:[h.jsx(Tr,{text:"Clone this character (max 180 crystals)",children:h.jsx("button",{className:"boton-elegante clone",onClick:()=>g(i),children:"Clone"})}),h.jsx(Tr,{text:"Delete this character",children:h.jsx("button",{className:"boton-elegante delete",onClick:()=>p(i),children:"Delete"})})]})]}),i!==null&&l[i]&&h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:16,background:"#352d58",borderRadius:12,padding:"10px 16px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",maxWidth:"200px",margin:"0 auto 16px auto",textAlign:"center"},children:[h.jsxs("div",{style:{fontWeight:700,fontSize:"1.2em",color:"#d4c1ff"},children:[h.jsx("span",{style:{color:"#a259f7"},children:l.reduce((y,b)=>y+(b.bosses?b.bosses.length:0),0)}),h.jsx("span",{style:{opacity:.8},children:" / 180"})]}),h.jsx("div",{style:{fontSize:"0.8em",color:"#9d8bbc",marginTop:4},children:"Total Crystals"})]})]})]})}function Wm({checked:l,onChange:r,disabled:s=!1}){return h.jsxs("div",{className:"checkbox-wrapper",style:{transform:"scale(0.8)",opacity:s?.5:1,cursor:s?"not-allowed":"pointer"},children:[h.jsx("input",{type:"checkbox",checked:l,onChange:r,disabled:s,style:{background:"#3a335a",color:"#e6e0ff",border:"1.5px solid #2d2540",cursor:s?"not-allowed":"pointer"}}),h.jsxs("svg",{viewBox:"0 0 35.6 35.6",children:[h.jsx("circle",{className:"background",cx:"17.8",cy:"17.8",r:"17.8"}),h.jsx("circle",{className:"stroke",cx:"17.8",cy:"17.8",r:"14.37"}),h.jsx("polyline",{className:"check",points:"11.78 18.12 15.55 22.23 25.17 12.87"})]})]})}function px({selectedCharIdx:l,characters:r,sortedBossData:s,getBossDifficulties:i,getAvailablePartySizes:c,onToggleBoss:u,onUpdatePartySize:f}){var m;return l===null||!r[l]?h.jsx("div",{className:"boss-selection-empty-state",children:"Select a character to manage their bosses."}):h.jsx("div",{className:"boss-selection-container",children:h.jsx("div",{className:"table-scroll",children:h.jsxs("table",{className:"boss-selection-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"boss-header",children:"Boss"}),h.jsx("th",{className:"difficulty-header",children:"Difficulty"}),h.jsx("th",{className:"mesos-header",children:"Mesos"}),h.jsx("th",{className:"controls-header",children:((m=r[l])==null?void 0:m.name)||"Selected Character"})]})}),h.jsx("tbody",{children:s.map((g,p)=>{var x;const y=i(g),b=(x=r[l])==null?void 0:x.bosses.find(S=>S.name===g.name);return h.jsxs("tr",{onClick:S=>{!S.target.closest("select")&&!S.target.closest(".checkbox-wrapper")&&!S.target.closest("input")&&(b?u(l,g.name,""):u(l,g.name,y[0]))},children:[h.jsxs("td",{className:"boss-name-cell",children:[g.image&&h.jsx("img",{src:g.image,alt:g.name,loading:"lazy",className:"boss-image"}),h.jsx("span",{className:"boss-name-text",children:g.name})]}),h.jsx("td",{className:"difficulty-cell",children:h.jsx("span",{className:"difficulty-text",children:b?b.difficulty:"—"})}),h.jsx("td",{className:"mesos-cell",children:h.jsx("span",{className:"mesos-amount",children:b?Math.floor(kr(g,b.difficulty)/(b.partySize||1)).toLocaleString():"-"})}),h.jsx("td",{className:"controls-cell",children:h.jsxs("div",{className:"controls-container",children:[h.jsx(Wm,{checked:!!b,onChange:()=>{b?u(l,g.name,""):u(l,g.name,y[0])}}),b&&h.jsxs(h.Fragment,{children:[h.jsx("select",{className:"boss-table-difficulty",value:b.difficulty,onChange:S=>{u(l,g.name,S.target.value)},children:y.map(S=>h.jsx("option",{value:S,children:S},S))}),h.jsx("select",{className:"party-size-dropdown boss-table-party-size",value:b.partySize||1,onChange:S=>{f(l,g.name,b.difficulty,parseInt(S.target.value))},children:c(g.name,b.difficulty).map(S=>h.jsx("option",{value:S,children:S},S))})]})]})})]},p)})})]})})})}function yx({show:l,onClose:r,presets:s,newPresetName:i,setNewPresetName:c,presetError:u,presetCreationMode:f,setPresetCreationMode:m,presetBosses:g,getSortedBossesByPrice:p,getBossDifficulties:y,formatPrice:b,handlePresetBossSelect:x,createPreset:S,applyPreset:_,deletePreset:R,selectedCharIdx:j,characters:D}){return l?h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.95)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},onClick:r,children:h.jsxs("div",{className:"modal-fade",style:{background:"linear-gradient(145deg, #1a1730, #2d2540)",borderRadius:16,padding:"2.5rem",maxWidth:700,width:"90%",maxHeight:"90vh",overflowY:"auto",color:"#e6e0ff",boxShadow:"0 20px 60px rgba(0,0,0,0.4), 0 8px 32px rgba(162, 89, 247, 0.15)",position:"relative",border:"1px solid rgba(162, 89, 247, 0.2)"},onClick:C=>C.stopPropagation(),children:[h.jsx("button",{onClick:r,style:{position:"absolute",top:16,right:16,background:"transparent",color:"#fff",border:"none",fontSize:"1.5rem",cursor:"pointer",outline:"none",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",borderRadius:8},title:"Close",onMouseOver:C=>{C.currentTarget.style.background="rgba(255, 255, 255, 0.1)",C.currentTarget.style.color="#ff6b6b"},onMouseOut:C=>{C.currentTarget.style.background="transparent",C.currentTarget.style.color="#fff"},children:"×"}),h.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #a259f7, #805ad5)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 8px 32px rgba(162, 89, 247, 0.4)"},children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{style:{color:"#a259f7",fontWeight:700,marginBottom:8,fontSize:"1.8rem",textAlign:"center"},children:"Boss Presets"}),h.jsx("p",{style:{textAlign:"center",marginBottom:32,color:"#b39ddb",fontSize:"1rem"},children:"Create and manage your boss configuration presets"}),h.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(162, 89, 247, 0.15), rgba(128, 90, 213, 0.1))",border:"2px solid rgba(162, 89, 247, 0.3)",borderRadius:16,padding:"24px",marginBottom:32},children:[h.jsx("h3",{style:{color:"#d6b4ff",marginBottom:20,fontSize:"1.3rem",fontWeight:700,textAlign:"center"},children:"Create New Preset"}),h.jsxs("div",{style:{display:"flex",gap:8,marginBottom:20,background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",borderRadius:12,padding:6,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[h.jsx("button",{onClick:()=>m(!1),style:{flex:1,background:f?"transparent":"linear-gradient(135deg, #a259f7, #805ad5)",color:f?"#d6b4ff":"#fff",border:"none",borderRadius:8,padding:"12px 16px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:f?"none":"0 4px 16px rgba(162, 89, 247, 0.3)"},onMouseOver:C=>{f&&(C.currentTarget.style.background="rgba(162, 89, 247, 0.1)")},onMouseOut:C=>{f&&(C.currentTarget.style.background="transparent")},children:"From Current Character"}),h.jsx("button",{onClick:()=>m(!0),style:{flex:1,background:f?"linear-gradient(135deg, #a259f7, #805ad5)":"transparent",color:f?"#fff":"#d6b4ff",border:"none",borderRadius:8,padding:"12px 16px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:f?"0 4px 16px rgba(162, 89, 247, 0.3)":"none"},onMouseOver:C=>{f||(C.currentTarget.style.background="rgba(162, 89, 247, 0.1)")},onMouseOut:C=>{f||(C.currentTarget.style.background="transparent")},children:"Manual Selection"})]}),f&&h.jsxs("div",{style:{marginBottom:20},children:[h.jsxs("div",{style:{marginBottom:16,textAlign:"center",padding:"12px",background:"linear-gradient(135deg, rgba(162, 89, 247, 0.1), rgba(128, 90, 213, 0.05))",borderRadius:8,border:"1px solid rgba(162, 89, 247, 0.2)"},children:[h.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"#a259f7",marginBottom:4},children:[Object.keys(g).length," bosses selected"]}),h.jsx("div",{style:{fontSize:"0.85rem",color:"#c4b5d4"},children:"Click on boss difficulties to add them to your preset"})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,maxHeight:"250px",overflowY:"auto",padding:"8px"},children:p().map(C=>{const A=!!g[C.name],q=g[C.name],N=y(C);return h.jsxs("div",{style:{background:A?"linear-gradient(135deg, rgba(162, 89, 247, 0.2), rgba(128, 90, 213, 0.15))":"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:10,padding:"12px",border:A?"2px solid rgba(162, 89, 247, 0.5)":"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",boxShadow:A?"0 4px 16px rgba(162, 89, 247, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:12},children:[C.image&&h.jsx("img",{src:C.image,alt:C.name,style:{width:32,height:32,objectFit:"contain",borderRadius:4,background:"#fff1"}}),h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#e6e0ff"},children:C.name}),h.jsxs("div",{style:{fontSize:"0.75rem",color:"#b39ddb"},children:["Max: ",b(C.maxPrice)]})]})]}),h.jsx("div",{style:{display:"flex",gap:6,justifyContent:"center",flexWrap:"wrap"},children:N.map(J=>{const ee=q===J,G=kr(C,J);return h.jsxs("button",{onClick:()=>x(C.name,J),style:{background:ee?"linear-gradient(135deg, #a259f7, #805ad5)":"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",color:ee?"#fff":"#e6e0ff",border:ee?"2px solid #a259f7":"2px solid rgba(255, 255, 255, 0.15)",borderRadius:6,padding:"8px 12px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"80px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"2px",boxShadow:ee?"0 4px 16px rgba(162, 89, 247, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseOver:ne=>{ee||(ne.currentTarget.style.background="linear-gradient(135deg, rgba(162, 89, 247, 0.15), rgba(128, 90, 213, 0.1))",ne.currentTarget.style.borderColor="rgba(162, 89, 247, 0.4)",ne.currentTarget.style.transform="translateY(-1px)",ne.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.2)")},onMouseOut:ne=>{ee||(ne.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",ne.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",ne.currentTarget.style.transform="translateY(0)",ne.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)")},children:[h.jsx("div",{style:{fontSize:"0.85rem",fontWeight:700},children:J}),h.jsx("div",{style:{fontSize:"0.7rem",opacity:.9},children:b(G)})]},J)})})]},C.name)})})]}),h.jsxs("div",{style:{marginBottom:20},children:[h.jsx("label",{style:{display:"block",marginBottom:8,color:"#d6b4ff",fontWeight:600,fontSize:"1rem"},children:"Preset Name"}),h.jsx("input",{type:"text",value:i,onChange:C=>c(C.target.value),placeholder:"Enter preset name...",style:{width:"100%",padding:"12px 16px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",border:"2px solid rgba(162, 89, 247, 0.3)",borderRadius:8,color:"#e6e0ff",fontSize:"1rem",outline:"none",transition:"all 0.25s ease",boxSizing:"border-box"},onFocus:C=>{C.currentTarget.style.borderColor="#a259f7",C.currentTarget.style.boxShadow="0 0 0 3px rgba(162, 89, 247, 0.15), 0 0 20px rgba(162, 89, 247, 0.1)"},onBlur:C=>{C.currentTarget.style.borderColor="rgba(162, 89, 247, 0.3)",C.currentTarget.style.boxShadow="none"}})]}),u&&h.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",borderRadius:6,padding:"8px 12px",marginBottom:16,textAlign:"center"},children:u}),h.jsxs("button",{onClick:S,style:{width:"100%",background:"linear-gradient(135deg, #a259f7, #805ad5)",color:"#fff",border:"none",borderRadius:10,padding:"14px 20px",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 16px rgba(162, 89, 247, 0.3)"},onMouseOver:C=>{C.currentTarget.style.background="linear-gradient(135deg, #b470ff, #9f7aea)",C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 6px 20px rgba(162, 89, 247, 0.4)"},onMouseOut:C=>{C.currentTarget.style.background="linear-gradient(135deg, #a259f7, #805ad5)",C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.3)"},children:[h.jsx("svg",{width:"20",height:"20",style:{marginRight:8,verticalAlign:"middle"},viewBox:"0 0 24 24",fill:"none",children:h.jsx("path",{d:"M12 4v16m8-8H4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})}),"Create Preset"]})]}),h.jsxs("div",{children:[h.jsxs("h3",{style:{color:"#d6b4ff",marginBottom:20,fontSize:"1.3rem",fontWeight:700,textAlign:"center"},children:["Saved Presets (",s.length,")"]}),s.length===0?h.jsx("div",{style:{textAlign:"center",color:"#9d8bbc",fontSize:"1rem",padding:"40px 20px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:12,border:"1px solid rgba(255, 255, 255, 0.1)"},children:"No presets saved yet. Create your first preset above!"}):h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:s.map(C=>h.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(162, 89, 247, 0.1), rgba(128, 90, 213, 0.05))",borderRadius:12,padding:"18px",border:"1px solid rgba(162, 89, 247, 0.2)",transition:"all 0.2s ease",boxShadow:"0 4px 16px rgba(162, 89, 247, 0.1)"},onMouseOver:A=>{A.currentTarget.style.background="linear-gradient(135deg, rgba(162, 89, 247, 0.15), rgba(128, 90, 213, 0.08))",A.currentTarget.style.borderColor="rgba(162, 89, 247, 0.3)",A.currentTarget.style.transform="translateY(-1px)",A.currentTarget.style.boxShadow="0 6px 20px rgba(162, 89, 247, 0.15)"},onMouseOut:A=>{A.currentTarget.style.background="linear-gradient(135deg, rgba(162, 89, 247, 0.1), rgba(128, 90, 213, 0.05))",A.currentTarget.style.borderColor="rgba(162, 89, 247, 0.2)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.1)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[h.jsx("h4",{style:{margin:0,color:"#e6e0ff",fontSize:"1.2rem",fontWeight:700},children:C.name}),h.jsx("button",{onClick:()=>R(C.id),style:{background:"linear-gradient(135deg, #ff6b6b, #ff5252)",color:"#fff",border:"none",borderRadius:6,width:32,height:32,cursor:"pointer",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(255, 107, 107, 0.3)"},title:"Delete preset",onMouseOver:A=>{A.currentTarget.style.background="linear-gradient(135deg, #ff8a80, #ff6b6b)",A.currentTarget.style.transform="scale(1.1)",A.currentTarget.style.boxShadow="0 4px 12px rgba(255, 107, 107, 0.4)"},onMouseOut:A=>{A.currentTarget.style.background="linear-gradient(135deg, #ff6b6b, #ff5252)",A.currentTarget.style.transform="scale(1)",A.currentTarget.style.boxShadow="0 2px 8px rgba(255, 107, 107, 0.3)"},children:"×"})]}),h.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:h.jsxs("div",{style:{color:"#b39ddb",fontSize:"0.9rem"},children:[C.bosses.length," bosses • Created ",new Date(C.createdAt).toLocaleDateString()]})}),h.jsxs("button",{onClick:()=>_(C),disabled:j===null,style:{width:"100%",background:j===null?"linear-gradient(135deg, #555, #444)":"linear-gradient(135deg, #805ad5, #6b46c1)",color:"#fff",border:"none",borderRadius:8,padding:"12px 16px",fontWeight:600,fontSize:"1rem",cursor:j===null?"not-allowed":"pointer",opacity:j===null?.5:1,transition:"all 0.2s ease",boxShadow:j!==null?"0 4px 16px rgba(128, 90, 213, 0.3)":"none"},onMouseOver:A=>{j!==null&&(A.currentTarget.style.background="linear-gradient(135deg, #9f7aea, #805ad5)",A.currentTarget.style.transform="translateY(-1px)",A.currentTarget.style.boxShadow="0 6px 20px rgba(128, 90, 213, 0.4)")},onMouseOut:A=>{j!==null&&(A.currentTarget.style.background="linear-gradient(135deg, #805ad5, #6b46c1)",A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 4px 16px rgba(128, 90, 213, 0.3)")},children:["Apply to ",j!==null&&D[j]?D[j].name:"Character"]})]},C.id))})]})]})}):null}function vx({show:l,onClose:r,quickSelectBosses:s,quickSelectError:i,getSortedBossesByPrice:c,getBossDifficulties:u,formatPrice:f,handleQuickSelectBoss:m,applyQuickSelection:g,resetQuickSelection:p,selectedCharIdx:y,characters:b}){return l?h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.95)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},onClick:r,children:h.jsxs("div",{className:"modal-fade",style:{background:"linear-gradient(145deg, #1a1730, #2d2540)",borderRadius:16,padding:"2rem",maxWidth:600,width:"90%",maxHeight:"90vh",overflowY:"auto",color:"#e6e0ff",boxShadow:"0 20px 60px rgba(0,0,0,0.4), 0 8px 32px rgba(162, 89, 247, 0.15)",position:"relative",border:"1px solid rgba(162, 89, 247, 0.2)"},onClick:x=>x.stopPropagation(),children:[h.jsx("button",{onClick:r,style:{position:"absolute",top:16,right:16,background:"transparent",color:"#fff",border:"none",fontSize:"1.5rem",cursor:"pointer",outline:"none",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",borderRadius:8},title:"Close",onMouseOver:x=>{x.currentTarget.style.background="rgba(255, 255, 255, 0.1)",x.currentTarget.style.color="#ff6b6b"},onMouseOut:x=>{x.currentTarget.style.background="transparent",x.currentTarget.style.color="#fff"},children:"×"}),h.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #00d4aa, #01b4cc)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 8px 32px rgba(0, 212, 170, 0.3)"},children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M9 12l2 2 4-4M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{style:{color:"#00d4aa",fontWeight:700,marginBottom:8,fontSize:"1.8rem",textAlign:"center"},children:"Quick Boss Selection"}),h.jsx("p",{style:{textAlign:"center",marginBottom:24,color:"#b39ddb",fontSize:"1rem"},children:"Select up to 14 bosses sorted by highest price"}),h.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(1, 180, 204, 0.1))",border:"2px solid rgba(0, 212, 170, 0.3)",borderRadius:12,padding:"16px",marginBottom:24,textAlign:"center"},children:[h.jsxs("div",{style:{fontSize:"2rem",fontWeight:700,color:"#00d4aa",marginBottom:4},children:[Object.keys(s).length," / 14"]}),h.jsx("div",{style:{fontSize:"0.9rem",color:"#c4b5d4"},children:"Bosses Selected"})]}),i&&h.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",borderRadius:6,padding:"8px 12px",marginBottom:16,textAlign:"center"},children:i}),h.jsx("div",{style:{marginBottom:24},children:h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16,maxHeight:"400px",overflowY:"auto",padding:"8px"},children:c().map((x,S)=>{const _=!!s[x.name],R=s[x.name],j=u(x);return h.jsxs("div",{style:{background:_?"linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(1, 180, 204, 0.1))":"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:12,padding:"16px",border:_?"2px solid rgba(0, 212, 170, 0.4)":"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",boxShadow:_?"0 4px 16px rgba(0, 212, 170, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,marginBottom:16},children:[h.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:700,color:"#00d4aa",minWidth:"28px",textAlign:"center"},children:["#",S+1]}),x.image&&h.jsx("img",{src:x.image,alt:x.name,style:{width:40,height:40,objectFit:"contain",borderRadius:6,background:"#fff1"}}),h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("div",{style:{fontWeight:600,fontSize:"1.1rem",color:"#e6e0ff"},children:x.name}),h.jsxs("div",{style:{fontSize:"0.85rem",color:"#b39ddb"},children:["Max: ",f(x.maxPrice)]})]})]}),h.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",flexWrap:"wrap"},children:j.map(D=>{const C=R===D,A=kr(x,D);return h.jsxs("button",{onClick:()=>m(x.name,D),style:{background:C?"linear-gradient(135deg, #00d4aa, #01b4cc)":"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",color:C?"#fff":"#e6e0ff",border:C?"2px solid #00d4aa":"2px solid rgba(255, 255, 255, 0.15)",borderRadius:8,padding:"12px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"120px",minHeight:"50px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",boxShadow:C?"0 4px 16px rgba(0, 212, 170, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseOver:q=>{C||(q.currentTarget.style.background="linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(1, 180, 204, 0.1))",q.currentTarget.style.borderColor="rgba(0, 212, 170, 0.4)",q.currentTarget.style.transform="translateY(-1px)",q.currentTarget.style.boxShadow="0 4px 16px rgba(0, 212, 170, 0.2)")},onMouseOut:q=>{C||(q.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",q.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",q.currentTarget.style.transform="translateY(0)",q.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)")},children:[h.jsx("div",{style:{fontSize:"1rem",fontWeight:700},children:D}),h.jsx("div",{style:{fontSize:"0.8rem",opacity:.9},children:f(A)})]},D)})})]},x.name)})})}),h.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"center"},children:[h.jsx("button",{onClick:p,style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))",color:"#e6e0ff",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:140},onMouseOver:x=>{x.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.08))",x.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)",x.currentTarget.style.transform="translateY(-1px)"},onMouseOut:x=>{x.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))",x.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",x.currentTarget.style.transform="translateY(0)"},children:"Clear All"}),h.jsxs("button",{onClick:g,disabled:Object.keys(s).length===0||y===null,style:{background:Object.keys(s).length===0||y===null?"linear-gradient(135deg, #555, #444)":"linear-gradient(135deg, #00d4aa, #01b4cc)",color:"#fff",border:"none",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:Object.keys(s).length===0||y===null?"not-allowed":"pointer",opacity:Object.keys(s).length===0||y===null?.5:1,minWidth:140,transition:"all 0.2s ease",boxShadow:Object.keys(s).length>0&&y!==null?"0 4px 16px rgba(0, 212, 170, 0.3)":"none"},onMouseOver:x=>{Object.keys(s).length>0&&y!==null&&(x.currentTarget.style.background="linear-gradient(135deg, #00e6c0, #01c8de)",x.currentTarget.style.transform="translateY(-1px)",x.currentTarget.style.boxShadow="0 6px 20px rgba(0, 212, 170, 0.4)")},onMouseOut:x=>{Object.keys(s).length>0&&y!==null&&(x.currentTarget.style.background="linear-gradient(135deg, #00d4aa, #01b4cc)",x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 4px 16px rgba(0, 212, 170, 0.3)")},children:["Apply to ",y!==null&&b[y]?b[y].name:"Character"]})]}),y===null&&h.jsx("div",{style:{textAlign:"center",marginTop:12,fontSize:"0.85rem",color:"#9d8bbc"},children:"Please select a character first to apply the boss selection"})]})}):null}E.lazy(()=>dt(()=>import("./DataBackup-BA3qoN76.js"),[]));function bx(){const{navigate:l}=Tl(),{userCode:r,isLoggedIn:s,handleDeleteAccount:i}=Fa(),{characters:c,setCharacters:u,newCharName:f,setNewCharName:m,selectedCharIdx:g,error:p,cloneError:y,setCloneError:b,showUndo:x,undoData:S,fileInputRef:_,importError:R,setImportError:j,importSuccess:D,setImportSuccess:C,sortedBossData:A,getAvailablePartySizes:q,getBossDifficulties:N,handleCharacterChange:J,addCharacter:ee,removeCharacter:G,handleUndo:ne,toggleBoss:P,updateCharacterName:me,updatePartySize:ue,batchSetBosses:oe}=Gm(),[xe,ae]=E.useState(!1),[M,Y]=E.useState(!1),[F,K]=E.useState(""),[T,H]=E.useState(!1),[I,X]=E.useState(!1),[re,ie]=E.useState(!1),te=dx(),_e=fx();if(!s)return l("/login",{replace:!0}),null;const he=async()=>{try{const{exportUserData:le}=await dt(async()=>{const{exportUserData:Se}=await Promise.resolve().then(()=>bl);return{exportUserData:Se}},void 0),Z=await le(r);if(Z.success){const Se=JSON.stringify(Z.data,null,2),ve=new Blob([Se],{type:"application/json"}),De=URL.createObjectURL(ve),Xe=document.createElement("a");Xe.href=De,Xe.download=`maplestory-boss-calc-backup-${new Date().toISOString().split("T")[0]}.json`,Xe.click(),URL.revokeObjectURL(De),C(!0),setTimeout(()=>C(!1),3e3)}else throw new Error(Z.error)}catch(le){console.error("Export error:",le),j("Failed to export data. Please try again."),setTimeout(()=>j(""),5e3)}},Ue=async le=>{const Z=le.target.files[0];if(!Z)return;const Se=new FileReader;Se.onload=async ve=>{try{const De=JSON.parse(ve.target.result),{importUserData:Xe}=await dt(async()=>{const{importUserData:Ks}=await Promise.resolve().then(()=>bl);return{importUserData:Ks}},void 0),tn=await Xe(r,De);if(!tn.success)throw new Error(tn.error);C(!0),setTimeout(()=>{C(!1),window.location.reload()},2e3)}catch(De){console.error("Import error:",De),j(De.message||"Invalid data file. Please check the format and try again."),setTimeout(()=>j(""),5e3)}},Se.readAsText(Z)},Me=le=>{if(c.length>=Tn.CHARACTER_CAP){b("Cannot clone: Maximum character limit reached"),setTimeout(()=>b(""),3e3);return}const Z=c[le];if(!Z)return;const Se=c.reduce((Xe,tn)=>Xe+(tn.bosses?tn.bosses.length:0),0),ve=Z.bosses?Z.bosses.length:0;if(Se+ve>180){b("Cannot clone: Would exceed 180 crystal limit"),setTimeout(()=>b(""),3e3);return}const De={...Z,name:`${Z.name} (Copy)`,bosses:[...Z.bosses||[]]};u([...c,De])},Ke=async()=>{H(!0),K("");try{const le=await i();le.success?(Y(!1),l("/login",{replace:!0})):K(le.error)}catch(le){K("Failed to delete account. Try again."),console.error("Delete error:",le)}finally{H(!1)}},se=()=>En.map(Z=>{const Se=Math.max(...Z.difficulties.map(ve=>ve.price));return{...Z,maxPrice:Se}}).sort((Z,Se)=>Se.maxPrice-Z.maxPrice),ce=le=>{if(le>=1e9){const Z=le/1e9;return Z>=10?`${Math.round(Z)}B`:`${Z.toFixed(1)}B`}else if(le>=1e6){const Z=le/1e6;return Z>=10?`${Math.round(Z)}M`:`${Z.toFixed(1)}M`}else if(le>=1e3){const Z=le/1e3;return Z>=10?`${Math.round(Z)}K`:`${Z.toFixed(1)}K`}else return le.toString()},de=()=>{X(!1),te.setNewPresetName(""),te.setPresetError(""),te.setPresetCreationMode(!1),te.setPresetBosses({})},pe=()=>{ie(!1),_e.setQuickSelectBosses({}),_e.setQuickSelectError("")};return h.jsxs("div",{className:"page-container",children:[h.jsx(Cu,{currentPage:"calculator",onShowHelp:()=>ae(!0),onShowDeleteConfirm:()=>Y(!0)}),h.jsxs("div",{className:"page-header-container fade-in",children:[h.jsxs("div",{className:"crystal-images-container",children:[h.jsx("img",{src:"/bosses/crystal.png",alt:"Crystal"}),h.jsx("img",{src:"/bosses/bluecrystal.png",alt:"Blue Crystal"}),h.jsx("img",{src:"/bosses/yellowcrystal.png",alt:"Yellow Crystal"})]}),h.jsx("h1",{className:"page-title-main",children:"Character & Boss Configuration"}),h.jsx("p",{className:"page-description",children:"Create characters, configure boss difficulties and party sizes for your weekly runs!"}),h.jsx(hx,{onExport:he,onImport:Ue,onShowPresets:()=>X(!0),onShowQuickSelect:()=>ie(!0),fileInputRef:_})]}),R&&h.jsx("div",{className:"error-message-container",children:R}),D&&h.jsx("div",{className:"success-message-container",children:"Data backup operation successful!"}),h.jsx(_l,{children:h.jsxs("div",{className:"table-container premium-content-container input-page-container fade-in",children:[p&&h.jsx("div",{className:"character-error-message",children:p}),h.jsx(mx,{characters:c,newCharName:f,setNewCharName:m,selectedCharIdx:g,cloneError:y,onCharacterChange:J,onAddCharacter:ee,onUpdateCharacterName:me,onCloneCharacter:Me,onRemoveCharacter:G}),c.length===0?h.jsxs("div",{className:"empty-state-message",children:[h.jsx("span",{role:"img","aria-label":"sparkles",children:"✨"})," Welcome! Add your first character to get started."]}):h.jsx(px,{selectedCharIdx:g,characters:c,sortedBossData:A,getBossDifficulties:N,getAvailablePartySizes:q,onToggleBoss:P,onUpdatePartySize:ue})]})}),x&&S&&h.jsxs("div",{className:"undo-snackbar",children:["Character deleted.",h.jsx("button",{onClick:ne,className:"undo-btn",children:"Undo"})]}),xe&&h.jsx("div",{className:"modal-backdrop",onClick:()=>ae(!1),children:h.jsxs("div",{className:"modal-fade modal-content",onClick:le=>le.stopPropagation(),children:[h.jsx("button",{onClick:()=>ae(!1),className:"modal-close-btn",title:"Close",children:"×"}),h.jsx("h2",{className:"modal-title",children:"Help & FAQ"}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Getting Started"}),h.jsx("p",{children:"1. Create an account or log in with your existing code"}),h.jsx("p",{children:"2. Add characters using the input field at the top"}),h.jsx("p",{children:"3. Select a character and choose their bosses"}),h.jsx("p",{children:"4. Adjust party sizes for each boss as needed"})]}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Weekly Tracker"}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Progress bar:"})," Shows current mesos earned vs. maximum possible mesos"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Hide completed:"})," Toggle to hide characters with all bosses cleared"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Character summary:"})," Shows each character's completion status"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Tick All button:"})," Quickly mark all bosses as completed for a character"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Reset timer:"})," Shows time until the weekly reset (Thursday 00:00 UTC)"]})]}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Export / Import"}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Export:"})," Creates a JSON file with all your character data and presets"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Import:"})," Loads character data and presets from a previously exported file"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Backup regularly:"})," Export your data periodically as a backup"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Transfer between devices:"})," Export from one device and import on another"]})]}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Other Features"}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Cloud saving:"})," Data is automatically saved to the cloud with your account"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Page memory:"})," The app remembers which page you were on last"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Character editing:"})," Click the pencil icon to edit a character's name"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Cloning:"})," Create an exact copy of a character with the Clone button"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Party size:"})," Adjust the party size for each boss to calculate split mesos"]})]}),h.jsxs("div",{className:"modal-section-content",children:[h.jsx("h3",{className:"modal-section-title",children:"Quick Tips"}),h.jsx("p",{children:"• Hover over buttons and elements for helpful tooltips"}),h.jsx("p",{children:"• Click on a boss row to toggle selection (not just the checkbox)"}),h.jsx("p",{children:"• Use the Price Table to see all boss values sorted by price"}),h.jsx("p",{children:"• Save your account code somewhere safe - you'll need it to log in!"}),h.jsx("p",{children:"• Weekly reset happens every Thursday at 00:00 UTC"})]})]})}),M&&h.jsx("div",{className:"modal-backdrop modal-backdrop-critical",onClick:()=>Y(!1),children:h.jsxs("div",{className:"modal-fade modal-content-critical",onClick:le=>le.stopPropagation(),children:[h.jsx("div",{className:"critical-modal-icon",children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{className:"critical-modal-title",children:"Delete Account"}),h.jsx("div",{className:"critical-modal-warning",children:h.jsxs("p",{children:[h.jsx("strong",{children:"This will permanently delete your account and all associated data."}),h.jsx("br",{}),"This action cannot be undone."]})}),h.jsxs("div",{className:"modal-button-container",children:[h.jsx("button",{onClick:()=>Y(!1),disabled:T,className:"modal-btn-cancel",children:"Cancel"}),h.jsxs("button",{onClick:Ke,disabled:T,className:"modal-btn-critical",children:[T&&h.jsx("div",{className:"loading-spinner"}),T?"Deleting...":"Delete Forever"]})]}),F&&h.jsx("div",{className:"modal-error-message",children:F})]})}),h.jsx(yx,{show:I,onClose:de,presets:te.presets,newPresetName:te.newPresetName,setNewPresetName:te.setNewPresetName,presetError:te.presetError,presetCreationMode:te.presetCreationMode,setPresetCreationMode:te.setPresetCreationMode,presetBosses:te.presetBosses,getSortedBossesByPrice:se,getBossDifficulties:N,formatPrice:ce,handlePresetBossSelect:te.handlePresetBossSelect,createPreset:()=>te.createPreset(g,c,oe),applyPreset:le=>{te.applyPreset(le,g,c,oe),X(!1)},deletePreset:te.deletePreset,selectedCharIdx:g,characters:c}),h.jsx(vx,{show:re,onClose:pe,quickSelectBosses:_e.quickSelectBosses,quickSelectError:_e.quickSelectError,getSortedBossesByPrice:se,getBossDifficulties:N,formatPrice:ce,handleQuickSelectBoss:_e.handleQuickSelectBoss,applyQuickSelection:()=>{_e.applyQuickSelection(g,c,oe),ie(!1)},resetQuickSelection:_e.resetQuickSelection,selectedCharIdx:g,characters:c}),h.jsx("style",{jsx:!0,children:`
        @keyframes modalFadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: scale(0.8) translateY(20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }
      `})]})}function xx(){const{navigate:l}=Tl(),{isLoggedIn:r,handleDeleteAccount:s}=Fa(),[i,c]=E.useState(!1),[u,f]=E.useState(!1),[m,g]=E.useState(""),[p,y]=E.useState(!1);if(!r)return l("/login",{replace:!0}),null;const b=async()=>{y(!0),g("");try{const x=await s();x.success?(f(!1),l("/login",{replace:!0})):g(x.error)}catch(x){g("Failed to delete account. Try again."),console.error("Delete error:",x)}finally{y(!1)}};return h.jsxs("div",{className:"page-container",children:[h.jsx(Cu,{currentPage:"bosstable",onShowHelp:()=>c(!0),onShowDeleteConfirm:()=>f(!0)}),h.jsx(_l,{children:h.jsxs("div",{className:"premium-content-container fade-in",children:[h.jsx("h2",{className:"page-title-secondary",children:"Boss Crystal Price Table"}),h.jsx("div",{className:"table-scroll",children:h.jsxs("table",{className:"boss-price-table",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"boss-table-header",children:[h.jsx("th",{className:"boss-table-header-cell",children:"Boss"}),h.jsx("th",{className:"boss-table-header-cell-difficulty",children:"Difficulty"}),h.jsx("th",{className:"boss-table-header-cell-price",children:"Mesos"})]})}),h.jsx("tbody",{children:(()=>{const x=En.flatMap(S=>S.difficulties.map(_=>({boss:S,difficulty:_.difficulty,price:_.price})));return x.sort((S,_)=>_.price-S.price),x.map((S,_)=>h.jsxs("tr",{className:_%2===0?"boss-table-row-even":"boss-table-row-odd",children:[h.jsxs("td",{className:"boss-name-cell",children:[S.boss.image&&h.jsx("img",{src:S.boss.image,alt:S.boss.name,className:"boss-table-image"}),h.jsx("span",{className:"boss-name-text",children:S.boss.name})]}),h.jsx("td",{className:"boss-difficulty-cell",children:h.jsx("span",{className:"boss-difficulty-text",children:S.difficulty})}),h.jsx("td",{className:"boss-price-cell",children:h.jsx("span",{className:"boss-price-text",children:S.price.toLocaleString()})})]},S.boss.name+"-"+S.difficulty))})()})]})})]})}),i&&h.jsx("div",{className:"modal-backdrop",onClick:()=>c(!1),children:h.jsxs("div",{className:"modal-fade modal-content",onClick:x=>x.stopPropagation(),children:[h.jsx("button",{onClick:()=>c(!1),className:"modal-close-btn",title:"Close",children:"×"}),h.jsx("h2",{className:"modal-title",children:"Help & FAQ"}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Boss Price Table"}),h.jsx("p",{children:"This table shows all bosses sorted by crystal value (highest to lowest)"}),h.jsx("p",{children:"Use this to plan which bosses give the most mesos for your time"}),h.jsx("p",{children:"Crystal prices are based on current market rates"})]}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Navigation"}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Calculator:"})," Main page for character and boss management"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Weekly Tracker:"})," Track your weekly boss completion progress"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Boss Table:"})," This page - reference for all boss crystal values"]})]}),h.jsxs("div",{className:"modal-section-content",children:[h.jsx("h3",{className:"modal-section-title",children:"Quick Tips"}),h.jsx("p",{children:"• Higher difficulty bosses generally give more mesos"}),h.jsx("p",{children:"• Party size affects mesos earned (displayed values are for solo)"}),h.jsx("p",{children:"• Use this table when deciding which bosses to prioritize"})]})]})}),u&&h.jsx("div",{className:"modal-backdrop modal-backdrop-critical",onClick:()=>f(!1),children:h.jsxs("div",{className:"modal-fade modal-content-critical",onClick:x=>x.stopPropagation(),children:[h.jsx("div",{className:"critical-modal-icon",children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{className:"critical-modal-title",children:"Delete Account"}),h.jsx("div",{className:"critical-modal-warning",children:h.jsxs("p",{children:[h.jsx("strong",{children:"This will permanently delete your account and all associated data."}),h.jsx("br",{}),"This action cannot be undone."]})}),h.jsxs("div",{className:"modal-button-container",children:[h.jsx("button",{onClick:()=>f(!1),disabled:p,className:"modal-btn-cancel",children:"Cancel"}),h.jsxs("button",{onClick:b,disabled:p,className:"modal-btn-critical",children:[p&&h.jsx("div",{className:"loading-spinner"}),p?"Deleting...":"Delete Forever"]})]}),m&&h.jsx("div",{className:"modal-error-message",children:m})]})})]})}function na(){return en()}function wx(l){if(!l)return null;try{const r=new Date(l),s=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i=new Date(s.getUTCFullYear(),0,1),c=Math.ceil(((s-i)/864e5+i.getUTCDay()+1)/7);return`${s.getUTCFullYear()}-${c}`}catch(r){return console.error("Error getting week key from date:",r),null}}async function Sx(l,r){var s,i;try{console.log("saveBossRun called with:",{userCode:l,data:r});const{character:c,characterIdx:u,bossName:f,bossDifficulty:m,isCleared:g,date:p}=r;if(!l||!c||!f||!m||g===void 0)return console.error("Missing required fields:",{userCode:l,character:c,bossName:f,bossDifficulty:m,isCleared:g}),{success:!1,error:"Missing required fields"};const{data:y,error:b}=await He.from("user_data").select("*").eq("id",l).single();if(b)throw console.error("Error fetching user data:",b),b;if(!y)throw console.error("No user data found"),new Error("No user data found");const x=y.data?JSON.parse(JSON.stringify(y.data)):{};x.boss_runs?Array.isArray(x.boss_runs)||(console.log("boss_runs exists but is not an array, fixing this issue"),x.boss_runs=[]):(x.boss_runs=[],console.log("Initializing missing boss_runs array in data object"));const S=x.boss_runs,_=na();console.log(`Current boss runs count: ${S.length}`),console.log("Current data structure:",JSON.stringify(x,null,2));const R=S.findIndex(ee=>ee.character===c&&ee.boss===f&&ee.difficulty===m&&ee.weekKey===_);let j;if(g){const ee={id:`${c}-${f}-${m}-${_}-${Date.now()}`,character:c,characterIdx:u||0,boss:f,difficulty:m,cleared:!0,date:p||new Date().toISOString(),weekKey:_};R!==-1?(j=[...S],j[R]={...j[R],cleared:!0,date:p||new Date().toISOString(),lastUpdated:new Date().toISOString()},console.log(`Updating existing boss run at index ${R}`)):(j=[...S,ee],console.log(`Adding new boss run, total count will be ${j.length}`))}else R!==-1?(j=S.filter((ee,G)=>G!==R),console.log(`Removing boss run at index ${R}, total count will be ${j.length}`)):(j=[...S],console.log("No existing boss run found to remove"));const D={...x,boss_runs:j,lastUpdated:new Date().toISOString()};console.log("About to save this data structure:",JSON.stringify({...D,boss_runs_count:j.length},null,2).substring(0,200)+"...");const C={...x,boss_runs:j,lastUpdated:new Date().toISOString()};console.log("SIMPLIFIED DATA STRUCTURE:",JSON.stringify(C).substring(0,200)+"..."),console.log("🚨 ATTEMPTING DATABASE UPDATE WITH BOSS RUNS ARRAY");const{data:A,error:q}=await He.from("user_data").update({data:C}).eq("id",l).select();if(console.log("UPDATE RESULT:",JSON.stringify(A)),q)throw console.error("Database update error:",q),q;console.log(`Successfully ${g?"saved":"removed"} boss run for ${c} - ${f} ${m}. Cleared: ${g}`),console.log("🔍 VERIFYING DATABASE STATE WITH SEPARATE FETCH");const{data:N,error:J}=await He.from("user_data").select("*").eq("id",l).single();if(J)console.error("Verification fetch error:",J);else if(console.log("DATABASE ACTUAL STATE:",JSON.stringify(N).substring(0,200)+"..."),(s=N==null?void 0:N.data)!=null&&s.boss_runs)console.log(`✅ VERIFICATION SUCCESS: Database has ${N.data.boss_runs.length} boss runs`);else{console.log("❌ VERIFICATION FAILED: No boss_runs array found in database"),console.log("⚠️ Attempting UPSERT as a fallback...");const ee={id:l,data:{...N.data,boss_runs:j,lastUpdated:new Date().toISOString()}},{error:G}=await He.from("user_data").upsert(ee);if(G)console.error("Upsert failed:",G);else{console.log("✅ Upsert succeeded, verifying again...");const{data:ne}=await He.from("user_data").select("*").eq("id",l).single();(i=ne==null?void 0:ne.data)!=null&&i.boss_runs?console.log(`✅✅ FINAL VERIFICATION: Database now has ${ne.data.boss_runs.length} boss runs`):console.log("❌❌ FINAL VERIFICATION FAILED: Still no boss_runs array")}}return{success:!0,bossRuns:j,updatedData:D}}catch(c){return console.error("Error saving boss run:",c),{success:!1,error:c}}}async function uu(l,r,s=!1,i=null){try{console.log("savePitchedItem called with:",{userCode:l,data:r,remove:s,weekKey:i});const{character:c,bossName:u,itemName:f,itemImage:m,date:g,characterIdx:p}=r;if(!l||!c||!u||!f||!m)return console.error("Missing required fields:",{userCode:l,character:c,bossName:u,itemName:f,itemImage:m}),{success:!1,error:"Missing required fields"};console.log("Fetching user data for userCode:",l);const{data:y,error:b}=await He.from("user_data").select("pitched_items, data").eq("id",l).single();if(b)throw console.error("Error fetching user data:",b),b;const x=y.pitched_items||[],S=y.data||{},_=S.boss_runs||[],R=i||wx(g)||na(),j=na(),D=R===j;if(s){console.log("Removing pitched item:",{character:c,bossName:u,itemName:f,weekKey:R});const C=x.filter(N=>!(N.character===c&&N.boss===u&&N.item===f&&N.weekKey===R));let A=S;if(D){const N=_.filter(J=>J.character===c&&J.boss===u&&J.weekKey===R&&J.hasPitchedItem===!0?(console.log(`Removing boss run with hasPitchedItem flag: ${J.boss} ${J.difficulty} for ${c}`),!1):!0);A={...S,boss_runs:N,lastUpdated:new Date().toISOString()}}const{error:q}=await He.from("user_data").update({pitched_items:C,...D&&{data:A}}).eq("id",l);if(q)throw q;return console.log(`Successfully removed pitched item for ${c} from ${u}. Remaining items: ${C.length}`),{success:!0}}else{const C={character:c,characterIdx:p||0,boss:u,item:f,image:m,date:g||new Date().toISOString(),weekKey:R};if(x.find(ee=>ee.character===c&&ee.boss===u&&ee.item===f&&ee.weekKey===R))return console.log("Item already exists in database, not adding duplicate"),{success:!0,alreadyExists:!0};const q=[...x,C];let N=S;if(D){let ee=[..._];const G=_.findIndex(ne=>ne.character===c&&ne.boss===u&&ne.weekKey===R);if(G===-1){const ue=im(u).sort((oe,xe)=>{const ae={Extreme:5,Hard:4,Chaos:3,Normal:2,Easy:1},M=oe.split("-")[1],Y=xe.split("-")[1];return(ae[Y]||0)-(ae[M]||0)})[0].split("-")[1];ee.push({character:c,characterIdx:p||0,boss:u,difficulty:ue,cleared:!0,date:g||new Date().toISOString(),weekKey:R,hasPitchedItem:!0})}else ee[G]={...ee[G],hasPitchedItem:!0,date:g||new Date().toISOString()};N={...S,boss_runs:ee,lastUpdated:new Date().toISOString()}}else console.log(`Historical pitched item for week ${R} - not modifying boss_runs`);const{error:J}=await He.from("user_data").update({pitched_items:q,...D&&{data:N}}).eq("id",l);if(J)throw J;if(console.log(`Successfully saved pitched item for ${c} from ${u} (week: ${R})`),D){const G=N.checked||{},ne=`${c}-${p||0}`,P=im(u);let me=!1;if(G[ne]){for(const ue of P)if(G[ne][ue]){me=!0;break}}if(!me&&P.length>0){const oe=P.sort((xe,ae)=>{const M={Extreme:5,Hard:4,Chaos:3,Normal:2,Easy:1},Y=xe.split("-")[1],F=ae.split("-")[1];return(M[F]||0)-(M[Y]||0)})[0];G[ne]||(G[ne]={}),G[ne][oe]=!0}}return{success:!0}}return console.log("Successfully updated pitched_items and synchronized with application data"),{success:!0,data:pitchedItem,updatedWeekKey:R}}catch(c){return console.error("Error saving pitched item:",c),{success:!1,error:c.message||"Unknown error occurred"}}}async function Km(l){var r;try{const{data:s,error:i}=await He.from("user_data").select("data").eq("id",l).single();if(i)throw i;return{success:!0,data:((r=s==null?void 0:s.data)==null?void 0:r.pitchedItems)||[]}}catch(s){return console.error("Error fetching pitched items:",s),{success:!1,error:s,data:[]}}}async function Vm(l){try{const{data:r,error:s}=await He.from("user_data").select("pitched_items").eq("id",l).single();if(s)throw s;return{success:!0,items:(r==null?void 0:r.pitched_items)||[]}}catch(r){return console.error("Error fetching all pitched items:",r),{success:!1,error:r,items:[]}}}async function du(l,r=null){try{const{data:s,error:i}=await He.from("user_data").select("pitched_items").eq("id",l).single();if(i)throw i;const c=s.pitched_items||[],u={};return c.forEach(f=>{const m=new Date(f.date).getFullYear();r&&m!==parseInt(r)||(u[m]||(u[m]={total:0,characters:new Set,items:[]}),u[m].total+=1,u[m].characters.add(f.character),u[m].items.push({character:f.character,boss:f.boss,item:f.item,image:f.image,date:f.date}))}),Object.keys(u).forEach(f=>{u[f].characters=Array.from(u[f].characters)}),{success:!0,data:u}}catch(s){return console.error("Error fetching yearly pitched stats:",s),{success:!1,error:s,data:{}}}}async function vl(l,r){try{const{data:s,error:i}=await He.from("user_data").select("pitched_items, data").eq("id",l).single();if(i)throw i;const c=s.pitched_items||[],u=s.data||{},f=u.boss_runs||[],m=na(),g=c.filter(x=>!r.some(S=>x.character===S.character&&x.boss===S.bossName&&x.item===S.itemName&&x.weekKey===S.weekKey)),p=r.filter(x=>x.weekKey===m);let y=u;if(p.length>0){const x=f.filter(S=>p.some(R=>S.character===R.character&&S.boss===R.bossName&&S.weekKey===R.weekKey&&S.hasPitchedItem===!0)?(console.log(`[Batch Removal] Removing boss run with hasPitchedItem flag: ${S.boss} ${S.difficulty} for ${S.character}`),!1):!0);y={...u,boss_runs:x,lastUpdated:new Date().toISOString()}}const{error:b}=await He.from("user_data").update({pitched_items:g,...p.length>0&&{data:y}}).eq("id",l);if(b)throw b;return console.log(`[Batch Removal] Successfully removed ${r.length} pitched items for user '${l}'. Remaining items: ${g.length}`),console.log("[Batch Removal] Items removed:",r),{success:!0}}catch(s){return console.error("Error removing many pitched items:",s),{success:!1,error:s}}}async function _x(l){var r;try{const{data:s,error:i}=await He.from("user_data").select("data, pitched_items").eq("id",l).single();if(i)throw i;return{success:!0,export:{data:s.data,pitched_items:s.pitched_items,weekKey:((r=s.data)==null?void 0:r.weekKey)||na(),exportDate:new Date().toISOString()}}}catch(s){return console.error("Error exporting user data:",s),{success:!1,error:s}}}function im(l){const r=["Easy","Normal","Hard","Chaos","Extreme"];return({Lotus:["Easy","Normal","Hard","Extreme"],Damien:["Normal","Hard"],Will:["Easy","Normal","Hard"],Lucid:["Easy","Normal","Hard"],"Chosen Seren":["Normal","Hard","Extreme"],"Watcher Kalos":["Easy","Normal","Chaos","Extreme"],Kaling:["Easy","Normal","Hard","Extreme"],Limbo:["Normal","Hard"]}[l]||r).map(c=>`${l}-${c}`)}async function Tx(l,r){var s;try{if(!r||typeof r!="object")throw new Error("Invalid import object");const{data:i,pitched_items:c,weekKey:u}=r,{data:f,error:m}=await He.from("user_data").select("data").eq("id",l).single();if(m&&m.code!=="PGRST116")throw m;const g=na(),p=(s=f==null?void 0:f.data)==null?void 0:s.weekKey;let y={...i};u&&u!==g&&(console.log(`[Import] Week key transition: ${u} -> ${g}`),y.weekKey=g);const{error:b}=await He.from("user_data").update({data:y,pitched_items:c}).eq("id",l);if(b)throw b;return console.log(`[Import] Successfully imported data for user '${l}'.`),{success:!0,data:y}}catch(i){return console.error("Error importing user data:",i),{success:!1,error:i}}}async function Qm(l,r,s=0){try{if(console.log(`🗑️ Starting pitched records purge for character: ${r} (idx: ${s})`),!l||!r)return console.error("Missing required fields:",{userCode:l,characterName:r}),{success:!1,error:"Missing required fields"};const{data:i,error:c}=await He.from("user_data").select("data, pitched_items").eq("id",l).single();if(c)throw console.error("Error fetching user data:",c),c;const u=i.data||{},f=i.pitched_items||[],m=u.boss_runs||[],g=f.filter(_=>{const R=_.character===r&&(_.characterIdx===s||_.characterIndex===s);return R&&console.log(`🗑️ Removing pitched item: ${_.item} from ${_.boss} for ${r}`),!R}),p=m.filter(_=>{const R=_.character===r&&(_.characterIdx===s||_.characterIndex===s),j=_.isPitched===!0||_.hasPitchedItem===!0;return R&&j?(console.log(`🗑️ Removing pitched boss run: ${_.boss} ${_.difficulty} for ${r}`),!1):!0}),y=new Date().toISOString(),b={timestamp:y,action:"purge_pitched_records",character:r,characterIdx:s,itemsRemoved:f.length-g.length,bossRunsRemoved:m.length-p.length,userAgent:typeof navigator<"u"?navigator.userAgent:"Server"},x={...u,boss_runs:p,lastUpdated:y,pitched_reset_history:[...u.pitched_reset_history||[],b].slice(-50)},{error:S}=await He.from("user_data").update({pitched_items:g,data:x}).eq("id",l);if(S)throw console.error("Database update error:",S),S;return console.log(`✅ Pitched records purged successfully for ${r}`),console.log(`📊 Removed ${b.itemsRemoved} pitched items and ${b.bossRunsRemoved} boss runs`),console.log(`📊 Preserved ${p.length} non-pitched boss runs`),{success:!0,audit:b,itemsRemoved:b.itemsRemoved,bossRunsRemoved:b.bossRunsRemoved,bossRunsPreserved:p.length}}catch(i){return console.error("Error purging pitched records:",i),{success:!1,error:i.message||"Unknown error occurred"}}}async function Im(l){var r;try{if(!l)return{success:!1,error:"User code is required"};const{data:s,error:i}=await He.from("user_data").select("data").eq("id",l).single();if(i)throw console.error("Error fetching audit history:",i),i;const u=(((r=s.data)==null?void 0:r.pitched_reset_history)||[]).sort((f,m)=>new Date(m.timestamp)-new Date(f.timestamp));return{success:!0,history:u,totalResets:u.length}}catch(s){return console.error("Error getting pitched reset audit history:",s),{success:!1,error:s.message||"Unknown error occurred"}}}function Xm(l,r,s,i){const c={...l};return Object.keys(c).forEach(u=>{u.startsWith(`${r}-${s}__`)&&u.endsWith(`__${i}`)&&(console.log(`🗑️ Clearing UI checkmark: ${u}`),delete c[u])}),c}async function Jm(l){try{if(!l)return console.log("No user code provided for getAvailableWeeks"),{success:!1,error:"No user code provided"};const{data:r,error:s}=await He.from("user_data").select("data, pitched_items").eq("id",l).single();if(s)return console.error("Error fetching user data for available weeks:",s),{success:!1,error:s.message};const i=new Set,c=na();i.add(c),r.pitched_items&&Array.isArray(r.pitched_items)&&r.pitched_items.forEach(f=>{f.weekKey&&i.add(f.weekKey)}),r.data&&r.data.boss_runs&&Array.isArray(r.data.boss_runs)&&r.data.boss_runs.forEach(f=>{f.weekKey&&i.add(f.weekKey)}),r.data&&r.data.weekKey&&i.add(r.data.weekKey);const u=Array.from(i).sort((f,m)=>{const[g,p]=f.split("-").map(Number),[y,b]=m.split("-").map(Number);return g!==y?g-y:p-b});return console.log(`Found ${u.length} weeks with data:`,u),{success:!0,weeks:u,currentWeek:c,oldestWeek:u.length>0?u[0]:c,newestWeek:u.length>0?u[u.length-1]:c}}catch(r){return console.error("Error in getAvailableWeeks:",r),{success:!1,error:r.message}}}async function Zm(l){try{if(console.log(`🗑️ Starting complete stats reset for user: ${l}`),!l)return console.error("Missing required field: userCode"),{success:!1,error:"Missing required field: userCode"};const{data:r,error:s}=await He.from("user_data").select("data, pitched_items").eq("id",l).single();if(s)throw console.error("Error fetching user data:",s),s;const i=r.data||{},c=r.pitched_items||[],u=i.boss_runs||[],f=new Date().toISOString(),m={timestamp:f,action:"complete_stats_reset",itemsRemoved:c.length,bossRunsRemoved:u.length,userAgent:typeof navigator<"u"?navigator.userAgent:"Server"},g={...i,boss_runs:[],lastUpdated:f,pitched_reset_history:[...i.pitched_reset_history||[],m].slice(-50)},{error:p}=await He.from("user_data").update({pitched_items:[],data:g}).eq("id",l);if(p)throw console.error("Database update error:",p),p;return console.log(`✅ Complete stats reset successful for user ${l}`),console.log(`📊 Removed ${m.itemsRemoved} pitched items and ${m.bossRunsRemoved} boss runs`),{success:!0,audit:m,itemsRemoved:m.itemsRemoved,bossRunsRemoved:m.bossRunsRemoved}}catch(r){return console.error("Error in complete stats reset:",r),{success:!1,error:r.message||"Unknown error occurred"}}}async function Ex(l,r){try{if(console.log("saveBatchBossRuns called with:",{userCode:l,count:r.length}),!l||!Array.isArray(r)||r.length===0)return console.error("Invalid parameters for batch boss runs"),{success:!1,error:"Invalid parameters"};for(const b of r){const{character:x,characterIdx:S,bossName:_,bossDifficulty:R,isCleared:j,date:D}=b;if(!x||!_||!R||j===void 0)return console.error("Missing required fields in batch entry:",b),{success:!1,error:"Missing required fields in batch entry"}}const{data:s,error:i}=await He.from("user_data").select("*").eq("id",l).single();if(i)throw console.error("Error fetching user data for batch update:",i),i;if(!s)throw console.error("No user data found for batch update"),new Error("No user data found");const c=s.data?JSON.parse(JSON.stringify(s.data)):{};(!c.boss_runs||!Array.isArray(c.boss_runs))&&(c.boss_runs=[],console.log("Initializing boss_runs array for batch update"));const u=[...c.boss_runs],f=na();console.log(`Starting batch update with ${u.length} existing boss runs`);let m=[...u];for(const b of r){const{character:x,characterIdx:S,bossName:_,bossDifficulty:R,isCleared:j,date:D}=b,C=m.findIndex(A=>A.character===x&&A.boss===_&&A.difficulty===R&&A.weekKey===f);if(j){const A={id:`${x}-${_}-${R}-${f}-${Date.now()}`,character:x,characterIdx:S||0,boss:_,difficulty:R,cleared:!0,date:D||new Date().toISOString(),weekKey:f};C!==-1?(m[C]={...m[C],cleared:!0,date:D||new Date().toISOString(),lastUpdated:new Date().toISOString()},console.log(`Batch: Updating existing boss run for ${_} ${R}`)):(m.push(A),console.log(`Batch: Adding new boss run for ${_} ${R}`))}else C!==-1&&(m=m.filter((A,q)=>q!==C),console.log(`Batch: Removing boss run for ${_} ${R}`))}const g={...c,boss_runs:m,lastUpdated:new Date().toISOString()};console.log(`Batch update: ${u.length} → ${m.length} boss runs`);const{data:p,error:y}=await He.from("user_data").update({data:g}).eq("id",l).select();if(y)throw console.error("Batch database update error:",y),y;return console.log(`✅ Batch boss runs update successful: ${r.length} operations completed`),{success:!0,updatedCount:r.length,totalBossRuns:m.length}}catch(s){return console.error("Error in saveBatchBossRuns:",s),{success:!1,error:s.message}}}async function fu(l){try{if(!l)return console.log("No user code provided for getHistoricalWeekAnalysis"),{success:!1,error:"No user code provided"};console.log("🔍 Analyzing historical week data for user:",l);const{data:r,error:s}=await He.from("user_data").select("data, pitched_items").eq("id",l).single();if(s)return console.error("Error fetching user data for historical analysis:",s),{success:!1,error:s.message};const i=na();console.log("📅 Current week:",i),console.log("📊 Raw user data:",{pitchedItemsCount:r.pitched_items?r.pitched_items.length:0,bossRunsCount:r.data&&r.data.boss_runs?r.data.boss_runs.length:0});const c=new Set;r.pitched_items&&Array.isArray(r.pitched_items)?(console.log("🔍 Checking pitched_items for historical weeks..."),r.pitched_items.forEach((b,x)=>{console.log(`  Item ${x}:`,{weekKey:b.weekKey,character:b.character,boss:b.boss,item:b.item,isCurrentWeek:b.weekKey===i}),b.weekKey&&b.weekKey!==i&&(c.add(b.weekKey),console.log(`    ✅ Added historical week: ${b.weekKey}`))})):console.log("❌ No pitched_items found or not an array"),r.data&&r.data.boss_runs&&Array.isArray(r.data.boss_runs)?(console.log("🔍 Checking boss_runs for historical weeks..."),r.data.boss_runs.forEach((b,x)=>{console.log(`  Run ${x}:`,{weekKey:b.weekKey,character:b.character,boss:b.boss,isCurrentWeek:b.weekKey===i}),b.weekKey&&b.weekKey!==i&&(c.add(b.weekKey),console.log(`    ✅ Added historical week: ${b.weekKey}`))})):console.log("❌ No boss_runs found or not an array"),console.log("📋 Found historical weeks:",Array.from(c));const u=Array.from(c).sort((b,x)=>{const S=j=>{const D=j.split("-");return D.length===2?{year:parseInt(D[0]),week:parseInt(D[1])}:D.length===3?{year:parseInt(D[0]),week:parseInt(D[1])}:{year:0,week:0}},_=S(b),R=S(x);return _.year!==R.year?_.year-R.year:_.week-R.week}),f=u.length>0;let m=null,g="new",p=8;if(f){m=u[0];const{getWeekOffset:b}=await dt(async()=>{const{getWeekOffset:_}=await Promise.resolve().then(()=>cx);return{getWeekOffset:_}},void 0),x=b(m),S=Math.abs(x);S>8?(g="existing",p=S,console.log(`📊 Existing user detected: ${S} weeks of history, adaptive limit: ${p}`)):(g="new",console.log(`📊 New user detected: ${S} weeks of history, standard limit: ${p}`))}const y={success:!0,hasHistoricalData:f,oldestHistoricalWeek:m,historicalWeeks:u,totalHistoricalWeeks:u.length,userType:g,adaptiveWeekLimit:p,currentWeek:i,analysis:{pitchedItemsCount:r.pitched_items?r.pitched_items.length:0,bossRunsCount:r.data&&r.data.boss_runs?r.data.boss_runs.length:0,weeksWithData:u.length+1}};return console.log("📈 Historical week analysis result:",{userType:y.userType,hasHistoricalData:y.hasHistoricalData,oldestWeek:y.oldestHistoricalWeek,adaptiveLimit:y.adaptiveWeekLimit,totalWeeks:y.totalHistoricalWeeks}),y}catch(r){return console.error("Error in getHistoricalWeekAnalysis:",r),{success:!1,error:r.message}}}const bl=Object.freeze(Object.defineProperty({__proto__:null,clearCharacterPitchedUI:Xm,exportUserData:_x,getAllPitchedItems:Vm,getAvailableWeeks:Jm,getCurrentWeekKey:na,getHistoricalWeekAnalysis:fu,getPitchedItems:Km,getPitchedResetAuditHistory:Im,getYearlyPitchedStats:du,importUserData:Tx,purgeAllStatsData:Zm,purgePitchedRecords:Qm,removeManyPitchedItems:vl,saveBatchBossRuns:Ex,saveBossRun:Sx,savePitchedItem:uu},Symbol.toStringTag,{value:"Module"}));function kx({selectedWeekKey:l,onWeekChange:r,availableWeeks:s=[],isReadOnlyMode:i=!1,isHistoricalWeek:c=!1,historicalAnalysis:u={hasHistoricalData:!1,oldestHistoricalWeek:null,userType:"new",adaptiveWeekLimit:8,historicalWeeks:[]},characters:f=[],checked:m={},selectedCharIdx:g=0,totalMeso:p=0,obtainableMeso:y=0,charSummaries:b=[]}){const x=en();console.log("🎯 WeekNavigator received historicalAnalysis:",u);const S=E.useMemo(()=>{const F=u.adaptiveWeekLimit||8;return{min:-F,max:0,current:0,adaptiveLimit:F}},[u]),_=Ym(l),R=E.useCallback(Y=>{Y!==l&&r(Y)},[l,r]),j=()=>{const Y=_-1;if(Y>=S.min){const F=gl(Y);R(F)}},D=()=>{const Y=_+1;if(Y<=S.max){const F=gl(Y);R(F)}},C=E.useCallback(()=>{if(console.log("🔍 goToOldestOrFallback called with analysis:",{hasHistoricalData:u.hasHistoricalData,oldestHistoricalWeek:u.oldestHistoricalWeek,userType:u.userType,adaptiveLimit:S.adaptiveLimit}),u.hasHistoricalData&&u.oldestHistoricalWeek)console.log(`🎯 Jumping to oldest historical data: ${u.oldestHistoricalWeek} (${u.userType} user)`),R(u.oldestHistoricalWeek);else{const Y=gl(-S.adaptiveLimit);console.log(`🎯 No historical data found, jumping to ${S.adaptiveLimit} weeks back: ${Y}`),R(Y)}},[u,S.adaptiveLimit,R]),A=()=>{R(x)},q=()=>{u.hasHistoricalData&&u.oldestHistoricalWeek&&R(u.oldestHistoricalWeek)},N=_>S.min,J=_<S.max,ee=u.hasHistoricalData||_>-S.adaptiveLimit,G=l===x,ne=u.hasHistoricalData;_<=S.min;const P=E.useMemo(()=>{const Y=Cr(l),F=ju(l);return{label:Pm(l),parsed:Y,dateRange:F,isCurrentWeek:G,offset:_}},[l,G,_]),me=f[g],ue=(me==null?void 0:me.bosses)||[],oe=`${(me==null?void 0:me.name)||""}-${g}`,xe=ue.filter(Y=>{var F;return(F=m[oe])==null?void 0:F[Y.name+"-"+Y.difficulty]}).length,ae=ue.length,M=ae>0?xe/ae*100:0;return h.jsxs("div",{className:"week-navigator-container",children:[h.jsxs("div",{className:"week-navigator-header",children:[h.jsxs("div",{className:`week-navigator-title ${G?"current-week":"historical-week"}`,children:[P.label.replace(/\s*\(Current\)/i,""),G&&h.jsx("span",{className:"week-navigator-current-dot",children:h.jsx("span",{className:"week-navigator-current-dot-inner"})})]}),u.userType==="existing"&&h.jsxs("div",{className:"week-navigator-extended-history",children:["Extended History (",S.adaptiveLimit," weeks)"]})]}),h.jsxs("div",{className:"week-navigator-navigation",children:[h.jsx("div",{className:"week-navigator-arrow-container",children:h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:N?j:void 0,className:`week-navigator-arrow arrow-left ${N?"enabled":"disabled"}`,title:N?"Previous Week":`Already at oldest week (${S.adaptiveLimit} weeks back)`,children:h.jsx("path",{d:"M20.3284 11.0001V13.0001L7.50011 13.0001L10.7426 16.2426L9.32842 17.6568L3.67157 12L9.32842 6.34314L10.7426 7.75735L7.49988 11.0001L20.3284 11.0001Z",fill:"currentColor"})})}),P.dateRange&&h.jsxs("div",{className:"week-navigator-date-range",children:[P.dateRange.start.toLocaleDateString()," - ",P.dateRange.end.toLocaleDateString()]}),h.jsx("div",{className:"week-navigator-arrow-container",children:h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:G?ee?C:void 0:J?D:void 0,className:`week-navigator-arrow arrow-right ${(G?ee:J)?"enabled":"disabled"}`,title:G?ee?u.hasHistoricalData?`Jump to oldest data (${u.oldestHistoricalWeek})`:`Jump to ${S.adaptiveLimit} weeks back`:"No historical data available":J?"Next Week":"Already at current week",children:h.jsx("path",{d:"M15.0378 6.34317L13.6269 7.76069L16.8972 11.0157L3.29211 11.0293L3.29413 13.0293L16.8619 13.0157L13.6467 16.2459L15.0643 17.6568L20.7079 11.9868L15.0378 6.34317Z",fill:"currentColor"})})})]}),h.jsx("div",{className:"week-navigator-content",children:G&&me&&h.jsxs("div",{className:"week-navigator-progress",children:[h.jsxs("div",{className:"week-navigator-progress-header",children:[h.jsxs("div",{className:"week-navigator-progress-character",children:[me.name," Progress"]}),h.jsxs("div",{className:"week-navigator-progress-count",children:[xe,"/",ae," bosses"]})]}),h.jsx("div",{className:"week-navigator-progress-bar-container",children:h.jsx("div",{className:"week-navigator-progress-bar",style:{width:`${M}%`},children:M>0&&h.jsx("div",{className:"week-navigator-progress-shimmer"})})}),h.jsxs("div",{className:"week-navigator-progress-meso",children:[h.jsxs("span",{children:[Math.floor(p).toLocaleString()," mesos earned"]}),h.jsxs("span",{children:[Math.floor(p/y*100),"% of potential"]})]})]})}),h.jsx("div",{className:"week-navigator-buttons",children:G?h.jsx("div",{className:"week-navigator-spacer"}):h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:A,className:"week-navigator-button current-week-btn",title:"Jump to current week",children:"Current Week"}),ne&&h.jsx("button",{onClick:q,className:"week-navigator-button oldest-data-btn",title:`Jump to oldest data (${u.oldestHistoricalWeek})`,children:"Oldest Data"})]})})]},l)}function jx({data:l,characters:r,onClose:s,onConfirm:i}){const[c,u]=E.useState(""),[f,m]=E.useState(""),[g,p]=E.useState(!1),y=E.useMemo(()=>l.weekKey?ju(l.weekKey):{start:null,end:null},[l.weekKey]),b=_=>_.toISOString().split("T")[0],x=E.useMemo(()=>{if(!y.start||!y.end)return[];const _=[],R=new Date(y.start),j=new Date(y.end);for(;R<=j;)_.push(new Date(R)),R.setDate(R.getDate()+1);return _},[y]);E.useEffect(()=>{x.length>0&&!c&&u(b(x[0])),r.length>0&&!f&&m(r[0].name)},[x,c,r,f]);const S=async()=>{if(!c||!f)return;p(!0);const _=new Date(c+"T12:00:00.000Z").toISOString();await i(_,f),p(!1)};return h.jsxs("div",{className:"historical-modal-container",onClick:_=>_.stopPropagation(),children:[h.jsx("div",{className:"historical-modal-header",children:h.jsx("img",{src:l.itemImage,alt:l.itemName,className:"historical-modal-header-image"})}),h.jsx("h2",{className:"historical-modal-title",children:"Log Historical Pitched Item"}),h.jsxs("div",{className:"historical-modal-info-box",children:[h.jsxs("div",{className:"historical-modal-info-item",children:[h.jsx("span",{className:"historical-modal-info-label",children:"Character:"})," ",f||l.character]}),h.jsxs("div",{className:"historical-modal-info-item",children:[h.jsx("span",{className:"historical-modal-info-label",children:"Boss:"})," ",l.bossName]}),h.jsxs("div",{className:"historical-modal-info-item",children:[h.jsx("span",{className:"historical-modal-info-label",children:"Item:"})," ",l.itemName]}),h.jsxs("div",{className:"historical-modal-info-item",children:[h.jsx("span",{className:"historical-modal-info-label",children:"Week:"})," ",l.weekKey]})]}),h.jsxs("div",{className:"historical-modal-form-section",children:[h.jsx("label",{className:"historical-modal-label",children:"Select Character:"}),h.jsx("select",{value:f,onChange:_=>m(_.target.value),className:"historical-modal-select",children:r.map(_=>h.jsx("option",{value:_.name,children:_.name},_.name))})]}),h.jsxs("div",{className:"historical-modal-form-section",children:[h.jsx("label",{className:"historical-modal-label",children:"Select Date:"}),h.jsx("input",{type:"date",value:c,onChange:_=>u(_.target.value),min:y.start?b(y.start):"",max:y.end?b(y.end):"",className:"historical-modal-date-input"}),y.start&&y.end&&h.jsxs("div",{className:"historical-modal-helper-text",children:["Valid range: ",b(y.start)," to ",b(y.end)]})]}),h.jsxs("div",{className:"historical-modal-buttons",children:[h.jsx("button",{onClick:s,disabled:g,className:"historical-modal-button historical-modal-button-cancel",children:"Cancel"}),h.jsxs("button",{onClick:S,disabled:g||!c||!f,className:"historical-modal-button historical-modal-button-confirm",children:[g&&h.jsx("div",{className:"historical-modal-spinner"}),g?"Logging...":"Log Item"]})]})]})}function Cx({startPosition:l,endPosition:r,onComplete:s}){const[i,c]=E.useState(l),[u,f]=E.useState(1);return E.useEffect(()=>{const m=Date.now(),g=1e3,p=()=>{const y=Date.now()-m,b=Math.min(y/g,1),x=1-Math.pow(1-b,3),S=l.x+(r.x-l.x)*x,_=l.y+(r.y-l.y)*x;c({x:S,y:_}),f(1-b),b<1?requestAnimationFrame(p):s()};requestAnimationFrame(p)},[l,r,s]),h.jsx("div",{style:{position:"fixed",left:i.x,top:i.y,transform:"translate(-50%, -50%)",opacity:u,pointerEvents:"none",zIndex:1e3,transition:"transform 0.1s ease"},children:h.jsx("img",{src:"/bosses/crystal.png",alt:"Crystal",style:{width:24,height:24,transform:`rotate(${i.x*.1}deg)`,filter:"drop-shadow(0 0 4px rgba(162, 89, 247, 0.6))"}})})}const Jc=l=>{if(l===0)return"0";if(l<1e9){const s=l/1e6;if(s<1){const i=l/1e3;return i<1?l.toString():`${i.toFixed(1)}K`}return`${s.toFixed(1)}M`}return`${(l/1e9).toFixed(1)}B`};function Rx({sidebarVisible:l,isHistoricalWeek:r,totalMeso:s,obtainableMeso:i,selectedWeekKey:c,hideCompleted:u,setHideCompleted:f,visibleCharSummaries:m,selectedCharIdx:g,setSelectedCharIdx:p,isReadOnlyMode:y,setPurgeTargetCharacter:b,setShowCharacterPurgeConfirm:x}){const[S,_]=E.useState(0),R=5,j=E.useMemo(()=>{const A=m.length,q=Math.ceil(A/R),N=S*R,J=Math.min(N+R,A),ee=m.slice(N,J);return{totalPages:q,currentPageCharacters:ee,startIndex:N,endIndex:J,totalCharacters:A}},[m,S,R]);wy.useEffect(()=>{_(0)},[m.length,u]);const D=()=>{j.totalPages>1&&_(A=>A===0?j.totalPages-1:A-1)},C=()=>{j.totalPages>1&&_(A=>A===j.totalPages-1?0:A+1)};return h.jsx(h.Fragment,{children:h.jsx("div",{className:`sidebar-scroll fade-in-no-slide ${l?"visible":"hidden"}`,children:h.jsxs("div",{className:"sidebar-content",children:[h.jsxs("div",{className:"sidebar-header",children:[h.jsx("h3",{className:"sidebar-title",children:"Characters"}),h.jsxs("div",{className:"sidebar-crystal-icons",children:[h.jsx("img",{src:"/bosses/crystal.png",alt:"Crystal",className:"sidebar-crystal-icon"}),h.jsx("img",{src:"/bosses/bluecrystal.png",alt:"Blue Crystal",className:"sidebar-crystal-icon"}),h.jsx("img",{src:"/bosses/yellowcrystal.png",alt:"Yellow Crystal",className:"sidebar-crystal-icon"})]})]}),!r&&h.jsxs("div",{className:"sidebar-progress-section",children:[h.jsx("div",{className:"sidebar-progress-title",children:"Weekly Progress"}),h.jsx("div",{className:"sidebar-progress-track",children:h.jsx("div",{className:"sidebar-progress-fill",style:{width:`${i>0?Math.min(s/i*100,100):0}%`}})}),h.jsxs("div",{className:"sidebar-progress-numbers",children:[h.jsx("span",{children:Jc(s)}),h.jsx("span",{children:Jc(i)})]})]}),r&&h.jsxs("div",{className:"sidebar-historical-section",children:[h.jsxs("div",{className:"sidebar-historical-title",children:["Week ",c]}),h.jsx("div",{className:"sidebar-historical-subtitle",children:"Historical Data"})]}),h.jsx("div",{className:"sidebar-checkbox-section",children:h.jsxs("label",{className:"sidebar-checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:A=>f(A.target.checked),className:"sidebar-checkbox-input"}),"Hide completed"]})}),j.totalPages>1&&h.jsxs("div",{className:"sidebar-pagination",children:[h.jsx("svg",{className:"sidebar-pagination-arrow previous",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:D,title:"Previous Page",children:h.jsx("path",{d:"M20.3284 11.0001V13.0001L7.50011 13.0001L10.7426 16.2426L9.32842 17.6568L3.67157 12L9.32842 6.34314L10.7426 7.75735L7.49988 11.0001L20.3284 11.0001Z",fill:"#ffffff"})}),h.jsx("div",{className:"sidebar-pagination-indicator",children:j.totalCharacters>0?h.jsxs(h.Fragment,{children:["Page ",S+1," of ",j.totalPages]}):"No characters"}),h.jsx("svg",{className:"sidebar-pagination-arrow next",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:C,title:"Next Page",children:h.jsx("path",{d:"M15.0378 6.34317L13.6269 7.76069L16.8972 11.0157L3.29211 11.0293L3.29413 13.0293L16.8619 13.0157L13.6467 16.2459L15.0643 17.6568L20.7079 11.9868L15.0378 6.34317Z",fill:"#ffffff"})})]}),h.jsx("div",{className:"sidebar-character-list",children:j.currentPageCharacters.length===0?h.jsx("div",{className:"sidebar-empty-state",style:{opacity:m.length===0?0:1},children:u?"No characters with bosses left to clear.":"No characters found."}):j.currentPageCharacters.map(A=>h.jsxs("div",{onClick:()=>p(A.idx),onContextMenu:q=>{q.preventDefault(),y||(b({name:A.name,idx:A.idx}),x(!0))},className:`sidebar-character-card ${g===A.idx?`selected ${r?"historical-week":"current-week"}`:"default"}`,children:[r&&g===A.idx&&h.jsx("div",{className:`sidebar-character-status-indicator ${y?"readonly":"editable"}`,children:y?"🔒":"✏️"}),h.jsxs("div",{className:"sidebar-character-header",children:[h.jsx("span",{className:`sidebar-character-name ${g===A.idx?"selected":"default"}`,children:A.name}),A.allCleared&&h.jsxs("svg",{className:"sidebar-character-checkmark",width:"16",height:"16",viewBox:"0 0 22 22",children:[h.jsx("circle",{cx:"11",cy:"11",r:"11",fill:"#38a169"}),h.jsx("polyline",{points:"6,12 10,16 16,7",fill:"none",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),h.jsx("div",{className:"sidebar-character-stats",children:A.total===0?h.jsx("div",{className:"sidebar-character-no-bosses",children:"No bosses configured"}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"sidebar-character-completion",children:[A.cleared," / ",A.total," bosses cleared"]}),h.jsxs("div",{className:"sidebar-character-meso",children:[Jc(A.totalMeso)," meso"]})]})})]},A.name+"-"+A.idx))})]})})})}function Ax({sidebarVisible:l,setSidebarVisible:r}){return h.jsx("div",{className:`sidebar-toggle ${l?"visible":"hidden"}`,onClick:()=>r(!l),title:l?"Hide sidebar":"Show sidebar",children:l?h.jsxs("svg",{className:"sidebar-toggle-close-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"crossGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),h.jsx("stop",{offset:"50%",stopColor:"#e6e0ff"}),h.jsx("stop",{offset:"100%",stopColor:"#d6b4ff"})]})}),h.jsx("path",{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"url(#crossGradient)"})]}):h.jsx("div",{className:"sidebar-toggle-hamburger",children:[0,1,2].map(s=>h.jsx("span",{className:"sidebar-toggle-hamburger-line"},s))})})}function Ox({isHistoricalWeek:l,isReadOnlyMode:r,readOnlyOverride:s,setReadOnlyOverride:i}){return l?h.jsxs("div",{className:`mode-indicator-container ${r?"read-only":"edit-mode"}`,children:[h.jsxs("div",{className:"mode-indicator-content",children:[h.jsx("span",{className:"mode-indicator-icon",children:r?"🔒":"✏️"}),h.jsxs("div",{className:"mode-indicator-text",children:[h.jsx("div",{className:"mode-indicator-title",children:r?"Read-Only Mode":"Edit Mode"}),h.jsx("div",{className:"mode-indicator-description",children:r?"Historical week data is protected from changes":"Editing enabled for historical week data"})]})]}),h.jsxs("button",{className:`mode-toggle-button ${r?"read-only":"edit-mode"}`,onClick:()=>i(!s),title:r?"Enable editing for this historical week":"Disable editing to protect historical data",children:[h.jsx("span",{className:"mode-toggle-icon",children:r?"🔓":"🔒"}),h.jsx("span",{className:"mode-toggle-text",children:r?"Enable Edit":"Lock Data"})]})]}):null}function It(l,r,s,i,c){return`${l}-${r}__${s}__${i}__${c}`}const Dx=Object.freeze(Object.defineProperty({__proto__:null,getPitchedKey:It},Symbol.toStringTag,{value:"Module"}));function Nx({isHistoricalWeek:l,characters:r,selectedCharIdx:s,charBosses:i,sortedBosses:c,bossData:u,checked:f,setChecked:m,charKey:g,getBossPrice:p,isReadOnlyMode:y,pitchedChecked:b,weekKey:x,handleCheck:S,refreshCheckedStateFromDatabase:_,userInteractionRef:R,userCode:j,savePitchedItem:D,removeManyPitchedItems:C,setPitchedChecked:A,setError:q,startStatsTrackingIfNeeded:N,setHistoricalPitchedData:J,setShowHistoricalPitchedModal:ee,readOnlyOverride:G,loadingPitchedItems:ne,setLoadingPitchedItems:P,refreshPitchedItems:me,refreshHistoricalAnalysis:ue}){if(l){const oe=new Map;return r.forEach(xe=>{var ae;(ae=xe.bosses)==null||ae.forEach(M=>{const Y=u.find(F=>F.name===M.name);Y&&Y.pitchedItems&&Y.pitchedItems.length>0&&oe.set(M.name,Y)})}),h.jsx("div",{className:"historical-week-cards-container",children:Array.from(oe.values()).map(xe=>h.jsxs("div",{className:"historical-boss-card",children:[h.jsxs("div",{className:"historical-boss-header",children:[h.jsx("img",{src:xe.image,alt:xe.name,className:"historical-boss-image"}),h.jsxs("div",{className:"historical-boss-info",children:[h.jsx("div",{className:"historical-boss-name",children:xe.name}),h.jsx("div",{className:"historical-boss-difficulty",children:(()=>{const ae=new Set;return r.forEach(M=>{var Y;(Y=M.bosses)==null||Y.forEach(F=>{F.name===xe.name&&ae.add(F.difficulty)})}),Array.from(ae).join(", ")})()})]})]}),h.jsxs("div",{className:"historical-pitched-section",children:[h.jsx("div",{className:"historical-pitched-label",children:"Pitched Items"}),(xe.pitchedItems||[]).length>0?h.jsx("div",{className:"historical-pitched-grid",children:(xe.pitchedItems||[]).map(ae=>{let M=!1,Y=null;return r.forEach((F,K)=>{const T=It(F.name,K,xe.name,ae.name,x);b[T]&&(M=!0,Y=F.name)}),h.jsxs("div",{className:`historical-pitched-item ${M?"obtained":""}`,title:y?M?`${ae.name} (obtained by ${Y})`:ae.name:M?`Click to remove: ${ae.name} (obtained by ${Y})`:`Click to track: ${ae.name}`,onClick:async F=>{if(F.stopPropagation(),y){console.log("Historical pitched item click blocked - read-only mode");return}if(l&&G){if(M){console.log("Removing historical pitched item:",ae.name);try{const K=await D(j,{character:Y,characterIdx:r.findIndex(T=>T.name===Y),bossName:xe.name,itemName:ae.name,itemImage:ae.image,date:new Date().toISOString()},!0,x);K.success?(console.log("✅ Historical pitched item removed successfully"),await me(j),ue&&await ue()):(console.error("❌ Failed to remove historical pitched item:",K.error),q("Failed to remove historical pitched item: "+(K.error||"Unknown error")))}catch(K){console.error("❌ Error removing historical pitched item:",K),q("Error removing historical pitched item: "+K.message)}}else console.log("Opening historical pitched item modal for:",ae.name),J({character:"",characterIdx:-1,bossName:xe.name,itemName:ae.name,itemImage:ae.image,weekKey:x}),ee(!0);return}},children:[h.jsx("img",{src:ae.image,alt:ae.name,className:`historical-pitched-item-image ${M?"obtained":"not-obtained"}`}),M&&h.jsx("span",{className:"historical-pitched-checkmark",children:"✓"})]},ae.name)})}):h.jsx("div",{className:"historical-no-pitched",children:"No pitched items available"})]})]},xe.name))})}return h.jsx("div",{className:"boss-table-scroll",children:h.jsxs("table",{className:`boss-table ${l?"historical-week":""}`,children:[h.jsx("thead",{children:h.jsxs("tr",{className:"boss-table-header-row",children:[h.jsx("th",{className:"boss-table-header-cell",children:"Boss"}),h.jsx("th",{className:"boss-table-header-cell-difficulty",children:"Difficulty"}),h.jsx("th",{className:"boss-table-header-cell-mesos",children:"Mesos"}),h.jsx("th",{className:"boss-table-header-cell-cleared",children:"Cleared"})]})}),h.jsx("tbody",{children:c.map((oe,xe)=>{var F;const ae=u.find(K=>K.name===oe.name),M=!!((F=f[g])!=null&&F[oe.name+"-"+oe.difficulty]),Y=(ae==null?void 0:ae.pitchedItems)||[];return h.jsxs("tr",{className:`boss-table-row ${xe%2===0?"even":"odd"} ${y?"read-only":""}`,onClick:K=>{!y&&!K.target.closest(".checkbox-wrapper")&&!K.target.closest(".pitched-item-icon")&&S(oe,!M,K)},children:[h.jsxs("td",{className:"boss-table-cell-boss",children:[(ae==null?void 0:ae.image)&&h.jsx("img",{src:ae.image,alt:oe.name,className:"boss-table-boss-image"}),h.jsx("span",{className:"boss-table-boss-name",children:oe.name}),Y.length>0&&(oe.name==="Lotus"&&(oe.difficulty==="Hard"||oe.difficulty==="Extreme")||oe.name!=="Lotus"&&["Hard","Chaos","Extreme","Hell"].includes(oe.difficulty))&&h.jsx("div",{className:"boss-table-pitched-container inline",children:Y.map(K=>{if(oe.name==="Lotus"&&(K.name==="Total Control"&&oe.difficulty!=="Extreme"||(K.name==="Berserked"||K.name==="Black Heart")&&!["Hard","Extreme"].includes(oe.difficulty)))return null;const T=It(r[s].name,s,oe.name,K.name,x),H=!!b[T];return h.jsxs("span",{className:`pitched-item-icon inline ${H?"obtained":""} ${y?"read-only":""}`,title:H?`Click to remove: ${K.name}`:`Click to track: ${K.name}`,onClick:async I=>{var Ue;if(I.stopPropagation(),y){console.log("Pitched item click blocked - read-only mode");return}if(l&&G){console.log("Opening historical pitched item modal for:",K.name),J({character:"",characterIdx:-1,bossName:oe.name,itemName:K.name,itemImage:K.image,weekKey:x}),ee(!0);return}const X=`${r[s].name}-${s}`,re=It(r[s].name,s,oe.name,K.name,x),ie=!!b[re];let te=!1,_e="";if(r.forEach((Me,Ke)=>{if(Ke!==s){const se=It(Me.name,Ke,oe.name,K.name,x);b[se]&&(te=!0,_e=Me.name)}}),te&&!ie){alert(`${K.name} is already obtained by ${_e}. Only one character can have each item per week.`);return}R.current=!0,console.log("🖱️ USER: Pitched item clicked:",{item:K.name,boss:oe.name,character:r[s].name,currentState:ie}),!!((Ue=f[X])!=null&&Ue[oe.name+"-"+oe.difficulty])||(console.log("🖱️ USER: Auto-checking boss since it was not cleared"),S(oe,!0,I)),P(Me=>({...Me,[re]:!0}));try{if(!j){q("Please log in to save pitched items to cloud.");return}const Me=!ie;console.log(`🖱️ USER: Toggling pitched item from ${ie} to ${Me}`),A(se=>{const ce={...se};return Me?ce[re]=!0:delete ce[re],console.log("🖱️ USER: Updated local pitched state:",Me?"added":"removed"),ce}),console.log("🖱️ USER: Saving to cloud...");const Ke=await D(j,{character:r[s].name,characterIdx:s,bossName:oe.name,itemName:K.name,itemImage:K.image,date:new Date().toISOString()},ie,x);Ke.success?(console.log("🖱️ USER: Cloud save successful"),ue&&ue().catch(se=>{console.error("Error refreshing historical analysis:",se)})):(console.error("🖱️ USER: Cloud save failed:",Ke.error),q("Failed to save to cloud. Reverting changes."),A(se=>{const ce={...se};return ie?ce[re]=!0:delete ce[re],ce}))}catch(Me){console.error("❌ Error in pitched item click handler:",Me),q("Failed to update pitched item. Please try again."),A(Ke=>{const se={...Ke};return ie?se[re]=!0:delete se[re],se})}finally{P(Me=>{const Ke={...Me};return delete Ke[re],Ke}),setTimeout(()=>{R.current=!1,console.log("🖱️ USER: Interaction flag cleared, sync can resume")},1e3)}N()},children:[ne[T]?h.jsx("div",{className:"pitched-item-loading inline",children:h.jsx("div",{className:"pitched-item-spinner inline"})}):h.jsx("img",{src:K.image,alt:K.name,className:`pitched-item-image inline ${H?"obtained":"not-obtained"}`}),H&&!ne[T]&&h.jsx("span",{className:"pitched-item-checkmark inline",children:"✓"})]},K.name)})})]}),h.jsx("td",{className:"boss-table-cell-difficulty",children:h.jsx("span",{children:oe.difficulty})}),h.jsx("td",{className:"boss-table-cell-mesos",children:h.jsx("span",{children:Math.floor(p(oe.name,oe.difficulty)/(oe.partySize||1)).toLocaleString()})}),h.jsx("td",{className:"boss-table-cell-cleared",children:h.jsx("span",{onClick:K=>K.stopPropagation(),children:h.jsx(Wm,{checked:M,onChange:K=>!y&&S(oe,K.target.checked,K),disabled:y})})})]},oe.name+"-"+oe.difficulty)})})]})})}function Ux({showStats:l,setShowStats:r,allYears:s,selectedYear:i,setSelectedYear:c,yearlyPitchedSummary:u,isLoadingCloudStats:f,setPitchedModalItem:m,setShowPitchedModal:g,setShowStatsResetConfirm:p}){return l?h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.92)",zIndex:5e3,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>r(!1),children:h.jsxs("div",{className:"modal-fade",style:{background:"#2d2540",borderRadius:14,padding:"2.5rem 2rem",maxWidth:600,color:"#e6e0ff",boxShadow:"0 4px 24px #0006",position:"relative",minWidth:320,maxHeight:"90vh",overflowY:"auto"},onClick:y=>y.stopPropagation(),children:[h.jsx("button",{onClick:()=>r(!1),style:{position:"absolute",top:16,right:16,background:"transparent",color:"#fff",border:"none",fontSize:"1.5rem",cursor:"pointer"},title:"Close",children:"×"}),h.jsx("h2",{style:{color:"#a259f7",fontWeight:700,marginBottom:18,textAlign:"center"},children:"Yearly Stats"}),h.jsx("div",{style:{marginBottom:18,display:"flex",flexDirection:"column",alignItems:"center"},children:h.jsx("select",{value:i,onChange:y=>c(y.target.value),style:{background:"#3a335a",color:"#e6e0ff",border:"1px solid #805ad5",borderRadius:6,padding:"6px 18px",fontWeight:600,fontSize:"1.08em",minWidth:120,textAlign:"center"},children:s.map(y=>h.jsx("option",{value:y,children:y},y))})}),h.jsx("div",{style:{marginBottom:8,textAlign:"center"},children:u.length===0?`No pitched items were found for ${i}`:"Pitched Items Obtained:"}),f?h.jsx("div",{style:{textAlign:"center",padding:"15px",color:"#b39ddb"},children:"Loading cloud stats..."}):u.length===0?h.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#888",fontSize:"1.1rem"}}):h.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:10,marginBottom:8,justifyContent:"center"},children:u.map((y,b)=>h.jsxs("span",{className:"pitched-count-white pitched-hover",style:{display:"inline-flex",alignItems:"center",gap:4,background:"#3a335a",borderRadius:6,padding:"2px 10px",fontSize:"1em",fontWeight:600,cursor:"pointer",boxShadow:"0 0 8px #805ad5",border:"1px solid #805ad5",transition:"transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s cubic-bezier(.4,2,.6,1)",position:"relative"},onClick:()=>{m(y),g(!0)},title:"Click for details",onMouseOver:x=>{x.currentTarget.style.transform="scale(1.08)",x.currentTarget.style.boxShadow="0 4px 16px #a259f7cc"},onMouseOut:x=>{x.currentTarget.style.transform="scale(1)",x.currentTarget.style.boxShadow="0 0 8px #805ad5"},children:[h.jsx("img",{src:y.image,alt:y.name,style:{width:22,borderRadius:4,marginRight:2,transition:"box-shadow 0.18s cubic-bezier(.4,2,.6,1)"}}),y.name,h.jsxs("span",{className:"pitched-count-white",style:{color:"#fff",marginLeft:6,fontWeight:700,fontSize:"1.1em"},children:["×",y.count]})]},b))}),h.jsx("div",{style:{textAlign:"center",marginTop:24},children:h.jsx("button",{style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,padding:"0.6rem 1.5rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer"},onClick:()=>p(!0),children:"Reset Stats"})})]})}):null}function Mx({showStatsResetConfirm:l,setShowStatsResetConfirm:r,onConfirm:s}){return l?h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.92)",zIndex:6e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{className:"modal-fade",style:{background:"#2d2540",borderRadius:14,padding:"2rem 1.5rem",maxWidth:340,color:"#e6e0ff",boxShadow:"0 4px 24px #0006",position:"relative",minWidth:220,textAlign:"center"},children:[h.jsx("h3",{style:{color:"#ffbaba",marginBottom:16},children:"Are you sure?"}),h.jsx("p",{style:{marginBottom:18},children:"This will permanently erase all stats. This cannot be undone."}),h.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[h.jsx("button",{onClick:()=>r(!1),style:{background:"#3a335a",color:"#e6e0ff",border:"none",borderRadius:8,padding:"0.7rem 1.5rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",minWidth:100},children:"Cancel"}),h.jsx("button",{onClick:s,style:{background:"#e53e3e",color:"#fff",border:"none",borderRadius:8,padding:"0.7rem 1.5rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",minWidth:100},children:"Reset"})]})]})}):null}function zx({showCharacterPurgeConfirm:l,setShowCharacterPurgeConfirm:r,purgeTargetCharacter:s,purgeInProgress:i,onConfirm:c}){return l?h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.96)",zIndex:6e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{className:"modal-fade",style:{background:"#2d2540",borderRadius:16,padding:"2.5rem",maxWidth:480,color:"#e6e0ff",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",position:"relative",minWidth:360,textAlign:"center",border:"2px solid #ff6b6b"},children:[h.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #ff6b6b, #ff8e8e)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 4px 20px rgba(255, 107, 107, 0.4)"},children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{style:{color:"#ff6b6b",fontWeight:700,marginBottom:20,fontSize:"1.5rem"},children:"Purge Character Data"}),h.jsxs("div",{style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",borderRadius:12,padding:"20px",marginBottom:28},children:[h.jsx("p",{style:{marginBottom:12,fontSize:"1.1rem",lineHeight:"1.5",color:"#ffbaba"},children:h.jsx("strong",{children:"This will permanently delete all pitched items and boss runs for:"})}),h.jsx("p",{style:{fontSize:"1.2rem",fontWeight:700,color:"#fff",marginBottom:12},children:s==null?void 0:s.name}),h.jsx("p",{style:{fontSize:"0.9rem",color:"#ffbaba",marginBottom:0},children:"This action cannot be undone."})]}),h.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"center"},children:[h.jsx("button",{onClick:()=>r(!1),disabled:i,style:{background:i?"#2a2540":"#3a335a",color:i?"#888":"#e6e0ff",border:i?"1px solid #2a2540":"2px solid #4a4370",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:i?"not-allowed":"pointer",minWidth:140,transition:"all 0.2s ease",opacity:i?.5:1},children:"Cancel"}),h.jsxs("button",{onClick:c,disabled:i,style:{background:i?"#cc5555":"linear-gradient(135deg, #ff6b6b, #ff4757)",color:"#fff",border:"2px solid #ff6b6b",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:i?"not-allowed":"pointer",opacity:i?.7:1,minWidth:140,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:i?"none":"0 4px 16px rgba(255, 107, 107, 0.3)"},children:[i&&h.jsx("div",{style:{width:20,height:20,border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),i?"Purging...":"Purge Data"]})]})]})}):null}function Lx({resetSuccessVisible:l,closeResetSuccess:r,purgeSuccess:s,setPurgeSuccess:i}){return!l&&!s?null:h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",zIndex:7e3,display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsxs("div",{className:"modal-fade",style:{background:"#2d2540",borderRadius:14,padding:"2rem 1.5rem",maxWidth:340,color:"#e6e0ff",boxShadow:"0 4px 24px #0006",position:"relative",minWidth:220,textAlign:"center"},onClick:c=>c.stopPropagation(),children:[h.jsx("h3",{style:{color:"#38a169",marginBottom:16,fontSize:"1.5rem"},children:l?"Stats reset!":"Character purged!"}),h.jsx("p",{style:{marginBottom:24,fontSize:"1.1rem"},children:l?"Your stats have been cleared.":"Character data has been purged."}),h.jsx("button",{onClick:l?r:()=>i(!1),style:{background:"#3a335a",color:"#e6e0ff",border:"none",borderRadius:8,padding:"0.6rem 1.5rem",fontWeight:600,fontSize:"1.1rem",cursor:"pointer",marginTop:10,boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:"Close"})]})})}function Bx({showPitchedModal:l,setShowPitchedModal:r,pitchedModalItem:s,pitchedModalDetails:i}){return!l||!s?null:h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.92)",zIndex:6e3,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>r(!1),children:h.jsxs("div",{className:"modal-fade",style:{background:"#2d2540",borderRadius:14,padding:"2rem 1.5rem",maxWidth:400,color:"#e6e0ff",boxShadow:"0 4px 24px #0006",position:"relative",minWidth:220,textAlign:"center"},onClick:c=>c.stopPropagation(),children:[h.jsx("button",{onClick:()=>r(!1),style:{position:"absolute",top:12,right:12,background:"transparent",color:"#fff",border:"none",fontSize:"1.3rem",cursor:"pointer"},title:"Close",children:"×"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:10,marginBottom:16},children:[h.jsx("img",{src:s.image,alt:s.name,style:{width:32,borderRadius:6}}),h.jsx("span",{style:{fontWeight:700,fontSize:"1.1em",color:"#a259f7"},children:s.name})]}),h.jsx("div",{style:{marginBottom:10,color:"#b39ddb",fontWeight:600},children:"Obtained by:"}),i.length===0?h.jsx("div",{style:{color:"#888",marginBottom:8},children:"None this year."}):h.jsx("div",{style:{maxHeight:220,overflowY:"auto",marginBottom:8},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"1em",background:"none"},children:[h.jsx("thead",{children:h.jsxs("tr",{style:{color:"#b39ddb",background:"none"},children:[h.jsx("th",{style:{padding:"4px 8px",fontWeight:700},children:"Character"}),h.jsx("th",{style:{padding:"4px 8px",fontWeight:700},children:"Date"})]})}),h.jsx("tbody",{children:i.map((c,u)=>h.jsxs("tr",{style:{background:u%2===0?"#23203a":"#201c32"},children:[h.jsx("td",{style:{padding:"4px 8px",fontWeight:600},children:c.char}),h.jsx("td",{style:{padding:"4px 8px",color:"#b39ddb"},children:c.date})]},u))})]})})]})})}function Hx(l){const r=en(),[s,i]=E.useState(r),[c,u]=E.useState([]),[f,m]=E.useState({}),[g,p]=E.useState(!1),[y,b]=E.useState({hasHistoricalData:!1,oldestHistoricalWeek:null,userType:"new",adaptiveWeekLimit:8,historicalWeeks:[]}),x=s!==r,S=x&&!g,_=E.useCallback(async()=>{if(l)try{console.log("🔄 Refreshing historical analysis...");const j=await fu(l);j.success&&(b({hasHistoricalData:j.hasHistoricalData,oldestHistoricalWeek:j.oldestHistoricalWeek,userType:j.userType,adaptiveWeekLimit:j.adaptiveWeekLimit,historicalWeeks:j.historicalWeeks,analysis:j.analysis}),console.log("✅ Historical analysis refreshed:",{userType:j.userType,hasData:j.hasHistoricalData,oldestWeek:j.oldestHistoricalWeek,adaptiveLimit:j.adaptiveWeekLimit}))}catch(j){console.error("Error refreshing historical analysis:",j)}},[l]),R=async(j,D={},C=[],A={})=>{j!==s&&(console.log(`Navigating from week ${s} to ${j}`),s&&!f[s]&&(Object.keys(D).length>0||C.length>0)&&m(q=>({...q,[s]:{checkedState:D,pitchedItems:C,pitchedChecked:A,hasData:Object.keys(D).length>0||C.length>0}})),p(!1),i(j))};return E.useEffect(()=>{(async()=>{if(l)try{const[D,C]=await Promise.all([Jm(l),fu(l)]);D.success&&u(D.weeks),C.success&&(b({hasHistoricalData:C.hasHistoricalData,oldestHistoricalWeek:C.oldestHistoricalWeek,userType:C.userType,adaptiveWeekLimit:C.adaptiveWeekLimit,historicalWeeks:C.historicalWeeks,analysis:C.analysis}),console.log("📊 Week navigation updated with historical analysis:",{userType:C.userType,hasData:C.hasHistoricalData,oldestWeek:C.oldestHistoricalWeek,adaptiveLimit:C.adaptiveWeekLimit}))}catch(D){console.error("Error fetching week navigation data:",D)}})()},[l]),{selectedWeekKey:s,availableWeeks:c,weekDataCache:f,setWeekDataCache:m,isHistoricalWeek:x,isReadOnlyMode:S,readOnlyOverride:g,setReadOnlyOverride:p,handleWeekChange:R,historicalAnalysis:y,refreshHistoricalAnalysis:_}}function $x(l,r,s,i,c,u=null){const[f,m]=E.useState({}),[g,p]=E.useState([]),[y,b]=E.useState(!1),[x,S]=E.useState({}),_=E.useRef(!1),R=async j=>{if(!y)try{b(!0);const D=j||l;if(!D)return;const C=await Vm(D);if(C.success){if(p(C.items||[]),!_.current){const A=(C.items||[]).filter(N=>N.weekKey===c),q={};A.forEach(N=>{const J=r.findIndex(ee=>ee.name===N.character);if(J!==-1){const ee=It(N.character,J,N.boss,N.item,c);q[ee]=!0}}),m(q)}}else console.error("Error refreshing pitched items:",C.error)}catch(D){console.error("Error in refreshPitchedItems:",D)}finally{b(!1)}};return E.useCallback(async()=>{if(l)try{const j=await Km(l);if(j.success){p(j.data||[]);const D=(j.data||[]).filter(A=>A.weekKey===c),C={};D.forEach(A=>{const q=r.findIndex(N=>N.name===A.character);if(q!==-1){const N=It(A.character,q,A.boss,A.item,c);C[N]=!0}}),m(C)}}catch(j){console.error("Error refreshing pitched items:",j)}},[l,c,r]),E.useEffect(()=>{(async()=>{try{if(!l)return;const{supabase:D}=await dt(async()=>{const{supabase:q}=await Promise.resolve().then(()=>Hs);return{supabase:q}},void 0),{data:C,error:A}=await D.from("user_data").select("pitched_items").eq("id",l).single();if(A){console.error("Error fetching pitched items:",A);return}C&&C.pitched_items&&Array.isArray(C.pitched_items)?p(C.pitched_items):p([])}catch(D){console.error("Error in fetchPitchedItemsFromDatabase:",D)}})()},[l]),E.useEffect(()=>{if(g.length===0)return;(async()=>{try{if(_.current)return;const D=g.filter(C=>C.weekKey===c);if(D.length>0){const C={...s},A={};let q=!1;D.forEach(N=>{const J=r.findIndex(ue=>ue.name===N.character);if(J===-1)return;const ee=`${N.character}-${J}`;C[ee]||(C[ee]={});const G=r[J];if(!G)return;const ne=G.bosses.find(ue=>ue.name===N.boss);if(!ne)return;const P=`${ne.name}-${ne.difficulty}`,me=It(N.character,J,N.boss,N.item,c);A[me]=!0,C[ee][P]||(C[ee][P]=!0,q=!0)}),m(A),q&&(!u||!u.current)?(console.log("🔄 PITCHED: Updating checked state from pitched items sync"),console.log("🔄 PITCHED: New checked state being set:",JSON.stringify(C,null,2)),i(C)):q&&(u!=null&&u.current)?(console.log("🚫 PITCHED: Skipping checked state update - preservation in progress"),console.log("🚫 PITCHED: Would have set:",JSON.stringify(C,null,2))):q||console.log("ℹ️ PITCHED: No boss checks needed updating")}}catch(D){console.error("Error synchronizing pitched items:",D)}})()},[g,c,r]),{pitchedChecked:f,setPitchedChecked:m,cloudPitchedItems:g,setCloudPitchedItems:p,userInteractionRef:_,refreshPitchedItems:R,loadingPitchedItems:x,setLoadingPitchedItems:S,isRefreshingPitchedItems:y}}function qx({characters:l,selectedCharIdx:r,checked:s,setChecked:i,bossData:c,pitchedChecked:u,setPitchedChecked:f,weekKey:m,selectedWeekKey:g,isHistoricalWeek:p,readOnlyOverride:y,userCode:b,userInteractionRef:x,setCrystalAnimation:S,setError:_,startStatsTrackingIfNeeded:R,refreshHistoricalAnalysis:j}){const D=en();return{handleCheck:async(N,J,ee=null)=>{var G;try{if(p&&!y){console.log("Boss check blocked - read-only mode active for historical week");return}x.current=!0;let ne,P,me;if(N&&N.name)ne=N,P=J,me=ee;else if(N&&N.target)me=N,ne=J,P=me.target.checked;else{console.error("Invalid parameters to handleCheck");return}if(me&&me.clientX&&S){const K={x:me.clientX,y:me.clientY},T=document.querySelector(".progress-bar");if(T){const H=T.getBoundingClientRect(),I={x:H.left+H.width/2,y:H.top+H.height/2};S({startPosition:K,endPosition:I})}}const ue=((G=l[r])==null?void 0:G.name)||"",oe=r,xe=`${ue}-${oe}`,ae=ne.name,M=ne.difficulty,Y=`${ae}-${M}`,F={...s,[xe]:{...s[xe]||{},[Y]:P}};if(i(F),b&&g===D)try{const{saveBossRun:K}=await dt(async()=>{const{saveBossRun:I}=await Promise.resolve().then(()=>bl);return{saveBossRun:I}},void 0),T={character:ue,characterIdx:oe,bossName:ae,bossDifficulty:M,isCleared:P,date:new Date().toISOString()},H=await K(b,T);H.success?console.log("✅ Boss run saved successfully"):console.error("Error saving boss run:",H.error)}catch(K){console.error("Error saving boss state to database:",K)}if(!P&&g===D){const K=c.find(T=>T.name===ae);if(K&&K.pitchedItems){f(H=>{const I={...H};return K.pitchedItems.forEach(X=>{const re=It(ue,oe,ae,X.name,m);I[re]&&delete I[re]}),I});const T=K.pitchedItems.map(H=>({character:ue,bossName:ae,itemName:H.name,weekKey:m}));T.length>0&&b&&vl(b,T).then(async()=>{j&&await j()}).catch(H=>{console.error("Error removing pitched items:",H)})}}R()}catch(ne){console.error("Error in handleCheck:",ne),_("Failed to update boss status. Please try again.")}finally{setTimeout(()=>{x.current=!1,console.log("🖱️ USER: Boss interaction flag cleared, sync can resume")},1e3)}},handleTickAll:async()=>{try{if(p&&!y){console.log("Tick All blocked - read-only mode active for historical week");return}const N=l[r],J=(N==null?void 0:N.bosses)||[],ee=`${(N==null?void 0:N.name)||""}-${r}`,G=s[ee]||{},P=!J.every(ue=>G[ue.name+"-"+ue.difficulty]);x.current=!0;const me={...s,[ee]:Object.fromEntries(J.map(ue=>[ue.name+"-"+ue.difficulty,P]))};if(i(me),!P){const ue={...u};J.forEach(oe=>{const xe=c.find(ae=>ae.name===oe.name);xe!=null&&xe.pitchedItems&&xe.pitchedItems.forEach(ae=>{const M=It(l[r].name,r,oe.name,ae.name,m);ue[M]&&delete ue[M]})}),f(ue)}if(b)try{console.log(`🔄 Batch updating ${J.length} bosses to ${P?"checked":"unchecked"}`);const{saveBatchBossRuns:ue}=await dt(async()=>{const{saveBatchBossRuns:ae}=await Promise.resolve().then(()=>bl);return{saveBatchBossRuns:ae}},void 0),oe=J.map(ae=>({character:l[r].name,characterIdx:r,bossName:ae.name,bossDifficulty:ae.difficulty,isCleared:P,date:new Date().toISOString()})),xe=await ue(b,oe);if(xe.success?console.log(`✅ Batch update successful: ${J.length} bosses updated`):(console.error("Batch update failed:",xe.error),_("Failed to save all boss updates. Please try again.")),!P){const ae=[];J.forEach(M=>{const Y=c.find(F=>F.name===M.name);Y!=null&&Y.pitchedItems&&Y.pitchedItems.forEach(F=>{const K=It(l[r].name,r,M.name,F.name,m);u[K]&&ae.push({character:l[r].name,bossName:M.name,itemName:F.name,weekKey:m})})}),ae.length>0&&(await vl(b,ae),j&&await j())}}catch(ue){console.error("Error in batch boss update:",ue),_("Failed to update all bosses. Please try again.")}}catch(N){console.error("Error in handleTickAll:",N),_("Failed to update all bosses. Please try again.")}finally{setTimeout(()=>{x.current=!1},1e3)}},refreshCheckedStateFromDatabase:async()=>{if(b){try{console.log("🔄 Refreshing checked state from boss runs...");const{supabase:N}=await dt(async()=>{const{supabase:G}=await Promise.resolve().then(()=>Hs);return{supabase:G}},void 0),{data:J,error:ee}=await N.from("user_data").select("data").eq("id",b).single();if(!ee&&J&&J.data&&J.data.boss_runs){const G={};return J.data.boss_runs.forEach(ne=>{if(ne.cleared){const P=`${ne.character}-${ne.characterIdx||0}`,me=`${ne.boss}-${ne.difficulty}`;G[P]||(G[P]={}),G[P][me]=!0}}),console.log("✅ Refreshed checked state from boss_runs after boss action"),i(G),G}}catch(N){console.error("Error refreshing checked state from boss runs:",N)}return null}}}}function Px(l,r){const[s,i]=E.useState(!1),[c,u]=E.useState(!1),[f,m]=E.useState({monthly:[],yearly:[]}),[g,p]=E.useState(!1),[y,b]=E.useState(null),[x,S]=E.useState(!1),[_,R]=E.useState(!1),[j,D]=E.useState([]),[C,A]=E.useState(!1),[q,N]=E.useState({}),[J,ee]=E.useState(!1),[G,ne]=E.useState(null),[P,me]=E.useState(!1),[ue,oe]=E.useState(!1),[xe,ae]=E.useState(null),M=E.useMemo(()=>{const ie=ml(),te=new Set([ie]);return f&&f.yearly&&Array.isArray(f.yearly)&&f.yearly.forEach(he=>te.add(he.yearKey)),Object.keys(q).forEach(he=>te.add(he)),Array.from(te).sort((he,Ue)=>Ue.localeCompare(he))},[f.yearly,q]),[Y,F]=E.useState(()=>ml());E.useEffect(()=>{M&&Array.isArray(M)&&M.length>0&&(M.includes(Y)||F(M[0]))},[M,Y]),E.useEffect(()=>{s&&l&&(async()=>{try{ee(!0);const te=await du(l);te.success&&N(te.data)}catch(te){console.error("Error fetching cloud pitched stats:",te)}finally{ee(!1)}})()},[s,l]);const K=E.useMemo(()=>{const ie=new Map,te=q[Y];te&&te.items&&Array.isArray(te.items)&&te.items.forEach(he=>{if(!he||!he.item||!he.image)return;const Ue=he.item+"|"+he.image;ie.has(Ue)||ie.set(Ue,{name:he.item,image:he.image,count:0,history:[],source:"cloud"}),ie.get(Ue).count+=1;const Me=new Date(he.date),Ke=Me.getUTCMonth(),se=Me.getUTCDate();ie.get(Ue).history.push({char:he.character,date:`${sx[Ke]} ${se}`,cloud:!0,fullDate:he.date})});const _e=Array.from(ie.values());return _e.forEach(he=>{he.history&&Array.isArray(he.history)&&he.history.sort((Ue,Me)=>Ue.fullDate&&Me.fullDate?new Date(Me.fullDate)-new Date(Ue.fullDate):0)}),_e.sort((he,Ue)=>Ue.count-he.count||he.name.localeCompare(Ue.name))},[Y,q]),T=async(ie,te,_e,he,Ue)=>{if(y)try{S(!0);const{name:Me,idx:Ke}=y;he.current=!0;const se=Xm(ie,Me,Ke,_e);if(te(se),(await Qm(l,Me,Ke)).success){N({}),await r(l);const de=await du(l);de.success&&N(de.data),R(!0),p(!1);const pe=await Im(l);pe.success&&D(pe.history),setTimeout(()=>{R(!1)},3e3)}else Ue("Failed to purge character data. Please try again.")}catch(Me){console.error("Error in handleCharacterPurge:",Me),Ue("Failed to purge character data. Please try again.")}finally{S(!1),setTimeout(()=>{he.current=!1},1e3)}},H=async ie=>{try{if(m({monthly:[],yearly:[]}),F(ml()),l)if((await Zm(l)).success)N({}),await r(l);else{ie("Failed to reset stats data. Please try again.");return}u(!1),A(!0),setTimeout(()=>{A(!1),i(!1)},3400)}catch(te){console.error("Error in stats reset:",te),ie("Failed to reset stats data. Please try again.")}},I=()=>{A(!1),i(!1)},X=E.useMemo(()=>G?G.history||[]:[],[G]);function re(){console.log("Stats tracking is now cloud-based - no action needed")}return{showStats:s,setShowStats:i,showStatsResetConfirm:c,setShowStatsResetConfirm:u,statsPanel:f,setStatsPanel:m,showCharacterPurgeConfirm:g,setShowCharacterPurgeConfirm:p,purgeTargetCharacter:y,setPurgeTargetCharacter:b,purgeInProgress:x,purgeSuccess:_,setPurgeSuccess:R,auditHistory:j,resetSuccessVisible:C,closeResetSuccess:I,cloudPitchedStats:q,setCloudPitchedStats:N,isLoadingCloudStats:J,pitchedModalItem:G,setPitchedModalItem:ne,showPitchedModal:P,setShowPitchedModal:me,pitchedModalDetails:X,showHistoricalPitchedModal:ue,setShowHistoricalPitchedModal:oe,historicalPitchedData:xe,setHistoricalPitchedData:ae,allYears:M,selectedYear:Y,setSelectedYear:F,yearlyPitchedSummary:K,handleCharacterPurge:T,handleStatsReset:H,startStatsTrackingIfNeeded:re}}function Yx({characters:l,bossData:r,checked:s,setChecked:i,userCode:c,preservingCheckedStateRef:u}){function f(K,T){const H=r.find(X=>X.name===K);if(!H)return 0;const I=H.difficulties.find(X=>X.difficulty===T);return I?I.price:0}const[m,g]=E.useState(!0),[p,y]=E.useState(null),[b,x]=E.useState(0),[S,_]=E.useState(null),[R,j]=E.useState(!1),[D,C]=E.useState({weeklyTotal:0,lastReset:new Date().toISOString(),history:[]}),[A,q]=E.useState(()=>{const K=localStorage.getItem(_r.WEEKLY_HIDE_COMPLETED);return K?JSON.parse(K):!1});E.useEffect(()=>{localStorage.setItem(_r.WEEKLY_HIDE_COMPLETED,JSON.stringify(A))},[A]),E.useEffect(()=>{if(l.length)j(!1);else{j(!1);const K=setTimeout(()=>{j(!0)},2e3);return()=>clearTimeout(K)}},[l.length]);const N=Hx(c),J=$x(c,l,s,i,N.selectedWeekKey,u),ee=qx({characters:l,selectedCharIdx:b,checked:s,setChecked:i,bossData:r,pitchedChecked:J.pitchedChecked,setPitchedChecked:J.setPitchedChecked,weekKey:N.selectedWeekKey,selectedWeekKey:N.selectedWeekKey,isHistoricalWeek:N.isHistoricalWeek,readOnlyOverride:N.readOnlyOverride,userCode:c,userInteractionRef:J.userInteractionRef,setCrystalAnimation:y,setError:_,startStatsTrackingIfNeeded:()=>{},refreshHistoricalAnalysis:N.refreshHistoricalAnalysis}),G=Px(c,J.refreshPitchedItems),ne=K=>{N.handleWeekChange(K,s,J.cloudPitchedItems,J.pitchedChecked)};E.useEffect(()=>{b>=l.length&&x(Math.max(0,l.length-1))},[l.length,b]);const P=l[b],me=`${(P==null?void 0:P.name)||""}-${b}`,ue=(P==null?void 0:P.bosses)||[],oe=[...ue].sort((K,T)=>{try{const H=f(K.name,K.difficulty)/(K.partySize||1);return f(T.name,T.difficulty)/(T.partySize||1)-H}catch{return 0}}),xe=l.reduce((K,T,H)=>{const I=`${(T==null?void 0:T.name)||""}-${H}`;return K+(T.bosses||[]).reduce((X,re)=>{var ie;return(ie=s[I])!=null&&ie[re.name+"-"+re.difficulty]?X+f(re.name,re.difficulty)/(re.partySize||1):X},0)},0),ae=l.reduce((K,T)=>K+(T.bosses||[]).reduce((H,I)=>H+f(I.name,I.difficulty)/(I.partySize||1),0),0),M=l.map((K,T)=>{const H=`${(K==null?void 0:K.name)||""}-${T}`,I=(K==null?void 0:K.bosses)||[],X=I.filter(te=>{var _e;return(_e=s[H])==null?void 0:_e[te.name+"-"+te.difficulty]}).length,re=I.length,ie=I.reduce((te,_e)=>{var he;return(he=s[H])!=null&&he[_e.name+"-"+_e.difficulty]?te+Math.ceil(f(_e.name,_e.difficulty)/(_e.partySize||1)):te},0);return{name:K.name,cleared:X,total:re,allCleared:re>0&&X===re,left:re-X,idx:T,totalMeso:ie}}),Y=A?M.filter(K=>!K.allCleared):M,F=ue.length>0;return S?h.jsxs("div",{className:"App dark",style:{padding:"2rem",color:"#e6e0ff",fontSize:"1.2rem",textAlign:"center"},children:[h.jsx("div",{style:{color:"#ff6b6b",marginBottom:"1rem"},children:S}),h.jsx("button",{onClick:()=>_(null),style:{marginRight:"1rem"},children:"Try Again"})]}):l.length?h.jsxs("div",{className:"App dark",style:{},children:[p&&h.jsx(Cx,{startPosition:p.startPosition,endPosition:p.endPosition,onComplete:()=>y(null)}),h.jsxs("div",{style:{display:"flex",maxWidth:1200,margin:"0 auto",width:"100%",minHeight:"100vh",boxSizing:"border-box"},children:[h.jsx(Rx,{sidebarVisible:m,isHistoricalWeek:N.isHistoricalWeek,totalMeso:xe,obtainableMeso:ae,selectedWeekKey:N.selectedWeekKey,hideCompleted:A,setHideCompleted:q,visibleCharSummaries:Y,selectedCharIdx:b,setSelectedCharIdx:x,isReadOnlyMode:N.isReadOnlyMode,setPurgeTargetCharacter:G.setPurgeTargetCharacter,setShowCharacterPurgeConfirm:G.setShowCharacterPurgeConfirm}),h.jsx(Ax,{sidebarVisible:m,setSidebarVisible:g}),h.jsx("div",{className:"weekly-tracker-main fade-in",children:h.jsxs("div",{style:{maxWidth:900,margin:"0 auto",padding:"2rem",width:"100%"},children:[h.jsx("div",{style:{textAlign:"center",marginBottom:"2rem"},children:h.jsx("h2",{style:{fontWeight:700,fontSize:"2rem",marginBottom:"0.5rem"},children:"Weekly Boss Tracker"})}),h.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:h.jsx(kx,{selectedWeekKey:N.selectedWeekKey,onWeekChange:ne,availableWeeks:N.availableWeeks,isReadOnlyMode:N.isReadOnlyMode,isHistoricalWeek:N.isHistoricalWeek,historicalAnalysis:N.historicalAnalysis,characters:l,checked:s,selectedCharIdx:b,totalMeso:xe,obtainableMeso:ae,charSummaries:M})}),h.jsx(Ox,{isHistoricalWeek:N.isHistoricalWeek,isReadOnlyMode:N.isReadOnlyMode,readOnlyOverride:N.readOnlyOverride,setReadOnlyOverride:N.setReadOnlyOverride}),F&&h.jsxs("div",{children:[!N.isHistoricalWeek&&h.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,marginBottom:24},children:h.jsx("button",{onClick:ee.handleTickAll,disabled:N.isReadOnlyMode,style:{padding:"0.5rem 1.2rem",borderRadius:6,background:N.isReadOnlyMode?"#4a4a4a":"#805ad5",color:"#fff",fontWeight:600,cursor:N.isReadOnlyMode?"not-allowed":"pointer",opacity:N.isReadOnlyMode?.5:1,border:"1px solid #9f7aea"},children:ue.every(K=>{var T;return(T=s[me])==null?void 0:T[K.name+"-"+K.difficulty]})&&ue.length>0?"Untick All":"Tick All"})}),h.jsx(Nx,{isHistoricalWeek:N.isHistoricalWeek,characters:l,selectedCharIdx:b,charBosses:ue,sortedBosses:oe,bossData:r,checked:s,setChecked:i,charKey:me,getBossPrice:f,isReadOnlyMode:N.isReadOnlyMode,pitchedChecked:J.pitchedChecked,setPitchedChecked:J.setPitchedChecked,weekKey:N.selectedWeekKey,handleCheck:ee.handleCheck,refreshCheckedStateFromDatabase:ee.refreshCheckedStateFromDatabase,userInteractionRef:J.userInteractionRef,userCode:c,savePitchedItem:uu,removeManyPitchedItems:vl,setError:_,startStatsTrackingIfNeeded:G.startStatsTrackingIfNeeded,setHistoricalPitchedData:G.setHistoricalPitchedData,setShowHistoricalPitchedModal:G.setShowHistoricalPitchedModal,readOnlyOverride:N.readOnlyOverride,loadingPitchedItems:J.loadingPitchedItems,setLoadingPitchedItems:J.setLoadingPitchedItems,refreshPitchedItems:J.refreshPitchedItems,refreshHistoricalAnalysis:N.refreshHistoricalAnalysis})]}),h.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:12,marginTop:"2rem"},children:h.jsx("button",{style:{background:"linear-gradient(135deg, #805ad5, #9f7aea)",color:"#fff",border:"none",borderRadius:12,padding:"0.8rem 2.5rem",fontWeight:700,fontSize:"1.1em",cursor:"pointer",width:"100%",maxWidth:320,boxShadow:"0 4px 12px rgba(128, 90, 213, 0.4)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},onClick:()=>G.setShowStats(!0),children:"View Stats"})})]})}),h.jsx(Ux,{showStats:G.showStats,setShowStats:G.setShowStats,allYears:G.allYears,selectedYear:G.selectedYear,setSelectedYear:G.setSelectedYear,yearlyPitchedSummary:G.yearlyPitchedSummary,isLoadingCloudStats:G.isLoadingCloudStats,setPitchedModalItem:G.setPitchedModalItem,setShowPitchedModal:G.setShowPitchedModal,setShowStatsResetConfirm:G.setShowStatsResetConfirm}),h.jsx(Mx,{showStatsResetConfirm:G.showStatsResetConfirm,setShowStatsResetConfirm:G.setShowStatsResetConfirm,onConfirm:()=>G.handleStatsReset(_)}),h.jsx(zx,{showCharacterPurgeConfirm:G.showCharacterPurgeConfirm,setShowCharacterPurgeConfirm:G.setShowCharacterPurgeConfirm,purgeTargetCharacter:G.purgeTargetCharacter,purgeInProgress:G.purgeInProgress,onConfirm:()=>G.handleCharacterPurge(J.pitchedChecked,J.setPitchedChecked,N.selectedWeekKey,J.userInteractionRef,_)}),h.jsx(Lx,{resetSuccessVisible:G.resetSuccessVisible,closeResetSuccess:G.closeResetSuccess,purgeSuccess:G.purgeSuccess,setPurgeSuccess:G.setPurgeSuccess}),h.jsx(Bx,{showPitchedModal:G.showPitchedModal,setShowPitchedModal:G.setShowPitchedModal,pitchedModalItem:G.pitchedModalItem,pitchedModalDetails:G.pitchedModalDetails}),G.showHistoricalPitchedModal&&G.historicalPitchedData&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.96)",zIndex:6e3,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>G.setShowHistoricalPitchedModal(!1),children:h.jsx(jx,{data:G.historicalPitchedData,characters:l,onClose:()=>G.setShowHistoricalPitchedModal(!1),onConfirm:async(K,T)=>{try{console.log("🏛️ Historical pitched item logging:",{character:T,boss:G.historicalPitchedData.bossName,item:G.historicalPitchedData.itemName,date:K,weekKey:G.historicalPitchedData.weekKey});const H=l.findIndex(X=>X.name===T);if(H===-1){_("Selected character not found");return}const I=await uu(c,{character:T,characterIdx:H,bossName:G.historicalPitchedData.bossName,itemName:G.historicalPitchedData.itemName,itemImage:G.historicalPitchedData.itemImage,date:K},!1,G.historicalPitchedData.weekKey);if(I.success){console.log("✅ Historical pitched item saved successfully");const{getPitchedKey:X}=await dt(async()=>{const{getPitchedKey:ie}=await Promise.resolve().then(()=>Dx);return{getPitchedKey:ie}},void 0),re=X(T,H,G.historicalPitchedData.bossName,G.historicalPitchedData.itemName,G.historicalPitchedData.weekKey);J.setPitchedChecked(ie=>({...ie,[re]:!0})),await J.refreshPitchedItems(c),await N.refreshHistoricalAnalysis(),G.setShowHistoricalPitchedModal(!1)}else console.error("❌ Failed to save historical pitched item:",I.error),_("Failed to save historical pitched item: "+(I.error||"Unknown error"))}catch(H){console.error("❌ Error in historical pitched item save:",H),_("Error saving historical pitched item: "+H.message)}}})})]})]}):h.jsxs("div",{className:"App dark",style:{padding:"2rem",color:"#e6e0ff",fontSize:"1.2rem",textAlign:"center"},children:[h.jsx("div",{style:{opacity:R?1:0,transition:"opacity 0.5s ease-in-out",animation:R?"fadeInMessage 0.5s ease-in-out":"none"},children:"No characters found. Go back and add a character first."}),h.jsx("style",{children:`
            @keyframes fadeInMessage {
              from {
                opacity: 0;
                transform: translateY(10px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
          `})]})}function Gx(){const{navigate:l}=Tl(),{userCode:r,isLoggedIn:s,handleDeleteAccount:i}=Fa(),{characters:c,checked:u,setChecked:f,fullUserData:m,weekKey:g,preservingCheckedStateRef:p}=Gm(),[y,b]=E.useState(!1),[x,S]=E.useState(!1),[_,R]=E.useState(""),[j,D]=E.useState(!1);if(!s)return l("/login",{replace:!0}),null;const C=async()=>{D(!0),R("");try{const A=await i();A.success?(S(!1),l("/login",{replace:!0})):R(A.error)}catch(A){R("Failed to delete account. Try again."),console.error("Delete error:",A)}finally{D(!1)}};return h.jsxs("div",{className:"page-container",children:[h.jsx(Cu,{currentPage:"weeklytracker",onShowHelp:()=>b(!0),onShowDeleteConfirm:()=>S(!0)}),h.jsx(_l,{children:h.jsx(Yx,{characters:c,bossData:En,checked:u,setChecked:f,userCode:r,fullUserData:m,weekKey:g,preservingCheckedStateRef:p})}),y&&h.jsx("div",{className:"modal-backdrop",onClick:()=>b(!1),children:h.jsxs("div",{className:"modal-fade modal-content",onClick:A=>A.stopPropagation(),children:[h.jsx("button",{onClick:()=>b(!1),className:"modal-close-btn",title:"Close",children:"×"}),h.jsx("h2",{className:"modal-title",children:"Help & FAQ"}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Weekly Tracker"}),h.jsx("p",{children:"Track your weekly boss completion progress and earnings"}),h.jsx("p",{children:"Check off bosses as you complete them to see your progress"}),h.jsx("p",{children:"Use the navigation arrows to view different weeks"})]}),h.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[h.jsx("h3",{className:"modal-section-title",children:"Features"}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Progress tracking:"})," Visual progress bars and completion status"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Week navigation:"})," Navigate between weeks to view historical data"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Hide completed:"})," Toggle to hide characters with all bosses completed"]}),h.jsxs("p",{children:["• ",h.jsx("strong",{children:"Reset timer:"})," See when the weekly reset occurs"]})]}),h.jsxs("div",{className:"modal-section-content",children:[h.jsx("h3",{className:"modal-section-title",children:"Quick Tips"}),h.jsx("p",{children:"• Weekly reset happens every Thursday at 00:00 UTC"}),h.jsx("p",{children:"• Check off bosses as you complete them throughout the week"}),h.jsx("p",{children:'• Use "Tick All" to quickly mark all bosses as completed for a character'})]})]})}),x&&h.jsx("div",{className:"modal-backdrop modal-backdrop-critical",onClick:()=>S(!1),children:h.jsxs("div",{className:"modal-fade modal-content-critical",onClick:A=>A.stopPropagation(),children:[h.jsx("div",{className:"critical-modal-icon",children:h.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("h2",{className:"critical-modal-title",children:"Delete Account"}),h.jsx("div",{className:"critical-modal-warning",children:h.jsxs("p",{children:[h.jsx("strong",{children:"This will permanently delete your account and all associated data."}),h.jsx("br",{}),"This action cannot be undone."]})}),h.jsxs("div",{className:"modal-button-container",children:[h.jsx("button",{onClick:()=>S(!1),disabled:j,className:"modal-btn-cancel",children:"Cancel"}),h.jsxs("button",{onClick:C,disabled:j,className:"modal-btn-critical",children:[j&&h.jsx("div",{className:"loading-spinner"}),j?"Deleting...":"Delete Forever"]})]}),_&&h.jsx("div",{className:"modal-error-message",children:_})]})})]})}class Wx extends E.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Error caught by boundary:",r,s)}render(){return this.state.hasError?h.jsxs("div",{className:"App dark error-container",children:[h.jsx("h1",{className:"error-page-title",children:"Something went wrong"}),h.jsx("p",{className:"error-page-description",children:"An unexpected error occurred. Please try refreshing the page."}),h.jsx("button",{onClick:()=>window.location.reload(),className:"error-refresh-btn",children:"Refresh Page"})]}):this.props.children}}function Kx(){return h.jsxs("div",{className:"App dark not-found-container",children:[h.jsx("h1",{className:"not-found-title",children:"404"}),h.jsx("h2",{className:"not-found-subtitle",children:"Page Not Found"}),h.jsx("p",{className:"not-found-description",children:"The page you're looking for doesn't exist. It might have been moved or deleted."}),h.jsx(bu,{to:"/",replace:!0})]})}function Zc({children:l}){const{isLoggedIn:r}=Fa();return r?l:h.jsx(bu,{to:"/login",replace:!0})}function Vx(){const{isLoggedIn:l}=Fa();return ix(),h.jsx(Wx,{children:h.jsx("div",{className:"App dark",children:h.jsx(_l,{children:h.jsxs(bv,{children:[h.jsx(wr,{path:"/login",element:l?h.jsx(bu,{to:"/",replace:!0}):h.jsx(lx,{})}),h.jsx(wr,{path:"/",element:h.jsx(Zc,{children:h.jsx(bx,{})})}),h.jsx(wr,{path:"/weeklytracker",element:h.jsx(Zc,{children:h.jsx(Gx,{})})}),h.jsx(wr,{path:"/bosstable",element:h.jsx(Zc,{children:h.jsx(xx,{})})}),h.jsx(wr,{path:"*",element:h.jsx(Kx,{})})]})})})})}document.body.classList.add("dark");Cy.createRoot(document.getElementById("root")).render(h.jsx(E.StrictMode,{children:h.jsx(Yv,{children:h.jsx(Vx,{})})}));export{_x as e,lm as g,Tx as i,h as j,E as r};
