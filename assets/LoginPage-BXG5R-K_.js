import{j as t}from"./vendor-ui-aK89YfOw.js";import{u as I,r as a}from"./vendor-router-Cg8TMqY4.js";import{u as Y}from"./index-BiUE5Mhp.js";import"./vendor-react-eWEExxYH.js";import"./vendor-supabase-B7S7y5aO.js";function F(){const p=I(),{isLoggedIn:f,loginInput:o,setLoginInput:x,isCreating:n,createCooldown:r,showPassword:i,setShowPassword:k,handleCreateAccount:S,handleLogin:m}=Y(),[b,h]=a.useState(!1),[l,d]=a.useState(!1),[c,C]=a.useState(""),[s,u]=a.useState(8),[g,y]=a.useState(!1),w=async()=>{(await m()).success?p("/",{replace:!0}):d(!1)},v=()=>{d(!1),u(8)};if(a.useEffect(()=>{let e;return l&&s>0?e=setTimeout(()=>u(s-1),1e3):l&&s===0&&w(),()=>clearTimeout(e)},[l,s,c,f]),a.useEffect(()=>{if(g){const e=setTimeout(()=>y(!1),2e3);return()=>clearTimeout(e)}},[g]),f)return null;const T=async()=>{const e=await S();e.success&&e.code&&(C(e.code),x(e.code),d(!0),u(8))},j=async()=>{(await m()).success&&p("/",{replace:!0})},M=e=>{e.key==="Enter"&&o.trim()&&j()},z=async()=>{try{await navigator.clipboard.writeText(c),y(!0)}catch(e){console.error("Failed to copy to clipboard:",e)}};return t.jsxs("div",{style:{padding:"2rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",width:"100%"},children:[t.jsx("h1",{style:{fontWeight:700,fontSize:"2.2rem",marginBottom:"1.5rem"},children:"Maplestory Boss Crystal Calculator"}),t.jsxs("div",{style:{background:"#2d2540",borderRadius:10,padding:"2rem",boxShadow:"0 2px 8px rgba(40, 20, 60, 0.18)",minWidth:320,display:"flex",flexDirection:"column",gap:16,alignItems:"center"},children:[t.jsx("button",{onClick:T,disabled:n||r>0,style:{background:n||r>0?"#6b46c1":"#a259f7",color:"#fff",border:"none",borderRadius:6,padding:"0.7rem 1.5rem",fontWeight:700,fontSize:"1.1rem",marginBottom:8,opacity:n||r>0?.6:1,cursor:n||r>0?"not-allowed":"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:n||r>0?"none":"0 2px 8px rgba(162, 89, 247, 0.3)",transform:"translateY(0)",width:"100%"},onMouseOver:e=>{n||r>0||(e.currentTarget.style.background="#b470ff",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.4)")},onMouseOut:e=>{n||r>0||(e.currentTarget.style.background="#a259f7",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(162, 89, 247, 0.3)")},onMouseDown:e=>{n||r>0||(e.currentTarget.style.transform="translateY(1px)",e.currentTarget.style.boxShadow="0 1px 4px rgba(162, 89, 247, 0.2)")},onMouseUp:e=>{n||r>0||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.4)")},children:n?"Creating Account...":r>0?`Creating Account (${r})`:"Create Account"}),t.jsxs("div",{style:{width:"100%",textAlign:"center",color:"#b39ddb",fontSize:"1.2rem",fontWeight:700,margin:"16px 0",display:"flex",alignItems:"center",gap:12},children:[t.jsx("span",{style:{flex:1,height:1,background:"#3a335a"}}),t.jsx("span",{style:{fontSize:"1.2em",fontWeight:700},children:"or"}),t.jsx("span",{style:{flex:1,height:1,background:"#3a335a"}})]}),t.jsxs("div",{style:{position:"relative",width:"100%",marginBottom:8},children:[t.jsx("input",{type:i?"text":"password",value:o,onChange:e=>x(e.target.value.toUpperCase()),onKeyDown:M,placeholder:"Enter your code",onFocus:()=>h(!0),onBlur:()=>h(!1),style:{background:"#3a335a",color:"#e6e0ff",border:b?"2px solid #a259f7":"1.5px solid #2d2540",borderRadius:6,padding:"0.5rem 1rem",fontSize:"1.1rem",width:"100%",boxSizing:"border-box",outline:"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:b?"0 0 0 3px rgba(162, 89, 247, 0.1), 0 0 20px rgba(162, 89, 247, 0.1)":"none",paddingRight:"3rem"}}),t.jsx("button",{type:"button",onClick:()=>k(!i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",color:"#b39ddb",cursor:"pointer",padding:"0.3rem",display:"flex",alignItems:"center",justifyContent:"center"},title:i?"Hide code":"Show code",children:i?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),t.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),t.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),t.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]})})]}),t.jsx("button",{onClick:j,disabled:!o.trim(),style:{background:o.trim()?"#6b46c1":"#4a4570",color:"#fff",border:"none",borderRadius:6,padding:"0.7rem 1.5rem",fontWeight:700,fontSize:"1.1rem",cursor:o.trim()?"pointer":"not-allowed",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:o.trim()?"0 2px 8px rgba(107, 70, 193, 0.3)":"none",transform:"translateY(0)",width:"100%"},onMouseOver:e=>{o.trim()&&(e.currentTarget.style.background="#805ad5",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(107, 70, 193, 0.4)")},onMouseOut:e=>{o.trim()&&(e.currentTarget.style.background="#6b46c1",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(107, 70, 193, 0.3)")},onMouseDown:e=>{o.trim()&&(e.currentTarget.style.transform="translateY(1px)",e.currentTarget.style.boxShadow="0 1px 4px rgba(107, 70, 193, 0.2)")},onMouseUp:e=>{o.trim()&&(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(107, 70, 193, 0.4)")},children:"Login"})]}),l&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},children:t.jsxs("div",{style:{background:"#2d2540",padding:"2rem",borderRadius:12,textAlign:"center",boxShadow:"0 5px 25px rgba(0,0,0,0.3)",width:"90%",maxWidth:420,border:"1px solid #4a3b73",animation:"modalFadeIn 0.3s ease-out, modalSlideIn 0.4s ease-out"},children:[t.jsx("h2",{style:{fontSize:"1.8rem",color:"#a259f7",marginBottom:"1rem",fontWeight:700},children:"Account Created!"}),t.jsx("p",{style:{marginBottom:"1rem",fontSize:"1rem",color:"#e6e0ff"},children:"Your unique login code is:"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",background:"#3a335a",padding:"0.7rem 1rem",borderRadius:6,marginBottom:"1.5rem",border:"1px solid #4a3b73"},children:[t.jsx("span",{style:{fontSize:"1.4rem",fontWeight:"bold",color:"#f0e6ff",letterSpacing:"1.5px",fontFamily:'"Roboto Mono", monospace'},children:c}),t.jsx("button",{onClick:z,title:"Copy Code",style:{background:"transparent",border:"none",cursor:"pointer",color:"#a259f7",padding:"0.3rem"},children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),t.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),g&&t.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"#a259f7",color:"#fff",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.9rem",boxShadow:"0 2px 10px rgba(162, 89, 247, 0.4)",animation:"toastFadeInOut 2s ease-in-out forwards"},children:"Code Copied!"}),t.jsx("p",{style:{fontSize:"0.9rem",color:"#b39ddb",marginBottom:"0.5rem"},children:"Please save this code. It's the only way to access your data."}),t.jsxs("p",{style:{fontSize:"1rem",color:"#e6e0ff",marginBottom:"1.5rem"},children:["Logging you in automatically in: ",t.jsx("strong",{style:{color:"#a259f7"},children:s}),"s"]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[t.jsx("button",{onClick:w,style:{background:"#a259f7",color:"#fff",border:"none",borderRadius:6,padding:"0.6rem 1.2rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",transition:"background 0.2s",flex:1},onMouseOver:e=>e.currentTarget.style.background="#b470ff",onMouseOut:e=>e.currentTarget.style.background="#a259f7",children:"Login Now"}),t.jsx("button",{onClick:v,style:{background:"#4a3b73",color:"#e6e0ff",border:"none",borderRadius:6,padding:"0.6rem 1.2rem",fontWeight:600,fontSize:"1rem",cursor:"pointer",transition:"background 0.2s",flex:1},onMouseOver:e=>e.currentTarget.style.background="#5a4b83",onMouseOut:e=>e.currentTarget.style.background="#4a3b73",children:"Close"})]})]})}),t.jsx("style",{children:`
        @keyframes modalFadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes modalSlideIn {
          from { transform: translateY(20px) scale(0.95); opacity: 0.6; }
          to { transform: translateY(0) scale(1); opacity: 1; }
        }
        @keyframes toastFadeInOut {
          0% { opacity: 0; transform: translateY(10px) translateX(-50%); }
          10% { opacity: 1; transform: translateY(0) translateX(-50%); }
          90% { opacity: 1; transform: translateY(0) translateX(-50%); }
          100% { opacity: 0; transform: translateY(10px) translateX(-50%); }
        }
      `})]})}export{F as default};
