import{j as e}from"./vendor-ui-DqxmAIBo.js";import{r as t}from"./vendor-router-BPn28yDh.js";import{u as f,V as u}from"./index-CiClp0FW.js";import{u as g,N,b as v}from"./Navbar-Dj_w0RSM.js";import"./vendor-react-eWEExxYH.js";import"./vendor-supabase-B7S7y5aO.js";function S(){const{navigate:n}=g(),{isLoggedIn:m,handleDeleteAccount:b}=f(),[p,r]=t.useState(!1),[x,c]=t.useState(!1),[d,o]=t.useState(""),[i,h]=t.useState(!1);if(!m)return n("/login",{replace:!0}),null;const j=async()=>{h(!0),o("");try{const a=await b();a.success?(c(!1),n("/login",{replace:!0})):o(a.error)}catch(a){o("Failed to delete account. Try again."),console.error("Delete error:",a)}finally{h(!1)}};return e.jsxs("div",{className:"page-container",children:[e.jsx(N,{currentPage:"bosstable",onShowHelp:()=>r(!0),onShowDeleteConfirm:()=>c(!0)}),e.jsx(u,{children:e.jsxs("div",{className:"premium-content-container fade-in",children:[e.jsx("h2",{className:"page-title-secondary",children:"Boss Crystal Price Table"}),e.jsxs("div",{className:"boss-table-wrapper",children:[e.jsx("div",{className:"boss-table-header-container",children:e.jsx("table",{className:"boss-price-table boss-table-header",children:e.jsx("thead",{children:e.jsxs("tr",{className:"boss-table-header",children:[e.jsx("th",{className:"boss-price-table-header-cell",children:"Boss"}),e.jsx("th",{className:"boss-price-table-header-cell-difficulty",children:"Difficulty"}),e.jsx("th",{className:"boss-price-table-header-cell-price",children:"Mesos"})]})})})}),e.jsx("div",{className:"boss-table-body-container",children:e.jsx("table",{className:"boss-price-table boss-table-body",children:e.jsx("tbody",{children:(()=>{const a=v.flatMap(s=>s.difficulties.map(l=>({boss:s,difficulty:l.difficulty,price:l.price})));return a.sort((s,l)=>l.price-s.price),a.map((s,l)=>e.jsxs("tr",{className:l%2===0?"boss-table-row-even":"boss-table-row-odd",children:[e.jsxs("td",{className:"boss-price-table-name-cell",children:[s.boss.image&&e.jsx("img",{src:s.boss.image,alt:s.boss.name,className:"boss-price-table-image"}),e.jsx("span",{className:"boss-price-table-name-text",children:s.boss.name})]}),e.jsx("td",{className:"boss-price-table-difficulty-cell",children:e.jsx("span",{className:"boss-price-table-difficulty-text",children:s.difficulty})}),e.jsx("td",{className:"boss-price-table-price-cell",children:e.jsx("span",{className:"boss-price-table-price-text",children:s.price.toLocaleString()})})]},s.boss.name+"-"+s.difficulty))})()})})})]})]})}),p&&e.jsx("div",{className:"modal-backdrop",onClick:()=>r(!1),children:e.jsxs("div",{className:"modal-fade modal-content",onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>r(!1),className:"modal-close-btn",title:"Close",children:"×"}),e.jsx("h2",{className:"modal-title",children:"Help & FAQ"}),e.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[e.jsx("h3",{className:"modal-section-title",children:"Boss Price Table"}),e.jsx("p",{children:"This table shows all bosses sorted by crystal value (highest to lowest)"}),e.jsx("p",{children:"Use this to plan which bosses give the most mesos for your time"}),e.jsx("p",{children:"Crystal prices are based on current market rates"})]}),e.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[e.jsx("h3",{className:"modal-section-title",children:"Navigation"}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Calculator:"})," Main page for character and boss management"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Weekly Tracker:"})," Track your weekly boss completion progress"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Boss Table:"})," This page - reference for all boss crystal values"]})]}),e.jsxs("div",{className:"modal-section-content",children:[e.jsx("h3",{className:"modal-section-title",children:"Quick Tips"}),e.jsx("p",{children:"• Higher difficulty bosses generally give more mesos"}),e.jsx("p",{children:"• Party size affects mesos earned (displayed values are for solo)"}),e.jsx("p",{children:"• Use this table when deciding which bosses to prioritize"})]})]})}),x&&e.jsx("div",{className:"modal-backdrop modal-backdrop-critical",onClick:()=>c(!1),children:e.jsxs("div",{className:"modal-fade modal-content-critical",onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"critical-modal-icon",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h2",{className:"critical-modal-title",children:"Delete Account"}),e.jsx("div",{className:"critical-modal-warning",children:e.jsxs("p",{children:[e.jsx("strong",{children:"This will permanently delete your account and all associated data."}),e.jsx("br",{}),"This action cannot be undone."]})}),e.jsxs("div",{className:"modal-button-container",children:[e.jsx("button",{onClick:()=>c(!1),disabled:i,className:"modal-btn-cancel",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:i,className:"modal-btn-critical",children:[i&&e.jsx("div",{className:"loading-spinner"}),i?"Deleting...":"Delete Forever"]})]}),d&&e.jsx("div",{className:"modal-error-message",children:d})]})})]})}export{S as default};
