const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DataBackup-toUekG02.js","assets/vendor-ui-DqxmAIBo.js","assets/vendor-router-BPn28yDh.js","assets/vendor-react-eWEExxYH.js","assets/pitched-data-service-DakwJg1R.js","assets/vendor-supabase-B7S7y5aO.js","assets/Navbar-BskAcVTS.js","assets/index-zLOzDAOP.js","assets/index-C9_Ifi-v.css"])))=>i.map(i=>d[i]);
import{_ as V}from"./vendor-supabase-B7S7y5aO.js";import{j as e}from"./vendor-ui-DqxmAIBo.js";import{r as v}from"./vendor-router-BPn28yDh.js";import{L as X,u as ue,V as pe}from"./index-zLOzDAOP.js";import{g as $,u as xe,N as be,b as he}from"./Navbar-BskAcVTS.js";import{C as me,u as fe}from"./CustomCheckbox-DBl3wuq7.js";import"./vendor-react-eWEExxYH.js";function ye(){const[a,u]=v.useState(()=>{const f=localStorage.getItem("boss-presets");return f?JSON.parse(f):[]}),[d,o]=v.useState(""),[c,r]=v.useState(""),[b,h]=v.useState(!1),[n,k]=v.useState({}),i=f=>{u(f),localStorage.setItem("boss-presets",JSON.stringify(f))};return{presets:a,newPresetName:d,setNewPresetName:o,presetError:c,setPresetError:r,presetCreationMode:b,setPresetCreationMode:h,presetBosses:n,setPresetBosses:k,createPreset:(f,p,w)=>{if(!d.trim()){r("Please enter a preset name");return}if(a.some(j=>j.name.toLowerCase()===d.toLowerCase())){r("A preset with this name already exists");return}let t=[];if(b){if(Object.keys(n).length===0){r("Please select at least one boss");return}t=Object.entries(n).map(([j,B])=>({name:j,difficulty:B,partySize:1,price:0}))}else{if(f===null||!p[f]){r("Please select a character first");return}const j=p[f];if(!j.bosses||j.bosses.length===0){r("Selected character has no bosses configured");return}t=[...j.bosses]}const l={id:Date.now(),name:d.trim(),bosses:t,createdAt:new Date().toISOString()};i([...a,l]),o(""),r(""),k({}),h(!1)},applyPreset:(f,p,w,t)=>{if(p===null||!w[p]){r("Please select a character first"),setTimeout(()=>r(""),3e3);return}const l=f.bosses.map(j=>({...j}));t(p,l),r("")},deletePreset:f=>{const p=a.filter(w=>w.id!==f);i(p)},handlePresetBossSelect:(f,p)=>{if(n[f])if(n[f]===p){const w={...n};delete w[f],k(w)}else k({...n,[f]:p});else k({...n,[f]:p});r("")}}}function je(){const[a,u]=v.useState({}),[d,o]=v.useState("");return{quickSelectBosses:a,setQuickSelectBosses:u,quickSelectError:d,setQuickSelectError:o,handleQuickSelectBoss:(h,n)=>{const k=Object.keys(a).length;if(a[h])if(a[h]===n){const i={...a};delete i[h],u(i)}else u({...a,[h]:n});else{if(k>=14){o("Maximum 14 bosses can be selected"),setTimeout(()=>o(""),3e3);return}u({...a,[h]:n})}o("")},applyQuickSelection:(h,n,k)=>{if(h===null||!n[h]){o("Please select a character first"),setTimeout(()=>o(""),3e3);return}const i=Object.entries(a).map(([g,s])=>({name:g,difficulty:s,partySize:1}));k(h,i),u({}),o("")},resetQuickSelection:()=>{u({}),o("")}}}function A({children:a,text:u,position:d="top"}){const[o,c]=v.useState(!1);return e.jsxs("span",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onFocus:()=>c(!0),onBlur:()=>c(!1),tabIndex:0,children:[a,o&&e.jsx("span",{style:{position:"absolute",[d]:"120%",left:"50%",transform:"translateX(-50%)",background:"#2d2540",color:"#fff",padding:"6px 12px",borderRadius:6,fontSize:"0.95em",whiteSpace:"nowrap",zIndex:9999,boxShadow:"0 2px 8px #0004",pointerEvents:"none",opacity:.95},children:u})]})}function ke({onExport:a,onImport:u,onShowPresets:d,onShowQuickSelect:o,fileInputRef:c}){return e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"2rem",flexWrap:"wrap"},children:[e.jsx(A,{text:"Export all character data as a backup file",children:e.jsxs("button",{onClick:a,style:{background:"#805ad5",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:r=>{r.currentTarget.style.background="#9f7aea",r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 16px rgba(128, 90, 213, 0.4)"},onMouseOut:r=>{r.currentTarget.style.background="#805ad5",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Backup Data"]})}),e.jsx(A,{text:"Import character data from a backup file",children:e.jsxs("button",{onClick:()=>{var r;return(r=c.current)==null?void 0:r.click()},style:{background:"#a259f7",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:r=>{r.currentTarget.style.background="#b470ff",r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.4)"},onMouseOut:r=>{r.currentTarget.style.background="#a259f7",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Restore Backup"]})}),e.jsx(A,{text:"Create and manage boss configuration presets",children:e.jsxs("button",{onClick:d,style:{background:"#38a169",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:r=>{r.currentTarget.style.background="#48bb78",r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 16px rgba(56, 161, 105, 0.4)"},onMouseOut:r=>{r.currentTarget.style.background="#38a169",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("path",{d:"M20.4 14.5L16 10 4 20"})]}),"Presets"]})}),e.jsx(A,{text:"Quick select up to 14 bosses sorted by highest price",children:e.jsxs("button",{onClick:o,style:{background:"#f56565",color:"#fff",border:"none",borderRadius:"6px",padding:"0.5rem 1.2rem",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)"},onMouseOver:r=>{r.currentTarget.style.background="#fc8181",r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 4px 16px rgba(245, 101, 101, 0.4)"},onMouseOut:r=>{r.currentTarget.style.background="#f56565",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M9 11H1l6-6 6 6"}),e.jsx("path",{d:"M9 17l3-3 3 3"}),e.jsx("path",{d:"M22 18.5V2l-5 5-5-5v16.5"})]}),"Quick Select"]})}),e.jsx("input",{type:"file",ref:c,onChange:u,accept:".json",style:{display:"none"}})]})}function we({name:a,onSave:u}){const[d,o]=v.useState(!1),[c,r]=v.useState(a),[b,h]=v.useState(!1);return d?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",marginLeft:0,marginRight:4},children:[e.jsx("input",{value:c,onChange:n=>r(n.target.value),style:{fontSize:"0.95em",borderRadius:8,border:b?"1px solid #a259f7":"1px solid #4a4370",padding:"4px 8px",marginRight:4,minWidth:80,maxWidth:120,background:"#3a335a",color:"#e6e0ff",boxShadow:b?"0 0 0 2px rgba(162, 89, 247, 0.3), 0 0 10px rgba(255, 255, 255, 0.15)":"none",transition:"all 0.25s ease",outline:"none"},autoFocus:!0,onFocus:()=>h(!0),onBlur:()=>h(!1),onKeyDown:n=>{n.key==="Enter"&&(u(c),o(!1)),n.key==="Escape"&&(o(!1),r(a))}}),e.jsx("button",{style:{background:"#a259f7",color:"#fff",border:"none",borderRadius:8,padding:"4px 8px",marginRight:4,cursor:"pointer",fontSize:"0.95em",boxShadow:"0 2px 6px rgba(162, 89, 247, 0.3)",transition:"all 0.2s ease"},onClick:()=>{u(c),o(!1)},title:"Save",onMouseOver:n=>{n.currentTarget.style.background="#b47aff",n.currentTarget.style.transform="translateY(-1px)"},onMouseOut:n=>{n.currentTarget.style.background="#a259f7",n.currentTarget.style.transform="translateY(0)"},children:"✔"}),e.jsx("button",{style:{background:"transparent",color:"#a259f7",border:"1px solid #a259f7",borderRadius:8,padding:"4px 8px",cursor:"pointer",fontSize:"0.95em",transition:"all 0.2s ease"},onClick:()=>{o(!1),r(a)},title:"Cancel",onMouseOver:n=>{n.currentTarget.style.background="rgba(162, 89, 247, 0.1)"},onMouseOut:n=>{n.currentTarget.style.background="transparent"},children:"✖"})]}):e.jsx("button",{className:"character-name-edit-btn",title:"Edit character name",onClick:()=>o(!0),style:{background:"transparent",border:"none",color:"rgb(167 142 196)",cursor:"pointer",padding:"4px",borderRadius:4},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32px",height:"32px",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M20.548 3.452a1.542 1.542 0 0 1 0 2.182l-7.636 7.636-3.273 1.091 1.091-3.273 7.636-7.636a1.542 1.542 0 0 1 2.182 0zM4 21h15a1 1 0 0 0 1-1v-8a1 1 0 0 0-2 0v7H5V6h7a1 1 0 0 0 0-2H4a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1z"})})})}function ve({characters:a,newCharName:u,setNewCharName:d,selectedCharIdx:o,cloneError:c,onCharacterChange:r,onAddCharacter:b,onUpdateCharacterName:h,onCloneCharacter:n,onRemoveCharacter:k}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"character-creation-container",children:[e.jsx("input",{type:"text",value:u,onChange:i=>d(i.target.value),placeholder:"Character name",className:"character-name-input",onKeyDown:i=>i.key==="Enter"&&b()}),e.jsx("button",{onClick:b,disabled:!u.trim()||a.length>=X.CHARACTER_CAP,className:"add-character-button",children:"Add Character"})]}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"character-management-row",children:[c&&e.jsx("div",{className:"clone-error-message",children:c}),o!==null&&a[o]&&e.jsx(we,{name:a[o].name,onSave:i=>h(o,i)}),e.jsxs("select",{value:o??"",onChange:r,className:"character-select-dropdown",children:[e.jsx("option",{value:"",children:"Select a Character"}),a.map((i,g)=>e.jsx("option",{value:g,children:i.name},g))]}),o!==null&&e.jsxs(e.Fragment,{children:[e.jsx(A,{text:"Clone this character (max 180 crystals)",children:e.jsx("button",{className:"boton-elegante clone",onClick:()=>n(o),children:"Clone"})}),e.jsx(A,{text:"Delete this character",children:e.jsx("button",{className:"boton-elegante delete",onClick:()=>k(o),children:"Delete"})})]})]}),o!==null&&a[o]&&e.jsxs("div",{className:"crystals-counter-container",children:[e.jsxs("div",{className:"crystals-counter-main",children:[e.jsx("span",{className:"crystals-counter-number",children:a.reduce((i,g)=>i+(g.bosses?g.bosses.length:0),0)}),e.jsx("span",{className:"crystals-counter-total",children:" / 180"})]}),e.jsx("div",{className:"crystals-counter-label",children:"Total Crystals"})]})]})]})}function Se({selectedCharIdx:a,characters:u,sortedBossData:d,getBossDifficulties:o,getAvailablePartySizes:c,onToggleBoss:r,onUpdatePartySize:b}){var h;return a===null||!u[a]?e.jsx("div",{className:"input-boss-empty-state",children:"Select a character to manage their bosses."}):e.jsx("div",{className:"input-boss-container",children:e.jsxs("div",{className:"input-boss-wrapper",children:[e.jsx("div",{className:"input-boss-header-container",children:e.jsx("table",{className:"input-boss-table input-boss-header",children:e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"input-boss-col-boss",children:"Boss"}),e.jsx("th",{className:"input-boss-col-difficulty",children:"Difficulty"}),e.jsx("th",{className:"input-boss-col-mesos",children:"Mesos"}),e.jsx("th",{className:"input-boss-col-controls",children:((h=u[a])==null?void 0:h.name)||"Selected Character"})]})})})}),e.jsx("div",{className:"input-boss-body-container",children:e.jsx("table",{className:"input-boss-table input-boss-body",children:e.jsx("tbody",{children:d.map((n,k)=>{var s;const i=o(n),g=(s=u[a])==null?void 0:s.bosses.find(y=>y.name===n.name);return e.jsxs("tr",{className:"input-boss-row",onClick:y=>{!y.target.closest("select")&&!y.target.closest(".checkbox-wrapper")&&!y.target.closest("input")&&(g?r(a,n.name,""):r(a,n.name,i[0]))},children:[e.jsxs("td",{className:"input-boss-cell-boss",children:[n.image&&e.jsx("img",{src:n.image,alt:n.name,loading:"lazy",className:"input-boss-img"}),e.jsx("span",{className:"input-boss-name",children:n.name})]}),e.jsx("td",{className:"input-boss-cell-difficulty",children:e.jsx("span",{className:"input-boss-difficulty-text",children:g?g.difficulty:""})}),e.jsx("td",{className:"input-boss-cell-mesos",children:e.jsx("span",{className:"input-boss-mesos-amount",children:g?Math.floor($(n,g.difficulty)/(g.partySize||1)).toLocaleString():""})}),e.jsx("td",{className:"input-boss-cell-controls",children:e.jsxs("div",{className:"input-boss-controls",children:[e.jsx(me,{checked:!!g,onChange:()=>{g?r(a,n.name,""):r(a,n.name,i[0])}}),g&&e.jsxs(e.Fragment,{children:[e.jsx("select",{className:"input-boss-difficulty-select",value:g.difficulty,onChange:y=>{r(a,n.name,y.target.value)},children:i.map(y=>e.jsx("option",{value:y,children:y},y))}),e.jsx("select",{className:"input-boss-party-select",value:g.partySize||1,onChange:y=>{b(a,n.name,g.difficulty,parseInt(y.target.value))},children:c(n.name,g.difficulty).map(y=>e.jsx("option",{value:y,children:y},y))})]})]})})]},k)})})})})]})})}function Te({show:a,onClose:u,presets:d,newPresetName:o,setNewPresetName:c,presetError:r,presetCreationMode:b,setPresetCreationMode:h,presetBosses:n,getSortedBossesByPrice:k,getBossDifficulties:i,formatPrice:g,handlePresetBossSelect:s,createPreset:y,applyPreset:P,deletePreset:f,selectedCharIdx:p,characters:w}){return a?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.95)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},onClick:u,children:e.jsxs("div",{className:"modal-fade",style:{background:"linear-gradient(145deg, #1a1730, #2d2540)",borderRadius:16,padding:"2.5rem",maxWidth:700,width:"90%",maxHeight:"90vh",overflowY:"auto",color:"#e6e0ff",boxShadow:"0 20px 60px rgba(0,0,0,0.4), 0 8px 32px rgba(162, 89, 247, 0.15)",position:"relative",border:"1px solid rgba(162, 89, 247, 0.2)"},onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:u,style:{position:"absolute",top:16,right:16,background:"transparent",color:"#fff",border:"none",fontSize:"1.5rem",cursor:"pointer",outline:"none",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",borderRadius:8},title:"Close",onMouseOver:t=>{t.currentTarget.style.background="rgba(255, 255, 255, 0.1)",t.currentTarget.style.color="#ff6b6b"},onMouseOut:t=>{t.currentTarget.style.background="transparent",t.currentTarget.style.color="#fff"},children:"×"}),e.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #a259f7, #805ad5)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 8px 32px rgba(162, 89, 247, 0.4)"},children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h2",{style:{color:"#a259f7",fontWeight:700,marginBottom:8,fontSize:"1.8rem",textAlign:"center"},children:"Boss Presets"}),e.jsx("p",{style:{textAlign:"center",marginBottom:32,color:"#b39ddb",fontSize:"1rem"},children:"Create and manage your boss configuration presets"}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(162, 89, 247, 0.15), rgba(128, 90, 213, 0.1))",border:"2px solid rgba(162, 89, 247, 0.3)",borderRadius:16,padding:"24px",marginBottom:32},children:[e.jsx("h3",{style:{color:"#d6b4ff",marginBottom:20,fontSize:"1.3rem",fontWeight:700,textAlign:"center"},children:"Create New Preset"}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:20,background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",borderRadius:12,padding:6,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx("button",{onClick:()=>h(!1),style:{flex:1,background:b?"transparent":"linear-gradient(135deg, #a259f7, #805ad5)",color:b?"#d6b4ff":"#fff",border:"none",borderRadius:8,padding:"12px 16px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:b?"none":"0 4px 16px rgba(162, 89, 247, 0.3)"},onMouseOver:t=>{b&&(t.currentTarget.style.background="rgba(162, 89, 247, 0.1)")},onMouseOut:t=>{b&&(t.currentTarget.style.background="transparent")},children:"From Current Character"}),e.jsx("button",{onClick:()=>h(!0),style:{flex:1,background:b?"linear-gradient(135deg, #a259f7, #805ad5)":"transparent",color:b?"#fff":"#d6b4ff",border:"none",borderRadius:8,padding:"12px 16px",fontWeight:600,fontSize:"0.95rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:b?"0 4px 16px rgba(162, 89, 247, 0.3)":"none"},onMouseOver:t=>{b||(t.currentTarget.style.background="rgba(162, 89, 247, 0.1)")},onMouseOut:t=>{b||(t.currentTarget.style.background="transparent")},children:"Manual Selection"})]}),b&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsxs("div",{style:{marginBottom:16,textAlign:"center",padding:"12px",background:"linear-gradient(135deg, rgba(162, 89, 247, 0.1), rgba(128, 90, 213, 0.05))",borderRadius:8,border:"1px solid rgba(162, 89, 247, 0.2)"},children:[e.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:700,color:"#a259f7",marginBottom:4},children:[Object.keys(n).length," bosses selected"]}),e.jsx("div",{style:{fontSize:"0.85rem",color:"#c4b5d4"},children:"Click on boss difficulties to add them to your preset"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,maxHeight:"250px",overflowY:"auto",padding:"8px"},children:k().map(t=>{const l=!!n[t.name],j=n[t.name],B=i(t);return e.jsxs("div",{style:{background:l?"linear-gradient(135deg, rgba(162, 89, 247, 0.2), rgba(128, 90, 213, 0.15))":"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:10,padding:"12px",border:l?"2px solid rgba(162, 89, 247, 0.5)":"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",boxShadow:l?"0 4px 16px rgba(162, 89, 247, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:12},children:[t.image&&e.jsx("img",{src:t.image,alt:t.name,style:{width:32,height:32,objectFit:"contain",borderRadius:4,background:"#fff1"}}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#e6e0ff"},children:t.name}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#b39ddb"},children:["Max: ",g(t.maxPrice)]})]})]}),e.jsx("div",{style:{display:"flex",gap:6,justifyContent:"center",flexWrap:"wrap"},children:B.map(z=>{const M=j===z,L=$(t,z);return e.jsxs("button",{onClick:()=>s(t.name,z),style:{background:M?"linear-gradient(135deg, #a259f7, #805ad5)":"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",color:M?"#fff":"#e6e0ff",border:M?"2px solid #a259f7":"2px solid rgba(255, 255, 255, 0.15)",borderRadius:6,padding:"8px 12px",cursor:"pointer",fontSize:"0.8rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"80px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"2px",boxShadow:M?"0 4px 16px rgba(162, 89, 247, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseOver:C=>{M||(C.currentTarget.style.background="linear-gradient(135deg, rgba(162, 89, 247, 0.15), rgba(128, 90, 213, 0.1))",C.currentTarget.style.borderColor="rgba(162, 89, 247, 0.4)",C.currentTarget.style.transform="translateY(-1px)",C.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.2)")},onMouseOut:C=>{M||(C.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",C.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)")},children:[e.jsx("div",{style:{fontSize:"0.85rem",fontWeight:700},children:z}),e.jsx("div",{style:{fontSize:"0.7rem",opacity:.9},children:g(L)})]},z)})})]},t.name)})})]}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{display:"block",marginBottom:8,color:"#d6b4ff",fontWeight:600,fontSize:"1rem"},children:"Preset Name"}),e.jsx("input",{type:"text",value:o,onChange:t=>c(t.target.value),placeholder:"Enter preset name...",style:{width:"100%",padding:"12px 16px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",border:"2px solid rgba(162, 89, 247, 0.3)",borderRadius:8,color:"#e6e0ff",fontSize:"1rem",outline:"none",transition:"all 0.25s ease",boxSizing:"border-box"},onFocus:t=>{t.currentTarget.style.borderColor="#a259f7",t.currentTarget.style.boxShadow="0 0 0 3px rgba(162, 89, 247, 0.15), 0 0 20px rgba(162, 89, 247, 0.1)"},onBlur:t=>{t.currentTarget.style.borderColor="rgba(162, 89, 247, 0.3)",t.currentTarget.style.boxShadow="none"}})]}),r&&e.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",borderRadius:6,padding:"8px 12px",marginBottom:16,textAlign:"center"},children:r}),e.jsxs("button",{onClick:y,style:{width:"100%",background:"linear-gradient(135deg, #a259f7, #805ad5)",color:"#fff",border:"none",borderRadius:10,padding:"14px 20px",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 4px 16px rgba(162, 89, 247, 0.3)"},onMouseOver:t=>{t.currentTarget.style.background="linear-gradient(135deg, #b470ff, #9f7aea)",t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(162, 89, 247, 0.4)"},onMouseOut:t=>{t.currentTarget.style.background="linear-gradient(135deg, #a259f7, #805ad5)",t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.3)"},children:[e.jsx("svg",{width:"20",height:"20",style:{marginRight:8,verticalAlign:"middle"},viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M12 4v16m8-8H4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})}),"Create Preset"]})]}),e.jsxs("div",{children:[e.jsxs("h3",{style:{color:"#d6b4ff",marginBottom:20,fontSize:"1.3rem",fontWeight:700,textAlign:"center"},children:["Saved Presets (",d.length,")"]}),d.length===0?e.jsx("div",{style:{textAlign:"center",color:"#9d8bbc",fontSize:"1rem",padding:"40px 20px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:12,border:"1px solid rgba(255, 255, 255, 0.1)"},children:"No presets saved yet. Create your first preset above!"}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:d.map(t=>e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(162, 89, 247, 0.1), rgba(128, 90, 213, 0.05))",borderRadius:12,padding:"18px",border:"1px solid rgba(162, 89, 247, 0.2)",transition:"all 0.2s ease",boxShadow:"0 4px 16px rgba(162, 89, 247, 0.1)"},onMouseOver:l=>{l.currentTarget.style.background="linear-gradient(135deg, rgba(162, 89, 247, 0.15), rgba(128, 90, 213, 0.08))",l.currentTarget.style.borderColor="rgba(162, 89, 247, 0.3)",l.currentTarget.style.transform="translateY(-1px)",l.currentTarget.style.boxShadow="0 6px 20px rgba(162, 89, 247, 0.15)"},onMouseOut:l=>{l.currentTarget.style.background="linear-gradient(135deg, rgba(162, 89, 247, 0.1), rgba(128, 90, 213, 0.05))",l.currentTarget.style.borderColor="rgba(162, 89, 247, 0.2)",l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow="0 4px 16px rgba(162, 89, 247, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h4",{style:{margin:0,color:"#e6e0ff",fontSize:"1.2rem",fontWeight:700},children:t.name}),e.jsx("button",{onClick:()=>f(t.id),style:{background:"linear-gradient(135deg, #ff6b6b, #ff5252)",color:"#fff",border:"none",borderRadius:6,width:32,height:32,cursor:"pointer",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(255, 107, 107, 0.3)"},title:"Delete preset",onMouseOver:l=>{l.currentTarget.style.background="linear-gradient(135deg, #ff8a80, #ff6b6b)",l.currentTarget.style.transform="scale(1.1)",l.currentTarget.style.boxShadow="0 4px 12px rgba(255, 107, 107, 0.4)"},onMouseOut:l=>{l.currentTarget.style.background="linear-gradient(135deg, #ff6b6b, #ff5252)",l.currentTarget.style.transform="scale(1)",l.currentTarget.style.boxShadow="0 2px 8px rgba(255, 107, 107, 0.3)"},children:"×"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:e.jsxs("div",{style:{color:"#b39ddb",fontSize:"0.9rem"},children:[t.bosses.length," bosses • Created ",new Date(t.createdAt).toLocaleDateString()]})}),e.jsxs("button",{onClick:()=>P(t),disabled:p===null,style:{width:"100%",background:p===null?"linear-gradient(135deg, #555, #444)":"linear-gradient(135deg, #805ad5, #6b46c1)",color:"#fff",border:"none",borderRadius:8,padding:"12px 16px",fontWeight:600,fontSize:"1rem",cursor:p===null?"not-allowed":"pointer",opacity:p===null?.5:1,transition:"all 0.2s ease",boxShadow:p!==null?"0 4px 16px rgba(128, 90, 213, 0.3)":"none"},onMouseOver:l=>{p!==null&&(l.currentTarget.style.background="linear-gradient(135deg, #9f7aea, #805ad5)",l.currentTarget.style.transform="translateY(-1px)",l.currentTarget.style.boxShadow="0 6px 20px rgba(128, 90, 213, 0.4)")},onMouseOut:l=>{p!==null&&(l.currentTarget.style.background="linear-gradient(135deg, #805ad5, #6b46c1)",l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow="0 4px 16px rgba(128, 90, 213, 0.3)")},children:["Apply to ",p!==null&&w[p]?w[p].name:"Character"]})]},t.id))})]})]})}):null}function Ce({show:a,onClose:u,quickSelectBosses:d,quickSelectError:o,getSortedBossesByPrice:c,getBossDifficulties:r,formatPrice:b,handleQuickSelectBoss:h,applyQuickSelection:n,resetQuickSelection:k,selectedCharIdx:i,characters:g}){return a?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(40,32,74,0.95)",zIndex:4e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)"},onClick:u,children:e.jsxs("div",{className:"modal-fade",style:{background:"linear-gradient(145deg, #1a1730, #2d2540)",borderRadius:16,padding:"2rem",maxWidth:600,width:"90%",maxHeight:"90vh",overflowY:"auto",color:"#e6e0ff",boxShadow:"0 20px 60px rgba(0,0,0,0.4), 0 8px 32px rgba(162, 89, 247, 0.15)",position:"relative",border:"1px solid rgba(162, 89, 247, 0.2)"},onClick:s=>s.stopPropagation(),children:[e.jsx("button",{onClick:u,style:{position:"absolute",top:16,right:16,background:"transparent",color:"#fff",border:"none",fontSize:"1.5rem",cursor:"pointer",outline:"none",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",borderRadius:8},title:"Close",onMouseOver:s=>{s.currentTarget.style.background="rgba(255, 255, 255, 0.1)",s.currentTarget.style.color="#ff6b6b"},onMouseOut:s=>{s.currentTarget.style.background="transparent",s.currentTarget.style.color="#fff"},children:"×"}),e.jsx("div",{style:{width:80,height:80,background:"linear-gradient(135deg, #00d4aa, #01b4cc)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 8px 32px rgba(0, 212, 170, 0.3)"},children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12l2 2 4-4M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h2",{style:{color:"#00d4aa",fontWeight:700,marginBottom:8,fontSize:"1.8rem",textAlign:"center"},children:"Quick Boss Selection"}),e.jsx("p",{style:{textAlign:"center",marginBottom:24,color:"#b39ddb",fontSize:"1rem"},children:"Select up to 14 bosses sorted by highest price"}),e.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(1, 180, 204, 0.1))",border:"2px solid rgba(0, 212, 170, 0.3)",borderRadius:12,padding:"16px",marginBottom:24,textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"2rem",fontWeight:700,color:"#00d4aa",marginBottom:4},children:[Object.keys(d).length," / 14"]}),e.jsx("div",{style:{fontSize:"0.9rem",color:"#c4b5d4"},children:"Bosses Selected"})]}),o&&e.jsx("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",borderRadius:6,padding:"8px 12px",marginBottom:16,textAlign:"center"},children:o}),e.jsx("div",{style:{marginBottom:24},children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16,maxHeight:"400px",overflowY:"auto",padding:"8px"},children:c().map((s,y)=>{const P=!!d[s.name],f=d[s.name],p=r(s);return e.jsxs("div",{style:{background:P?"linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(1, 180, 204, 0.1))":"linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02))",borderRadius:12,padding:"16px",border:P?"2px solid rgba(0, 212, 170, 0.4)":"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.2s ease",boxShadow:P?"0 4px 16px rgba(0, 212, 170, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,marginBottom:16},children:[e.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:700,color:"#00d4aa",minWidth:"28px",textAlign:"center"},children:["#",y+1]}),s.image&&e.jsx("img",{src:s.image,alt:s.name,style:{width:40,height:40,objectFit:"contain",borderRadius:6,background:"#fff1"}}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"1.1rem",color:"#e6e0ff"},children:s.name}),e.jsxs("div",{style:{fontSize:"0.85rem",color:"#b39ddb"},children:["Max: ",b(s.maxPrice)]})]})]}),e.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",flexWrap:"wrap"},children:p.map(w=>{const t=f===w,l=$(s,w);return e.jsxs("button",{onClick:()=>h(s.name,w),style:{background:t?"linear-gradient(135deg, #00d4aa, #01b4cc)":"linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",color:t?"#fff":"#e6e0ff",border:t?"2px solid #00d4aa":"2px solid rgba(255, 255, 255, 0.15)",borderRadius:8,padding:"12px 20px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,transition:"all 0.2s ease",minWidth:"120px",minHeight:"50px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",boxShadow:t?"0 4px 16px rgba(0, 212, 170, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseOver:j=>{t||(j.currentTarget.style.background="linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(1, 180, 204, 0.1))",j.currentTarget.style.borderColor="rgba(0, 212, 170, 0.4)",j.currentTarget.style.transform="translateY(-1px)",j.currentTarget.style.boxShadow="0 4px 16px rgba(0, 212, 170, 0.2)")},onMouseOut:j=>{t||(j.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.05))",j.currentTarget.style.borderColor="rgba(255, 255, 255, 0.15)",j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)")},children:[e.jsx("div",{style:{fontSize:"1rem",fontWeight:700},children:w}),e.jsx("div",{style:{fontSize:"0.8rem",opacity:.9},children:b(l)})]},w)})})]},s.name)})})}),e.jsxs("div",{style:{display:"flex",gap:16,justifyContent:"center"},children:[e.jsx("button",{onClick:k,style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))",color:"#e6e0ff",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:140},onMouseOver:s=>{s.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.08))",s.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)",s.currentTarget.style.transform="translateY(-1px)"},onMouseOut:s=>{s.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))",s.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)",s.currentTarget.style.transform="translateY(0)"},children:"Clear All"}),e.jsxs("button",{onClick:n,disabled:Object.keys(d).length===0||i===null,style:{background:Object.keys(d).length===0||i===null?"linear-gradient(135deg, #555, #444)":"linear-gradient(135deg, #00d4aa, #01b4cc)",color:"#fff",border:"none",borderRadius:12,padding:"0.8rem 2rem",fontWeight:700,fontSize:"1.1rem",cursor:Object.keys(d).length===0||i===null?"not-allowed":"pointer",opacity:Object.keys(d).length===0||i===null?.5:1,minWidth:140,transition:"all 0.2s ease",boxShadow:Object.keys(d).length>0&&i!==null?"0 4px 16px rgba(0, 212, 170, 0.3)":"none"},onMouseOver:s=>{Object.keys(d).length>0&&i!==null&&(s.currentTarget.style.background="linear-gradient(135deg, #00e6c0, #01c8de)",s.currentTarget.style.transform="translateY(-1px)",s.currentTarget.style.boxShadow="0 6px 20px rgba(0, 212, 170, 0.4)")},onMouseOut:s=>{Object.keys(d).length>0&&i!==null&&(s.currentTarget.style.background="linear-gradient(135deg, #00d4aa, #01b4cc)",s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 4px 16px rgba(0, 212, 170, 0.3)")},children:["Apply to ",i!==null&&g[i]?g[i].name:"Character"]})]}),i===null&&e.jsx("div",{style:{textAlign:"center",marginTop:12,fontSize:"0.85rem",color:"#9d8bbc"},children:"Please select a character first to apply the boss selection"})]})}):null}v.lazy(()=>V(()=>import("./DataBackup-toUekG02.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])));function We(){const{navigate:a}=xe(),{userCode:u,isLoggedIn:d,handleDeleteAccount:o}=ue(),{characters:c,setCharacters:r,newCharName:b,setNewCharName:h,selectedCharIdx:n,error:k,cloneError:i,setCloneError:g,showUndo:s,undoData:y,fileInputRef:P,importError:f,setImportError:p,importSuccess:w,setImportSuccess:t,sortedBossData:l,getAvailablePartySizes:j,getBossDifficulties:B,handleCharacterChange:z,addCharacter:M,removeCharacter:L,handleUndo:C,toggleBoss:Z,updateCharacterName:q,updatePartySize:ee,batchSetBosses:Q}=fe(),[te,F]=v.useState(!1),[re,E]=v.useState(!1),[J,H]=v.useState(""),[Y,K]=v.useState(!1),[ne,_]=v.useState(!1),[ae,U]=v.useState(!1),S=ye(),O=je();if(!d)return a("/login",{replace:!0}),null;const se=async()=>{try{const{exportUserData:m}=await V(async()=>{const{exportUserData:T}=await import("./pitched-data-service-DakwJg1R.js");return{exportUserData:T}},__vite__mapDeps([4,5,3,6,1,2,7,8])),x=await m(u);if(x.success){const T=JSON.stringify(x.data,null,2),R=new Blob([T],{type:"application/json"}),N=URL.createObjectURL(R),W=document.createElement("a");W.href=N,W.download=`maplestory-boss-calc-backup-${new Date().toISOString().split("T")[0]}.json`,W.click(),URL.revokeObjectURL(N),t(!0),setTimeout(()=>t(!1),3e3)}else throw new Error(x.error)}catch(m){console.error("Export error:",m),p("Failed to export data. Please try again."),setTimeout(()=>p(""),5e3)}},oe=async m=>{const x=m.target.files[0];if(!x)return;const T=new FileReader;T.onload=async R=>{try{const N=JSON.parse(R.target.result),{importUserData:W}=await V(async()=>{const{importUserData:ge}=await import("./pitched-data-service-DakwJg1R.js");return{importUserData:ge}},__vite__mapDeps([4,5,3,6,1,2,7,8])),D=await W(u,N);if(!D.success)throw new Error(D.error);t(!0),setTimeout(()=>{t(!1),window.location.reload()},2e3)}catch(N){console.error("Import error:",N),p(N.message||"Invalid data file. Please check the format and try again."),setTimeout(()=>p(""),5e3)}},T.readAsText(x)},ie=m=>{if(c.length>=X.CHARACTER_CAP){g("Cannot clone: Maximum character limit reached"),setTimeout(()=>g(""),3e3);return}const x=c[m];if(!x)return;const T=c.reduce((W,D)=>W+(D.bosses?D.bosses.length:0),0),R=x.bosses?x.bosses.length:0;if(T+R>180){g("Cannot clone: Would exceed 180 crystal limit"),setTimeout(()=>g(""),3e3);return}const N={...x,name:`${x.name} (Copy)`,bosses:[...x.bosses||[]]};r([...c,N])},le=async()=>{K(!0),H("");try{const m=await o();m.success?(E(!1),a("/login",{replace:!0})):H(m.error)}catch(m){H("Failed to delete account. Try again."),console.error("Delete error:",m)}finally{K(!1)}},I=()=>he.map(x=>{const T=Math.max(...x.difficulties.map(R=>R.price));return{...x,maxPrice:T}}).sort((x,T)=>T.maxPrice-x.maxPrice),G=m=>{if(m>=1e9){const x=m/1e9;return x>=10?`${Math.round(x)}B`:`${x.toFixed(1)}B`}else if(m>=1e6){const x=m/1e6;return x>=10?`${Math.round(x)}M`:`${x.toFixed(1)}M`}else if(m>=1e3){const x=m/1e3;return x>=10?`${Math.round(x)}K`:`${x.toFixed(1)}K`}else return m.toString()},ce=()=>{_(!1),S.setNewPresetName(""),S.setPresetError(""),S.setPresetCreationMode(!1),S.setPresetBosses({})},de=()=>{U(!1),O.setQuickSelectBosses({}),O.setQuickSelectError("")};return e.jsxs("div",{className:"page-container",children:[e.jsx(be,{currentPage:"calculator",onShowHelp:()=>F(!0),onShowDeleteConfirm:()=>E(!0)}),e.jsxs("div",{className:"page-header-container fade-in",children:[e.jsxs("div",{className:"crystal-images-container",children:[e.jsx("img",{src:"/bosses/crystal.png",alt:"Crystal"}),e.jsx("img",{src:"/bosses/bluecrystal.png",alt:"Blue Crystal"}),e.jsx("img",{src:"/bosses/yellowcrystal.png",alt:"Yellow Crystal"})]}),e.jsx("h1",{className:"page-title-main",children:"Character & Boss Configuration"}),e.jsx("p",{className:"page-description",children:"Create characters, configure boss difficulties and party sizes for your weekly runs!"}),e.jsx(ke,{onExport:se,onImport:oe,onShowPresets:()=>_(!0),onShowQuickSelect:()=>U(!0),fileInputRef:P})]}),f&&e.jsx("div",{className:"error-message-container",children:f}),w&&e.jsx("div",{className:"success-message-container",children:"Data backup operation successful!"}),e.jsx(pe,{children:e.jsxs("div",{className:"table-container premium-content-container input-page-container fade-in",children:[k&&e.jsx("div",{className:"character-error-message",children:k}),e.jsx(ve,{characters:c,newCharName:b,setNewCharName:h,selectedCharIdx:n,cloneError:i,onCharacterChange:z,onAddCharacter:M,onUpdateCharacterName:q,onCloneCharacter:ie,onRemoveCharacter:L}),c.length===0?e.jsxs("div",{className:"empty-state-message",children:[e.jsx("span",{role:"img","aria-label":"sparkles",children:"✨"})," Welcome! Add your first character to get started."]}):e.jsx(Se,{selectedCharIdx:n,characters:c,sortedBossData:l,getBossDifficulties:B,getAvailablePartySizes:j,onToggleBoss:Z,onUpdatePartySize:ee})]})}),s&&y&&e.jsxs("div",{className:"undo-snackbar",children:["Character deleted.",e.jsx("button",{onClick:C,className:"undo-btn",children:"Undo"})]}),te&&e.jsx("div",{className:"modal-backdrop",onClick:()=>F(!1),children:e.jsxs("div",{className:"modal-fade modal-content",onClick:m=>m.stopPropagation(),children:[e.jsx("button",{onClick:()=>F(!1),className:"modal-close-btn",title:"Close",children:"×"}),e.jsx("h2",{className:"modal-title",children:"Help & FAQ"}),e.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[e.jsx("h3",{className:"modal-section-title",children:"Getting Started"}),e.jsx("p",{children:"1. Create an account or log in with your existing code"}),e.jsx("p",{children:"2. Add characters using the input field at the top"}),e.jsx("p",{children:"3. Select a character and choose their bosses & difficulties"}),e.jsx("p",{children:"4. Head to Weekly Tracker to mark completions and track pitched items!"})]}),e.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[e.jsx("h3",{className:"modal-section-title",children:"Boss Selection"}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Smart presets:"})," Use Quick Select or save custom presets for easy setup"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Party sizes:"})," Adjust party size for each boss to calculate split mesos"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Clone characters:"})," Copy a character's entire boss setup instantly"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Difficulty matters:"})," Higher difficulties = more mesos and pitched items"]})]}),e.jsxs("div",{className:"modal-section-content",style:{marginBottom:24},children:[e.jsx("h3",{className:"modal-section-title",children:"Data Management"}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Auto-save:"})," All changes are automatically saved to the cloud"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Export/Import:"})," Backup your data or transfer between devices"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Smart cleanup:"})," Changing boss selections automatically cleans up old tracking data"]})]}),e.jsxs("div",{className:"modal-section-content",children:[e.jsx("h3",{className:"modal-section-title",children:"Quick Tips"}),e.jsx("p",{children:"• Click anywhere on a boss row to toggle selection"}),e.jsx("p",{children:"• Use presets to quickly set up multiple characters with similar boss lists"}),e.jsx("p",{children:"• Your account code is your login - keep it safe!"}),e.jsx("p",{children:"• Check out the Boss Table page to see which bosses give the most mesos"})]})]})}),re&&e.jsx("div",{className:"modal-backdrop modal-backdrop-critical",onClick:()=>E(!1),children:e.jsxs("div",{className:"modal-fade modal-content-critical",onClick:m=>m.stopPropagation(),children:[e.jsx("div",{className:"critical-modal-icon",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h2",{className:"critical-modal-title",children:"Delete Account"}),e.jsx("div",{className:"critical-modal-warning",children:e.jsxs("p",{children:[e.jsx("strong",{children:"This will permanently delete your account and all associated data."}),e.jsx("br",{}),"This action cannot be undone."]})}),e.jsxs("div",{className:"modal-button-container",children:[e.jsx("button",{onClick:()=>E(!1),disabled:Y,className:"modal-btn-cancel",children:"Cancel"}),e.jsxs("button",{onClick:le,disabled:Y,className:"modal-btn-critical",children:[Y&&e.jsx("div",{className:"loading-spinner"}),Y?"Deleting...":"Delete Forever"]})]}),J&&e.jsx("div",{className:"modal-error-message",children:J})]})}),e.jsx(Te,{show:ne,onClose:ce,presets:S.presets,newPresetName:S.newPresetName,setNewPresetName:S.setNewPresetName,presetError:S.presetError,presetCreationMode:S.presetCreationMode,setPresetCreationMode:S.setPresetCreationMode,presetBosses:S.presetBosses,getSortedBossesByPrice:I,getBossDifficulties:B,formatPrice:G,handlePresetBossSelect:S.handlePresetBossSelect,createPreset:()=>S.createPreset(n,c,Q),applyPreset:m=>{S.applyPreset(m,n,c,Q),_(!1)},deletePreset:S.deletePreset,selectedCharIdx:n,characters:c}),e.jsx(Ce,{show:ae,onClose:de,quickSelectBosses:O.quickSelectBosses,quickSelectError:O.quickSelectError,getSortedBossesByPrice:I,getBossDifficulties:B,formatPrice:G,handleQuickSelectBoss:O.handleQuickSelectBoss,applyQuickSelection:()=>{O.applyQuickSelection(n,c,Q),U(!1)},resetQuickSelection:O.resetQuickSelection,selectedCharIdx:n,characters:c}),e.jsx("style",{jsx:!0,children:`
        @keyframes modalFadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: scale(0.8) translateY(20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }
      `})]})}export{We as default};
