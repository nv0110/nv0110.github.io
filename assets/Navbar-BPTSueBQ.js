import{j as e}from"./vendor-ui-CuB_UNaH.js";import{u as k,a as j,c as N}from"./index-DF_U5-Pv.js";import{r,u as C,b as y}from"./vendor-router-JN-2l_OL.js";import{getTimeUntilReset as v}from"./weekUtils-k0JY5ujR.js";function T(){const[s,n]=r.useTransition(),i=C();return{navigate:(a,u={})=>{n(()=>{i(a,u)})},isPending:s}}function w({children:s,text:n,position:i="top"}){const[o,a]=r.useState(!1);return e.jsxs("span",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onFocus:()=>a(!0),onBlur:()=>a(!1),tabIndex:0,children:[s,o&&e.jsx("span",{style:{position:"absolute",[i]:"120%",left:"50%",transform:"translateX(-50%)",background:"#2d2540",color:"#fff",padding:"6px 12px",borderRadius:6,fontSize:"0.95em",whiteSpace:"nowrap",zIndex:9999,boxShadow:"0 2px 8px #0004",pointerEvents:"none",opacity:.95},children:n})]})}function I({onShowHelp:s,onShowDeleteConfirm:n}){const{userCode:i,handleLogout:o}=k(),{navigate:a}=T(),u=y(),{characterBossSelections:c}=j(),{lastUpdate:b}=N(),[h,m]=r.useState(!1);r.useEffect(()=>{console.log("Navbar: Checking character count after update",b);const t=(c==null?void 0:c.length)||0;m(t>0)},[c,b]);const[l,x]=r.useState(v());r.useEffect(()=>{const t=setInterval(()=>{x(v())},1e3);return()=>clearInterval(t)},[]);const p=async()=>{await o()},f=()=>{n&&n()},g=()=>{s&&s()},d=(t=>t==="/"?"calculator":t==="/weeklytracker"?"weeklytracker":t==="/bosstable"?"bosstable":"calculator")(u.pathname);return e.jsx("div",{className:"navbar-container",children:e.jsxs("div",{className:"navbar-content",children:[e.jsxs("div",{className:"navbar-left",children:[l&&e.jsxs("div",{className:"navbar-timer",children:[e.jsx("div",{className:"navbar-timer-label",children:"Reset:"}),e.jsxs("div",{className:"navbar-timer-countdown",children:[e.jsxs("span",{children:[l.days,"D"]}),e.jsxs("span",{children:[l.hours,"H"]}),e.jsxs("span",{children:[l.minutes,"M"]})]})]}),e.jsxs("div",{className:"navbar-usercode",children:["ID: ",i]})]}),e.jsxs("div",{className:"navbar-navigation",children:[e.jsx("button",{onClick:()=>a("/"),className:`navbar-nav-btn ${d==="calculator"?"active":""}`,title:"Character & Boss Configuration",children:"Boss Config"}),h?e.jsx("button",{onClick:()=>a("/weeklytracker"),className:`navbar-nav-btn ${d==="weeklytracker"?"active":""}`,title:"Weekly Boss Progress Tracker",children:"Weekly Tracker"}):e.jsx(w,{text:"You need to create at least one character first",children:e.jsx("button",{className:"navbar-nav-btn disabled",disabled:!0,children:"Weekly Tracker"})}),e.jsx("button",{onClick:()=>a("/bosstable"),className:`navbar-nav-btn ${d==="bosstable"?"active":""}`,title:"Boss Crystal Price Reference",children:"Boss Table"})]}),e.jsxs("div",{className:"navbar-actions",children:[e.jsx("button",{onClick:p,className:"navbar-btn logout",children:"Logout"}),e.jsx("button",{onClick:f,className:"navbar-btn delete",children:"Delete Account"}),e.jsx("button",{onClick:g,className:"navbar-btn help",title:"Help & FAQ",children:"Help"})]})]})})}export{I as N,w as T,T as u};
